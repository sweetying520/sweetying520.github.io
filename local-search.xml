<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Android APT ç³»åˆ— ï¼ˆå››ï¼‰ï¼šAPT å®æˆ˜åº”ç”¨</title>
    <link href="/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9AAPT%20%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/"/>
    <url>/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9AAPT%20%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101948272.jpeg" alt="lesly-juarez-uR7DBrAa4HE-unsplash"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¯¹ APT æŠ€æœ¯è¿›è¡Œäº†è®²è§£ï¼Œè¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/6978500975770206239">Android APT ç³»åˆ— ï¼ˆä¸‰ï¼‰ï¼šAPT æŠ€æœ¯æ¢ç©¶</a>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ APT æŠ€æœ¯æ¥è¿›è¡Œå®æˆ˜åº”ç”¨ã€‚</p><p><a href="https://github.com/sweetying520/AptDemo">Github Demo åœ°å€</a> , å¤§å®¶å¯ä»¥çœ‹ Demo è·Ÿéšæˆ‘çš„æ€è·¯ä¸€èµ·åˆ†æ</p><h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p>åœ¨æœ¬ç³»åˆ—çš„å¼€ç¯‡ï¼Œæˆ‘è®²äº†åœ¨é¡¹ç›®å®è·µè¿‡ç¨‹ä¸­åšçš„ä¸€ä¸ªå¸ƒå±€ä¼˜åŒ–ï¼ŒAndroid ä¸­å°‘é‡çš„ç³»ç»Ÿæ§ä»¶æ˜¯é€šè¿‡ <code>new</code> çš„æ–¹å¼åˆ›å»ºå‡ºæ¥çš„ï¼Œè€Œå¤§éƒ¨åˆ†æ§ä»¶å¦‚ <code>androidx.appcompat.widget</code> ä¸‹çš„æ§ä»¶ï¼Œè‡ªå®šä¹‰æ§ä»¶ï¼Œç¬¬ä¸‰æ–¹æ§ä»¶ç­‰ç­‰ï¼Œéƒ½æ˜¯é€šè¿‡åå°„åˆ›å»ºçš„ã€‚å¤§é‡çš„åå°„åˆ›å»ºå¤šå¤šå°‘å°‘ä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å»è§£å†³åå°„åˆ›å»ºçš„é—®é¢˜ï¼Œæˆ‘çš„è§£å†³æ€è·¯æ˜¯ï¼š</p><blockquote><p>1ã€é€šè¿‡ç¼–å†™ Android æ’ä»¶è·å– Xml å¸ƒå±€ä¸­çš„æ‰€æœ‰æ§ä»¶ </p><p>2ã€æ‹¿åˆ°æ§ä»¶åï¼Œé€šè¿‡ APT ç”Ÿæˆç”¨ <code>new</code> çš„æ–¹å¼åˆ›å»º View çš„ç±» </p><p>3ã€æœ€åé€šè¿‡åå°„è·å–å½“å‰ç±»å¹¶åœ¨åŸºç±»é‡Œé¢å®Œæˆæ›¿æ¢</p></blockquote><h2 id="ä¸€ã€å‡†å¤‡-Android-æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶"><a href="#ä¸€ã€å‡†å¤‡-Android-æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶" class="headerlink" title="ä¸€ã€å‡†å¤‡ Android æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶"></a>ä¸€ã€å‡†å¤‡ Android æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶</h2><p>å…¶ä¸­ 1 çš„å…·ä½“æµç¨‹æ˜¯ï¼šé€šè¿‡ Android æ’ä»¶è·å–æ‰€æœ‰ Xml å¸ƒå±€ä¸­çš„æ§ä»¶åç§°ï¼Œå¹¶å†™å…¥åˆ°ä¸€ä¸ª<code>.txt</code>æ–‡ä»¶ä¸­ï¼Œå›  Gradle ç³»åˆ—è¿˜æ²¡è®²ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰çš„æ§ä»¶åç§°å·²ç»å†™å…¥åˆ°<code>.txt</code>æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d18efb79eeed4538b4ac115e272c36f5~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210629191446005"></p><p>ä¸Šè¿°æ–‡ä»¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š</p><p>1ã€ä¸€äº›ä¸å¸¦ <code>.</code> çš„ç³»ç»Ÿæ§ä»¶ï¼Œå¦‚ TextViewï¼ŒImageView ã€‚ç³»ç»Ÿä¼šé»˜è®¤ç»™æˆ‘ä»¬é€šè¿‡ <code>new</code> çš„æ–¹å¼å»åˆ›å»ºï¼Œä¸”æ›¿æ¢ä¸ºäº†<code>androidx.appcompat.widget</code>åŒ…ä¸‹çš„æ§ä»¶ï¼Œä¾‹å¦‚ï¼šTextView -&gt; AppCompatTextView ï¼ŒImageView -&gt; AppCompatImageView </p><p>2ã€å¸¦ <code>.</code> çš„æ§ä»¶ã€‚å¯èƒ½ä¸º <code>androidx.appcompat.widget</code> ä¸‹çš„æ§ä»¶ï¼Œè‡ªå®šä¹‰æ§ä»¶ï¼Œç¬¬ä¸‰æ–¹æ§ä»¶ç­‰ç­‰ï¼Œè¿™äº›æ§ä»¶å¦‚æœæˆ‘ä»¬ä¸åšå¤„ç†ï¼Œç³»ç»Ÿä¼šé€šè¿‡åå°„å»åˆ›å»ºã€‚å› æ­¤æˆ‘ä»¬ä¸»è¦æ˜¯é’ˆå¯¹è¿™äº›æ§ä»¶å»åšå¤„ç†</p><p><strong>æ³¨æ„</strong>ï¼šæˆ‘è¿™é‡Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ª <code>all_view_name.txt</code> çš„æ–‡ä»¶ï¼Œç„¶åæ”¾å…¥äº†ä¸€äº› View çš„åç§°ï¼Œè¿™é‡Œåªæ˜¯æ–¹ä¾¿æˆ‘ä»¬æ¼”ç¤ºã€‚å®é™…ä¸Šç”¨ Android æ’ä»¶å»ç”Ÿæˆçš„æ–‡ä»¶æˆ‘ä»¬ä¸€èˆ¬ä¼šæŒ‡å®šæ”¾åœ¨ app çš„ <code>/build</code>ç›®å½•ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ clean çš„æ—¶å€™å°±èƒ½é¡ºå¸¦æŠŠå®ƒç»™å¹²æ‰</p><p>ç°åœ¨ 1 å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥ 2 å’Œ 3 å°±å›åˆ°äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„ APT æµç¨‹ï¼Œæˆ‘ä»¬éœ€è¦è¯»å–è¯¥æ–‡ä»¶ï¼Œé€šè¿‡ APT ç”Ÿæˆç›¸åº”çš„ç±»ï¼Œæœ€åä½¿ç”¨è¿™ä¸ªç±»çš„åŠŸèƒ½å°± OK äº†ï¼Œè¿˜ä¸ç†Ÿæ‚‰ APT çš„ï¼Œå…ˆå»å­¦ä¹ ä¸€æ³¢ <a href="https://juejin.cn/post/6978500975770206239">ä¼ é€é—¨</a> </p><p>è¿˜æ˜¯åŸºäºä¸Šç¯‡æ–‡ç« çš„å·¥ç¨‹è¿›è¡Œå®æ“ï¼Œä¸ºäº†æ–¹ä¾¿åç»­æµç¨‹çš„è®²è§£ï¼Œæˆ‘è¿˜æ˜¯è´´å‡ºä¸Šç¯‡æ–‡ç« çš„å·¥ç¨‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9ab51732570425eaf4c8ddebe921875~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210627182425586"></p><h2 id="äºŒã€apt-annotation-æ³¨è§£ç¼–å†™"><a href="#äºŒã€apt-annotation-æ³¨è§£ç¼–å†™" class="headerlink" title="äºŒã€apt-annotation æ³¨è§£ç¼–å†™"></a>äºŒã€apt-annotation æ³¨è§£ç¼–å†™</h2><p>ç¼–å†™æ³¨è§£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.CLASS)</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ViewCreator &#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€è§„å®šç”Ÿæˆçš„ç±»æ¨¡ç‰ˆï¼Œä¸ºåç»­è‡ªåŠ¨ç”Ÿæˆä»£ç åšå‡†å¤‡"><a href="#ä¸‰ã€è§„å®šç”Ÿæˆçš„ç±»æ¨¡ç‰ˆï¼Œä¸ºåç»­è‡ªåŠ¨ç”Ÿæˆä»£ç åšå‡†å¤‡" class="headerlink" title="ä¸‰ã€è§„å®šç”Ÿæˆçš„ç±»æ¨¡ç‰ˆï¼Œä¸ºåç»­è‡ªåŠ¨ç”Ÿæˆä»£ç åšå‡†å¤‡"></a>ä¸‰ã€è§„å®šç”Ÿæˆçš„ç±»æ¨¡ç‰ˆï¼Œä¸ºåç»­è‡ªåŠ¨ç”Ÿæˆä»£ç åšå‡†å¤‡</h2><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè¿™ä¹ˆåšï¼š</p><p>1ã€å°†éœ€è¦ç”Ÿæˆçš„ç±»æ–‡ä»¶å®ç°æŸä¸ªå®šä¹‰å¥½çš„æ¥å£ï¼Œé€šè¿‡æ¥å£ä»£ç†æ¥ä½¿ç”¨</p><p>2ã€è§„å®šç”Ÿæˆçš„ Java ç±»æ¨¡ç‰ˆï¼Œæ ¹æ®æ¨¡ç‰ˆå»è¿›è¡Œç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™</p><h3 id="1ã€å°†éœ€è¦ç”Ÿæˆçš„ç±»æ–‡ä»¶å®ç°æŸä¸ªå®šä¹‰å¥½çš„æ¥å£ï¼Œé€šè¿‡æ¥å£ä»£ç†æ¥ä½¿ç”¨"><a href="#1ã€å°†éœ€è¦ç”Ÿæˆçš„ç±»æ–‡ä»¶å®ç°æŸä¸ªå®šä¹‰å¥½çš„æ¥å£ï¼Œé€šè¿‡æ¥å£ä»£ç†æ¥ä½¿ç”¨" class="headerlink" title="1ã€å°†éœ€è¦ç”Ÿæˆçš„ç±»æ–‡ä»¶å®ç°æŸä¸ªå®šä¹‰å¥½çš„æ¥å£ï¼Œé€šè¿‡æ¥å£ä»£ç†æ¥ä½¿ç”¨"></a>1ã€å°†éœ€è¦ç”Ÿæˆçš„ç±»æ–‡ä»¶å®ç°æŸä¸ªå®šä¹‰å¥½çš„æ¥å£ï¼Œé€šè¿‡æ¥å£ä»£ç†æ¥ä½¿ç”¨</h3><p>å…³äºæ¥å£ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæ”¾åˆ° <code>apt-api</code> è¿™ä¸ª Module ä¸­</p><h3 id="2ã€è§„å®šç”Ÿæˆçš„-Java-ç±»æ¨¡ç‰ˆï¼Œæ ¹æ®æ¨¡ç‰ˆå»è¿›è¡Œç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™"><a href="#2ã€è§„å®šç”Ÿæˆçš„-Java-ç±»æ¨¡ç‰ˆï¼Œæ ¹æ®æ¨¡ç‰ˆå»è¿›è¡Œç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™" class="headerlink" title="2ã€è§„å®šç”Ÿæˆçš„ Java ç±»æ¨¡ç‰ˆï¼Œæ ¹æ®æ¨¡ç‰ˆå»è¿›è¡Œç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™"></a>2ã€è§„å®šç”Ÿæˆçš„ Java ç±»æ¨¡ç‰ˆï¼Œæ ¹æ®æ¨¡ç‰ˆå»è¿›è¡Œç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™</h3><p>å‡è®¾æˆ‘ä»¬éœ€è¦ç”Ÿæˆçš„ Java ç±»æ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.dream.aptdemo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewCreatorImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IMyViewCreator</span> &#123;<br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> View <span class="hljs-title function_">createView</span><span class="hljs-params">(String name, Context context, AttributeSet attr)</span> &#123;<br>    <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">switch</span>(name) &#123;<br>      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;androidx.core.widget.NestedScrollView&quot;</span>:<br>      view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NestedScrollView</span>(context,attr);<br>      <span class="hljs-keyword">break</span>;<br>      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;androidx.constraintlayout.widget.ConstraintLayout&quot;</span>:<br>      view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConstraintLayout</span>(context,attr);<br>      <span class="hljs-keyword">break</span>;<br>      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;androidx.appcompat.widget.ButtonBarLayout&quot;</span>:<br>      view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ButtonBarLayout</span>(context,attr);<br>      <span class="hljs-keyword">break</span>;<br>        <span class="hljs-comment">//...</span><br>      <span class="hljs-keyword">default</span>:<br>      <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> view;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šé¢è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œè‡ªåŠ¨ç”Ÿæˆä»£ç é€»è¾‘çš„ç¼–å†™äº†</p><h2 id="å››ã€apt-processor-è‡ªåŠ¨ç”Ÿæˆä»£ç "><a href="#å››ã€apt-processor-è‡ªåŠ¨ç”Ÿæˆä»£ç " class="headerlink" title="å››ã€apt-processor è‡ªåŠ¨ç”Ÿæˆä»£ç "></a>å››ã€apt-processor è‡ªåŠ¨ç”Ÿæˆä»£ç </h2><p>è¿™é‡Œä½ å°±å¯¹ç€ä¸Šé¢ç»™å‡ºçš„ä»£ç æ¨¡ç‰ˆï¼Œé€šè¿‡ javapoet æ¡†æ¶ç¼–å†™ç›¸åº”çš„ä»£ç ç”Ÿæˆé€»è¾‘å³å¯ï¼Œå¯¹ <code>javapoet</code> ä¸ç†Ÿçš„èµ¶ç´§å»å­¦ä¹ ä¸€æ³¢ <a href="https://github.com/square/javapoet">ä¼ é€é—¨</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@AutoService(Processor.class)</span><br><span class="hljs-meta">@SupportedAnnotationTypes(&quot;com.dream.apt_annotation.ViewCreator&quot;)</span><br><span class="hljs-meta">@SupportedSourceVersion(SourceVersion.RELEASE_8)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewCreatorProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br><br>    <span class="hljs-comment">/**æ–‡ä»¶ç”Ÿæˆå™¨*/</span><br>    <span class="hljs-keyword">private</span> Filer mFiler;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ProcessingEnvironment processingEnv)</span> &#123;<br>        <span class="hljs-built_in">super</span>.init(processingEnv);<br>        mFiler = processingEnv.getFiler();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv)</span> &#123;<br>        <span class="hljs-comment">//ä»æ–‡ä»¶ä¸­è¯»å–æ§ä»¶åç§°ï¼Œå¹¶è½¬æ¢æˆå¯¹åº”çš„é›†åˆ</span><br>        Set&lt;String&gt; mViewNameSet = readViewNameFromFile();<br>        <span class="hljs-comment">//å¦‚æœè·å–çš„æ§ä»¶åç§°é›†åˆä¸ºç©ºï¼Œåˆ™ç»ˆæ­¢æµç¨‹</span><br>        <span class="hljs-keyword">if</span>(mViewNameSet == <span class="hljs-literal">null</span> || mViewNameSet.isEmpty())&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>      <br>        <span class="hljs-comment">//è·å–ä½¿ç”¨äº†æ³¨è§£çš„å…ƒç´ </span><br>        Set&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Element</span>&gt; elementsAnnotatedWith = roundEnv.getElementsAnnotatedWith(ViewCreator.class);<br>        <span class="hljs-keyword">for</span> (Element element : elementsAnnotatedWith) &#123;<br>            System.out.println(<span class="hljs-string">&quot;Hello &quot;</span> + element.getSimpleName() + <span class="hljs-string">&quot;, æ¬¢è¿ä½¿ç”¨ APT&quot;</span>);<br>            startGenerateCode(mViewNameSet);<br>            <span class="hljs-comment">//å¦‚æœæœ‰å¤šä¸ªåœ°æ–¹æ ‡æ³¨äº†æ³¨è§£ï¼Œæˆ‘ä»¬åªè¯»å–ç¬¬ä¸€æ¬¡çš„å°±è¡Œäº†</span><br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¼€å§‹æ‰§è¡Œç”Ÿæˆä»£ç çš„é€»è¾‘</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mViewNameSet æ§ä»¶åç§°é›†åˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startGenerateCode</span><span class="hljs-params">(Set&lt;String&gt; mViewNameSet)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å¼€å§‹ç”Ÿæˆ Java ç±»...&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;a few moment later...&quot;</span>);<br>        <span class="hljs-comment">//=================================== æ„å»ºæ–¹æ³• start ======================================</span><br>        <span class="hljs-comment">//1ã€æ„å»ºæ–¹æ³•ï¼šæ–¹æ³•åï¼Œæ³¨è§£ï¼Œä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼ï¼Œå‚æ•°</span><br><br>        <span class="hljs-type">ClassName</span> <span class="hljs-variable">viewType</span> <span class="hljs-operator">=</span> ClassName.get(<span class="hljs-string">&quot;android.view&quot;</span>,<span class="hljs-string">&quot;View&quot;</span>);<br>        MethodSpec.<span class="hljs-type">Builder</span> <span class="hljs-variable">methodBuilder</span> <span class="hljs-operator">=</span> MethodSpec<br>                <span class="hljs-comment">//æ–¹æ³•å</span><br>                .methodBuilder(<span class="hljs-string">&quot;createView&quot;</span>)<br>                <span class="hljs-comment">//æ³¨è§£</span><br>                .addAnnotation(Override.class)<br>                <span class="hljs-comment">//ä¿®é¥°ç¬¦</span><br>                .addModifiers(Modifier.PUBLIC)<br>                <span class="hljs-comment">//è¿”å›å€¼</span><br>                .returns(viewType)<br>                <span class="hljs-comment">//ç¬¬ä¸€ä¸ªå‚æ•°</span><br>                .addParameter(String.class,<span class="hljs-string">&quot;name&quot;</span>)<br>                <span class="hljs-comment">//ç¬¬äºŒä¸ªå‚æ•°</span><br>                .addParameter(ClassName.get(<span class="hljs-string">&quot;android.content&quot;</span>,<span class="hljs-string">&quot;Context&quot;</span>),<span class="hljs-string">&quot;context&quot;</span>)<br>                <span class="hljs-comment">//ç¬¬ä¸‰ä¸ªå‚æ•°</span><br>                .addParameter(ClassName.get(<span class="hljs-string">&quot;android.util&quot;</span>,<span class="hljs-string">&quot;AttributeSet&quot;</span>),<span class="hljs-string">&quot;attr&quot;</span>);<br><br>        <span class="hljs-comment">//2ã€æ„å»ºæ–¹æ³•ä½“</span><br>        methodBuilder.addStatement(<span class="hljs-string">&quot;$T view = null&quot;</span>,viewType);<br>        methodBuilder.beginControlFlow(<span class="hljs-string">&quot;switch(name)&quot;</span>);<br>        <span class="hljs-comment">//å¾ªç¯éå†æ§ä»¶åç§°é›†åˆ</span><br>        <span class="hljs-keyword">for</span> (String viewName : mViewNameSet) &#123;<br>            <span class="hljs-comment">//é’ˆå¯¹åŒ…å« . çš„æ§ä»¶åç§°è¿›è¡Œå¤„ç†</span><br>            <span class="hljs-keyword">if</span>(viewName.contains(<span class="hljs-string">&quot;.&quot;</span>))&#123;<br>                <span class="hljs-comment">//åˆ†ç¦»åŒ…åå’Œæ§ä»¶åï¼Œå¦‚ï¼šandroidx.constraintlayout.widget.ConstraintLayout</span><br>                <span class="hljs-comment">//packageNameï¼šandroidx.constraintlayout.widget</span><br>                <span class="hljs-comment">//simpleViewNameï¼šConstraintLayout</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">packageName</span> <span class="hljs-operator">=</span> viewName.substring(<span class="hljs-number">0</span>,viewName.lastIndexOf(<span class="hljs-string">&quot;.&quot;</span>));<br>                <span class="hljs-type">String</span> <span class="hljs-variable">simpleViewName</span> <span class="hljs-operator">=</span> viewName.substring(viewName.lastIndexOf(<span class="hljs-string">&quot;.&quot;</span>) + <span class="hljs-number">1</span>);<br>                <span class="hljs-type">ClassName</span> <span class="hljs-variable">returnType</span> <span class="hljs-operator">=</span> ClassName.get(packageName, simpleViewName);<br><br>                methodBuilder.addCode(<span class="hljs-string">&quot;case $S:\n&quot;</span>,viewName);<br>                methodBuilder.addStatement(<span class="hljs-string">&quot;\tview = new $T(context,attr)&quot;</span>, returnType);<br>                methodBuilder.addStatement(<span class="hljs-string">&quot;\tbreak&quot;</span>);<br>            &#125;<br>        &#125;<br>        methodBuilder.addCode(<span class="hljs-string">&quot;default:\n&quot;</span>);<br>        methodBuilder.addStatement(<span class="hljs-string">&quot;\tbreak&quot;</span>);<br>        methodBuilder.endControlFlow();<br>        methodBuilder.addStatement(<span class="hljs-string">&quot;return view&quot;</span>);<br><br>        <span class="hljs-type">MethodSpec</span> <span class="hljs-variable">createView</span> <span class="hljs-operator">=</span> methodBuilder.build();<br>        <span class="hljs-comment">//=================================== æ„å»ºæ–¹æ³• end ======================================</span><br><br>        <span class="hljs-comment">//=================================== æ„å»ºç±» start ======================================</span><br>        <span class="hljs-type">TypeSpec</span> <span class="hljs-variable">myViewCreatorImpl</span> <span class="hljs-operator">=</span> TypeSpec.classBuilder(<span class="hljs-string">&quot;MyViewCreatorImpl&quot;</span>)<br>                <span class="hljs-comment">//ç±»ä¿®é¥°ç¬¦</span><br>                .addModifiers(Modifier.PUBLIC)<br>                <span class="hljs-comment">//å®ç°æ¥å£</span><br>                .addSuperinterface(ClassName.get(<span class="hljs-string">&quot;com.dream.apt_api&quot;</span>, <span class="hljs-string">&quot;IMyViewCreator&quot;</span>))<br>                <span class="hljs-comment">//æ·»åŠ æ–¹æ³•</span><br>                .addMethod(createView)<br>                .build();<br>        <span class="hljs-comment">//=================================== æ„å»ºç±» end ========================================</span><br><br>        <span class="hljs-comment">//=================================== æŒ‡å®šåŒ…è·¯å¾„ï¼Œæ„å»ºæ–‡ä»¶ä½“ start =========================</span><br>        <span class="hljs-comment">//æŒ‡å®šç±»åŒ…è·¯å¾„</span><br>        <span class="hljs-type">JavaFile</span> <span class="hljs-variable">javaFile</span> <span class="hljs-operator">=</span> JavaFile.builder(<span class="hljs-string">&quot;com.dream.aptdemo&quot;</span>,myViewCreatorImpl).build();<br>        <span class="hljs-comment">//ç”Ÿæˆæ–‡ä»¶</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            javaFile.writeTo(mFiler);<br>            System.out.println(<span class="hljs-string">&quot;ç”ŸæˆæˆåŠŸ...&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>            System.out.println(<span class="hljs-string">&quot;ç”Ÿæˆå¤±è´¥...&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">//=================================== æŒ‡å®šåŒ…è·¯å¾„ï¼Œæ„å»ºæ–‡ä»¶ä½“ end ============================</span><br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ä»æ–‡ä»¶ä¸­è¯»å–æ§ä»¶åç§°ï¼Œå¹¶è½¬æ¢æˆå¯¹åº”çš„é›†åˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Set&lt;String&gt; <span class="hljs-title function_">readViewNameFromFile</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//è·å–å­˜å‚¨æ§ä»¶åç§°çš„æ–‡ä»¶</span><br>            <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;/Users/zhouying/AndroidStudioProjects/AptDemo/all_view_name.txt&quot;</span>);<br>            <span class="hljs-type">Properties</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>            config.load(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file));<br>            <span class="hljs-comment">//è·å–æ§ä»¶åç§°é›†åˆ</span><br>            <span class="hljs-keyword">return</span> config.stringPropertyNames();<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç”Ÿæˆä»£ç çš„é€»è¾‘å†™äº†è¯¦ç»†çš„æ³¨é‡Šï¼Œä¸»è¦å°±æ˜¯å¯¹ <code>javapoet</code> æ¡†æ¶çš„ä¸€ä¸ªåº”ç”¨</p><p>ä»£ç ç”Ÿæˆå¥½äº†ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦æä¾›ç»™ä¸Šå±‚ä½¿ç”¨</p><h2 id="äº”ã€apt-api-ä¸šåŠ¡å°è£…ä¾›ä¸Šå±‚ä½¿ç”¨"><a href="#äº”ã€apt-api-ä¸šåŠ¡å°è£…ä¾›ä¸Šå±‚ä½¿ç”¨" class="headerlink" title="äº”ã€apt-api ä¸šåŠ¡å°è£…ä¾›ä¸Šå±‚ä½¿ç”¨"></a>äº”ã€apt-api ä¸šåŠ¡å°è£…ä¾›ä¸Šå±‚ä½¿ç”¨</h2><h3 id="1ã€å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œ-apt-api-å’Œ-apt-processor-éƒ½ä¼šä½¿ç”¨åˆ°"><a href="#1ã€å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œ-apt-api-å’Œ-apt-processor-éƒ½ä¼šä½¿ç”¨åˆ°" class="headerlink" title="1ã€å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œ apt-api å’Œ apt-processor éƒ½ä¼šä½¿ç”¨åˆ°"></a>1ã€å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œ <code>apt-api</code> å’Œ <code>apt-processor</code> éƒ½ä¼šä½¿ç”¨åˆ°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IMyViewCreator</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡ new çš„æ–¹å¼åˆ›å»º View</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> name æ§ä»¶åç§°</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> context ä¸Šä¸‹æ–‡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> attributeSet å±æ€§</span><br><span class="hljs-comment">     */</span><br>    View <span class="hljs-title function_">createView</span><span class="hljs-params">(String name, Context context, AttributeSet attributeSet)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2ã€åå°„è·å–ç”Ÿæˆçš„ç±»ï¼Œæä¾›ç›¸åº”çš„ä»£ç†ç±»ä¾›ä¸Šå±‚è°ƒç”¨"><a href="#2ã€åå°„è·å–ç”Ÿæˆçš„ç±»ï¼Œæä¾›ç›¸åº”çš„ä»£ç†ç±»ä¾›ä¸Šå±‚è°ƒç”¨" class="headerlink" title="2ã€åå°„è·å–ç”Ÿæˆçš„ç±»ï¼Œæä¾›ç›¸åº”çš„ä»£ç†ç±»ä¾›ä¸Šå±‚è°ƒç”¨"></a>2ã€åå°„è·å–ç”Ÿæˆçš„ç±»ï¼Œæä¾›ç›¸åº”çš„ä»£ç†ç±»ä¾›ä¸Šå±‚è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewCreatorDelegate</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IMyViewCreator</span>&#123;<br>    <br>    <span class="hljs-keyword">private</span> IMyViewCreator mIMyViewCreator;<br>    <br>    <span class="hljs-comment">//================================== å•ä¾‹ start =====================================</span><br>    <span class="hljs-meta">@SuppressWarnings(&quot;all&quot;)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">MyViewCreatorDelegate</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// é€šè¿‡åå°„æ‹¿åˆ° Apt ç”Ÿæˆçš„ç±»</span><br>            <span class="hljs-type">Class</span> <span class="hljs-variable">aClass</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.dream.aptdemo.MyViewCreatorImpl&quot;</span>);<br>            mIMyViewCreator = (IMyViewCreator) aClass.newInstance();<br>        &#125; <span class="hljs-keyword">catch</span> (Throwable t) &#123;<br>            t.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MyViewCreatorDelegate <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Holder.MY_VIEW_CREATOR_DELEGATE;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">MyViewCreatorDelegate</span> <span class="hljs-variable">MY_VIEW_CREATOR_DELEGATE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyViewCreatorDelegate</span>();<br>    &#125;<br>    <span class="hljs-comment">//================================== å•ä¾‹ end =======================================</span><br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡ç”Ÿæˆçš„ç±»åˆ›å»º View</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> name æ§ä»¶åç§°</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> context ä¸Šä¸‹æ–‡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> attributeSet å±æ€§</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> View</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">createView</span><span class="hljs-params">(String name, Context context, AttributeSet attributeSet)</span> &#123;<br>        <span class="hljs-keyword">if</span>(mIMyViewCreator != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> mIMyViewCreator.createView(name, context, attributeSet);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬å¸ƒå±€ä¼˜åŒ–æµç¨‹å·®ä¸å¤šå°±è¦ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸Šå±‚è°ƒç”¨</p><h2 id="å…­ã€app-ä¸Šå±‚è°ƒç”¨"><a href="#å…­ã€app-ä¸Šå±‚è°ƒç”¨" class="headerlink" title="å…­ã€app ä¸Šå±‚è°ƒç”¨"></a>å…­ã€app ä¸Šå±‚è°ƒç”¨</h2><h3 id="1ã€åœ¨åˆ›å»ºçš„-MyApplication-ä¸Šæ·»åŠ æ³¨è§£"><a href="#1ã€åœ¨åˆ›å»ºçš„-MyApplication-ä¸Šæ·»åŠ æ³¨è§£" class="headerlink" title="1ã€åœ¨åˆ›å»ºçš„ MyApplication ä¸Šæ·»åŠ æ³¨è§£"></a>1ã€åœ¨åˆ›å»ºçš„ MyApplication ä¸Šæ·»åŠ æ³¨è§£</h3><p>å…³äºæ³¨è§£ä½ å¯ä»¥æ·»åŠ åœ¨å…¶ä»–åœ°æ–¹ï¼Œå› ä¸ºæˆ‘æ³¨è§£å¤„ç†å™¨é‡Œé¢åšäº†é€»è¾‘åˆ¤æ–­ï¼Œåªä¼šè¯»å–ç¬¬ä¸€æ¬¡çš„æ³¨è§£ã€‚ä¸ºäº†å¯¹åº”ï¼Œæˆ‘é€‰æ‹©æŠŠæ³¨è§£åŠ åˆ° MyApplication ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9465eb668782489b8915bce09f8c589d~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210629192519893"></p><h3 id="2ã€æœ€ååœ¨-MainActviity-ä¸­åŠ å…¥æ›¿æ¢-View-çš„é€»è¾‘"><a href="#2ã€æœ€ååœ¨-MainActviity-ä¸­åŠ å…¥æ›¿æ¢-View-çš„é€»è¾‘" class="headerlink" title="2ã€æœ€ååœ¨ MainActviity ä¸­åŠ å…¥æ›¿æ¢ View çš„é€»è¾‘"></a>2ã€æœ€ååœ¨ MainActviity ä¸­åŠ å…¥æ›¿æ¢ View çš„é€»è¾‘</h3><p>å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//...</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> &#123;<br><br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-meta">@Nullable</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> String name, <span class="hljs-meta">@NonNull</span> Context context, <span class="hljs-meta">@NonNull</span> AttributeSet attrs)</span> &#123;<br>        <span class="hljs-comment">//1ã€ä¼˜å…ˆä½¿ç”¨æˆ‘ä»¬ç”Ÿæˆçš„ç±»å»è¿›è¡Œ View çš„åˆ›å»º</span><br>        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> MyViewCreatorDelegate.getInstance().createView(name, context, attrs);<br>        <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> view;<br>        &#125;<br>        <span class="hljs-comment">//2ã€ä¸€äº›ç³»ç»Ÿçš„ View ,åˆ™èµ°ç³»ç»Ÿçš„ä¸€ä¸ªåˆ›å»ºæµç¨‹</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onCreateView(name, context, attrs);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸€èˆ¬æˆ‘ä»¬ä¼šæŠŠæ›¿æ¢ View çš„é€»è¾‘æ”¾åˆ°åŸºç±»é‡Œé¢</p><h2 id="ä¸ƒã€æ•ˆæœéªŒè¯"><a href="#ä¸ƒã€æ•ˆæœéªŒè¯" class="headerlink" title="ä¸ƒã€æ•ˆæœéªŒè¯"></a>ä¸ƒã€æ•ˆæœéªŒè¯</h2><p>è¿è¡Œé¡¹ç›®</p><p>1ã€å…ˆçœ‹ä¸‹æˆ‘ä»¬æ‰“å°çš„æ—¥å¿—ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a7e9154f8ad4ba1827f9839acd15bf7~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210629195411055"></p><p>2ã€åœ¨çœ‹ä¸€çœ¼æˆ‘ä»¬ç”Ÿæˆçš„ Java ç±»æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47cefa64ab494d6aa18ad8cafb0d28d3~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210629194711378"></p><p>3ã€æœ€å debug é¡¹ç›®è·Ÿä¸‹æµç¨‹ï¼Œå‘ç°å’Œæˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/123032d1ca3844f4959839bf46d66a80~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210629194101025"></p><p>è‡³æ­¤ï¼Œéœ€æ±‚å®Œç»“</p><h2 id="å…«ã€æ€»ç»“"><a href="#å…«ã€æ€»ç»“" class="headerlink" title="å…«ã€æ€»ç»“"></a>å…«ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« è®²çš„ä¸€äº›é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€é€šè¿‡ APT è¯»å–æ–‡ä»¶è·å–æ‰€æœ‰çš„æ§ä»¶åç§°å¹¶ç”Ÿæˆ Java ç±»</p><p>2ã€é€šè¿‡æ¥å£ä»£ç†ï¼Œåˆç†çš„ä¸šåŠ¡å°è£…æä¾›ç»™ä¸Šå±‚è°ƒç”¨</p><p>3ã€åœ¨ä¸Šå±‚ Application é‡Œé¢è¿›è¡Œæ³¨è§£ï¼Œåœ¨ Activity ä¸­è¿›è¡Œ View æ§ä»¶çš„æ›¿æ¢</p><p>4ã€å®é™…å®Œæˆåçš„ä¸€ä¸ªæ•ˆæœéªŒè¯</p><p>å¥½äº†ï¼Œæœ¬ç³»åˆ—æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤ </p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><blockquote><p>å…¨æ–‡åˆ°æ­¤ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºå’Œè½¬å‘ï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›</p></blockquote><blockquote><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ <strong>å…¬ ä¼— å·</strong>ï¼Œå¾®ä¿¡æœç´¢ <strong>sweetying</strong> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Android</category>
      
      <category>APT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Android</tag>
      
      <tag>Android APT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android APT ç³»åˆ— ï¼ˆä¸‰ï¼‰ï¼šAPT æŠ€æœ¯æ¢ç©¶</title>
    <link href="/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9AAPT%20%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6/"/>
    <url>/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9AAPT%20%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%A9%B6/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101947271.jpeg" alt="luc-vlekken-9Y8A97opXQ4-unsplash"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¯¹æ³¨è§£è¿›è¡Œäº†è®²è§£ï¼Œè¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/6978293956450713630">Android APT ç³»åˆ— ï¼ˆäºŒï¼‰ï¼šAPT ç­‘åŸºä¹‹æ³¨è§£</a>ã€‚è‡³æ­¤ï¼Œå…³äº Apt åŸºç¡€éƒ¨åˆ†æˆ‘ä»¬éƒ½è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ­£å¼è¿›å…¥ APT æŠ€æœ¯çš„å­¦ä¹ </p><p><a href="https://github.com/sweetying520/AptDemo">Github Demo åœ°å€</a> , å¤§å®¶å¯ä»¥çœ‹ Demo è·Ÿéšæˆ‘çš„æ€è·¯ä¸€èµ·åˆ†æ</p><h2 id="ä¸€ã€APT-ä»‹ç»"><a href="#ä¸€ã€APT-ä»‹ç»" class="headerlink" title="ä¸€ã€APT ä»‹ç»"></a>ä¸€ã€APT ä»‹ç»</h2><h3 id="1ï¼‰ã€ä»€ä¹ˆæ˜¯-APT"><a href="#1ï¼‰ã€ä»€ä¹ˆæ˜¯-APT" class="headerlink" title="1ï¼‰ã€ä»€ä¹ˆæ˜¯ APT ?"></a>1ï¼‰ã€ä»€ä¹ˆæ˜¯ APT ?</h3><p>APT å…¨ç§° <code>Annotation Processing Tool</code>ï¼Œç¿»è¯‘è¿‡æ¥å³æ³¨è§£å¤„ç†å™¨ã€‚å¼•ç”¨å®˜æ–¹ä¸€æ®µå¯¹ APT çš„ä»‹ç»ï¼š<strong>APT æ˜¯ä¸€ç§å¤„ç†æ³¨é‡Šçš„å·¥å…·, å®ƒå¯¹æºä»£ç æ–‡ä»¶è¿›è¡Œæ£€æµ‹æ‰¾å‡ºå…¶ä¸­çš„æ³¨è§£ï¼Œå¹¶ä½¿ç”¨æ³¨è§£è¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚</strong></p><h3 id="2ï¼‰ã€APT-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#2ï¼‰ã€APT-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="2ï¼‰ã€APT æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>2ï¼‰ã€APT æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>APT èƒ½åœ¨ç¼–è¯‘æœŸæ ¹æ®ç¼–è¯‘é˜¶æ®µæ³¨è§£ï¼Œç»™æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œç®€åŒ–ä½¿ç”¨ã€‚å¾ˆå¤šæµè¡Œæ¡†æ¶éƒ½ä½¿ç”¨åˆ°äº† APT æŠ€æœ¯ï¼Œå¦‚ ButterKnifeï¼ŒRetrofitï¼ŒArouterï¼ŒEventBus ç­‰ç­‰</p><h2 id="äºŒã€APT-å·¥ç¨‹"><a href="#äºŒã€APT-å·¥ç¨‹" class="headerlink" title="äºŒã€APT å·¥ç¨‹"></a>äºŒã€APT å·¥ç¨‹</h2><h3 id="1ï¼‰ã€APT-å·¥ç¨‹åˆ›å»º"><a href="#1ï¼‰ã€APT-å·¥ç¨‹åˆ›å»º" class="headerlink" title="1ï¼‰ã€APT å·¥ç¨‹åˆ›å»º"></a>1ï¼‰ã€APT å·¥ç¨‹åˆ›å»º</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒAPT å¤§è‡´çš„çš„ä¸€ä¸ªå®ç°è¿‡ç¨‹ï¼š</p><p>1ã€åˆ›å»ºä¸€ä¸ª <code>Java Module</code> ï¼Œç”¨æ¥ç¼–å†™æ³¨è§£</p><p>2ã€åˆ›å»ºä¸€ä¸ª <code>Java Module</code> ï¼Œç”¨æ¥è¯»å–æ³¨è§£ä¿¡æ¯ï¼Œå¹¶æ ¹æ®æŒ‡å®šè§„åˆ™ï¼Œç”Ÿæˆç›¸åº”çš„ç±»æ–‡ä»¶</p><p>3ã€åˆ›å»ºä¸€ä¸ª <code>Android Module</code> ï¼Œé€šè¿‡åå°„è·å–ç”Ÿæˆçš„ç±»ï¼Œè¿›è¡Œåˆç†çš„å°è£…ï¼Œæä¾›ç»™ä¸Šå±‚è°ƒç”¨</p><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4415046ff7434044bc7959dd77d21358~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210627182425586"></p><p>è¿™æ˜¯æˆ‘çš„ APT å·¥ç¨‹ï¼Œå…³äº Module åç§°å¯ä»¥ä»»æ„å–ï¼ŒæŒ‰ç…§æˆ‘ä¸Šé¢è¯´çš„è§„åˆ™å»è¿›è¡Œå°±å¥½äº†</p><h3 id="2ï¼‰ã€Module-ä¾èµ–"><a href="#2ï¼‰ã€Module-ä¾èµ–" class="headerlink" title="2ï¼‰ã€Module ä¾èµ–"></a>2ï¼‰ã€Module ä¾èµ–</h3><p>å·¥ç¨‹åˆ›å»ºå¥½åï¼Œæˆ‘ä»¬å°±éœ€è¦ç†æ¸…æ¥šå„ä¸ª Module ä¹‹é—´çš„ä¸€ä¸ªä¾èµ–å…³ç³»ï¼š</p><p>1ã€å› ä¸º <code>apt-processor</code> è¦è¯»å– <code>apt-annotation</code> çš„æ³¨è§£ï¼Œæ‰€ä»¥ <code>apt-processor</code> éœ€è¦ä¾èµ– <code>apt-annotation</code> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//apt-processor çš„ build.gradle æ–‡ä»¶</span><br>dependencies &#123;<br>    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(path: <span class="hljs-string">&#x27;:apt-annotation&#x27;</span>)</span><br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€app ä½œä¸ºè°ƒç”¨å±‚ï¼Œä»¥ä¸Š 3 ä¸ª Module éƒ½éœ€è¦è¿›è¡Œä¾èµ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//app çš„ build.gradle æ–‡ä»¶</span><br>dependencies &#123;<br>    <span class="hljs-comment">//...</span><br>    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(path: <span class="hljs-string">&#x27;:apt-api&#x27;</span>)</span><br>    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(path: <span class="hljs-string">&#x27;:apt-annotation&#x27;</span>)</span><br>    annotationProcessor <span class="hljs-title function_">project</span><span class="hljs-params">(path: <span class="hljs-string">&#x27;:apt-processor&#x27;</span>)</span><br>&#125;<br></code></pre></td></tr></table></figure><p>APT å·¥ç¨‹é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å„ä¸ª Module è¿›è¡Œä¸€ä¸ªå…·ä½“ä»£ç çš„ç¼–å†™äº†</p><h2 id="ä¸‰ã€apt-annotation-æ³¨è§£ç¼–å†™"><a href="#ä¸‰ã€apt-annotation-æ³¨è§£ç¼–å†™" class="headerlink" title="ä¸‰ã€apt-annotation æ³¨è§£ç¼–å†™"></a>ä¸‰ã€apt-annotation æ³¨è§£ç¼–å†™</h2><p>è¿™ä¸ª Module çš„å¤„ç†ç›¸å¯¹æ¥è¯´å¾ˆç®€å•ï¼Œå°±æ˜¯ç¼–å†™ç›¸åº”çš„è‡ªå®šä¹‰æ³¨è§£å°±å¥½äº†ï¼Œæˆ‘ç¼–å†™çš„å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span><br><span class="hljs-meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> AptAnnotation &#123;<br>    String <span class="hljs-title function_">desc</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">&quot;&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€apt-processor-è‡ªåŠ¨ç”Ÿæˆä»£ç "><a href="#å››ã€apt-processor-è‡ªåŠ¨ç”Ÿæˆä»£ç " class="headerlink" title="å››ã€apt-processor è‡ªåŠ¨ç”Ÿæˆä»£ç "></a>å››ã€apt-processor è‡ªåŠ¨ç”Ÿæˆä»£ç </h2><p>è¿™ä¸ª Module ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ†ä¸ºä»¥ä¸‹ 3 ä¸ªæ­¥éª¤ï¼š</p><p>1ã€æ³¨è§£å¤„ç†å™¨å£°æ˜</p><p>2ã€æ³¨è§£å¤„ç†å™¨æ³¨å†Œ</p><p>3ã€æ³¨è§£å¤„ç†å™¨ç”Ÿæˆç±»æ–‡ä»¶</p><h3 id="1ï¼‰ã€æ³¨è§£å¤„ç†å™¨å£°æ˜"><a href="#1ï¼‰ã€æ³¨è§£å¤„ç†å™¨å£°æ˜" class="headerlink" title="1ï¼‰ã€æ³¨è§£å¤„ç†å™¨å£°æ˜"></a>1ï¼‰ã€æ³¨è§£å¤„ç†å™¨å£°æ˜</h3><h4 id="1ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œç±»åæŒ‰ç…§è‡ªå·±çš„å–œå¥½å–ï¼Œç»§æ‰¿-javax-annotation-processing-è¿™ä¸ªåŒ…ä¸‹çš„-AbstractProcessor-ç±»å¹¶å®ç°å…¶æŠ½è±¡æ–¹æ³•"><a href="#1ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œç±»åæŒ‰ç…§è‡ªå·±çš„å–œå¥½å–ï¼Œç»§æ‰¿-javax-annotation-processing-è¿™ä¸ªåŒ…ä¸‹çš„-AbstractProcessor-ç±»å¹¶å®ç°å…¶æŠ½è±¡æ–¹æ³•" class="headerlink" title="1ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œç±»åæŒ‰ç…§è‡ªå·±çš„å–œå¥½å–ï¼Œç»§æ‰¿ javax.annotation.processing è¿™ä¸ªåŒ…ä¸‹çš„ AbstractProcessor ç±»å¹¶å®ç°å…¶æŠ½è±¡æ–¹æ³•"></a>1ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œç±»åæŒ‰ç…§è‡ªå·±çš„å–œå¥½å–ï¼Œç»§æ‰¿ <code>javax.annotation.processing</code> è¿™ä¸ªåŒ…ä¸‹çš„ AbstractProcessor ç±»å¹¶å®ç°å…¶æŠ½è±¡æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AptAnnotationProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br>  <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç¼–å†™ç”Ÿæˆ Java ç±»çš„ç›¸å…³é€»è¾‘</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> set              æ”¯æŒå¤„ç†çš„æ³¨è§£é›†åˆ</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> roundEnvironment é€šè¿‡è¯¥å¯¹è±¡æŸ¥æ‰¾æŒ‡å®šæ³¨è§£ä¸‹çš„èŠ‚ç‚¹ä¿¡æ¯</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> true: è¡¨ç¤ºæ³¨è§£å·²å¤„ç†ï¼Œåç»­æ³¨è§£å¤„ç†å™¨æ— éœ€å†å¤„ç†å®ƒä»¬ï¼›false: è¡¨ç¤ºæ³¨è§£æœªå¤„ç†ï¼Œå¯èƒ½è¦æ±‚åç»­æ³¨è§£å¤„ç†å™¨å¤„ç†</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(Set&lt;? extends TypeElement&gt; set, RoundEnvironment roundEnvironment)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é‡ç‚¹çœ‹ä¸‹ç¬¬ä¸€ä¸ªå‚æ•°ä¸­çš„ TypeElement ï¼Œè¿™ä¸ªå°±æ¶‰åŠåˆ° Element çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼š</p><p><strong>Element ä»‹ç»</strong></p><p>å®é™…ä¸Šï¼ŒJava æºæ–‡ä»¶æ˜¯ä¸€ç§ç»“æ„ä½“è¯­è¨€ï¼Œæºä»£ç çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯¹åº”äº†ä¸€ä¸ªç‰¹å®šç±»å‹çš„ Element ï¼Œä¾‹å¦‚åŒ…ï¼Œç±»ï¼Œå­—æ®µï¼Œæ–¹æ³•ç­‰ç­‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.dream;         <span class="hljs-comment">// PackageElementï¼šåŒ…å…ƒç´ </span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span>&lt;T&gt; &#123;     <span class="hljs-comment">// TypeElementï¼šç±»å…ƒç´ ; å…¶ä¸­ &lt;T&gt; å±äº TypeParameterElement æ³›å‹å…ƒç´ </span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> x;         <span class="hljs-comment">// VariableElementï¼šå˜é‡ã€æšä¸¾ã€æ–¹æ³•å‚æ•°å…ƒç´ </span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Main</span><span class="hljs-params">()</span> &#123;        <span class="hljs-comment">// ExecuteableElementï¼šæ„é€ å‡½æ•°ã€æ–¹æ³•å…ƒç´ </span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Java çš„ Element æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæºç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Element</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">javax</span>.lang.model.AnnotatedConstruct &#123;<br>    <span class="hljs-comment">// è·å–å…ƒç´ çš„ç±»å‹ï¼Œå®é™…çš„å¯¹è±¡ç±»å‹</span><br>    TypeMirror <span class="hljs-title function_">asType</span><span class="hljs-params">()</span>;<br>    <span class="hljs-comment">// è·å–Elementçš„ç±»å‹ï¼Œåˆ¤æ–­æ˜¯å“ªç§Element</span><br>    ElementKind <span class="hljs-title function_">getKind</span><span class="hljs-params">()</span>;<br>    <span class="hljs-comment">// è·å–ä¿®é¥°ç¬¦ï¼Œå¦‚public static finalç­‰å…³é”®å­—</span><br>    Set&lt;Modifier&gt; <span class="hljs-title function_">getModifiers</span><span class="hljs-params">()</span>;<br>    <span class="hljs-comment">// è·å–ç±»å</span><br>    Name <span class="hljs-title function_">getSimpleName</span><span class="hljs-params">()</span>;<br>    <span class="hljs-comment">// è¿”å›åŒ…å«è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œä¸getEnclosedElements()æ–¹æ³•ç›¸å</span><br>    Element <span class="hljs-title function_">getEnclosingElement</span><span class="hljs-params">()</span>;<br>    <span class="hljs-comment">// è¿”å›è¯¥èŠ‚ç‚¹ä¸‹ç›´æ¥åŒ…å«çš„å­èŠ‚ç‚¹ï¼Œä¾‹å¦‚åŒ…èŠ‚ç‚¹ä¸‹åŒ…å«çš„ç±»èŠ‚ç‚¹</span><br>    List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Element</span>&gt; getEnclosedElements();<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span>;<br>  <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span>;<br>  <br>    <span class="hljs-meta">@Override</span><br>    List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AnnotationMirror</span>&gt; getAnnotationMirrors();<br>  <br>    <span class="hljs-comment">//è·å–æ³¨è§£</span><br>    <span class="hljs-meta">@Override</span><br>    &lt;A <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Annotation</span>&gt; A <span class="hljs-title function_">getAnnotation</span><span class="hljs-params">(Class&lt;A&gt; annotationType)</span>;<br>  <br>    &lt;R, P&gt; R <span class="hljs-title function_">accept</span><span class="hljs-params">(ElementVisitor&lt;R, P&gt; v, P p)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Element è·å–å¦‚ä¸Šä¸€äº›ä¿¡æ¯ï¼ˆå†™äº†æ³¨é‡Šçš„éƒ½æ˜¯ä¸€äº›å¸¸ç”¨çš„ï¼‰</p><p>ç”± Element è¡ç”Ÿå‡ºæ¥çš„æ‰©å±•ç±»å…±æœ‰ 5 ç§ï¼š</p><p>1ã€PackageElement è¡¨ç¤ºä¸€ä¸ªåŒ…ç¨‹åºå…ƒç´ </p><p>2ã€TypeElement è¡¨ç¤ºä¸€ä¸ªç±»æˆ–è€…æ¥å£ç¨‹åºå…ƒç´ </p><p>3ã€TypeParameterElement è¡¨ç¤ºä¸€ä¸ªæ³›å‹å…ƒç´ </p><p>4ã€VariableElement è¡¨ç¤ºä¸€ä¸ªå­—æ®µã€enum å¸¸é‡ã€æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•çš„å‚æ•°ã€å±€éƒ¨å˜é‡æˆ–å¼‚å¸¸å‚æ•°</p><p>5ã€ExecuteableElement è¡¨ç¤ºæŸä¸ªç±»æˆ–è€…æ¥å£çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–åˆå§‹åŒ–ç¨‹åºï¼ˆé™æ€æˆ–è€…å®ä¾‹ï¼‰</p><p>å¯ä»¥å‘ç°ï¼ŒElement æœ‰æ—¶ä¼šä»£è¡¨å¤šç§å…ƒç´ ï¼Œä¾‹å¦‚ TypeElement ä»£è¡¨ç±»æˆ–æ¥å£ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ element.getKind() æ¥åŒºåˆ†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">Set&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Element</span>&gt; elements = roundEnvironment.getElementsAnnotatedWith(AptAnnotation.class);<br><span class="hljs-keyword">for</span> (Element element : elements) &#123;<br>    <span class="hljs-keyword">if</span> (element.getKind() == ElementKind.CLASS) &#123;<br>        <span class="hljs-comment">// å¦‚æœå…ƒç´ æ˜¯ç±»</span><br><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (element.getKind() == ElementKind.INTERFACE) &#123;<br>        <span class="hljs-comment">// å¦‚æœå…ƒç´ æ˜¯æ¥å£</span><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ElementKind æ˜¯ä¸€ä¸ªæšä¸¾ç±»ï¼Œå®ƒçš„å–å€¼æœ‰å¾ˆå¤šï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">PACKAGE<span class="hljs-comment">//è¡¨ç¤ºåŒ…</span><br>ENUM <span class="hljs-comment">//è¡¨ç¤ºæšä¸¾</span><br>CLASS <span class="hljs-comment">//è¡¨ç¤ºç±»</span><br>ANNOTATION_TYPE<span class="hljs-comment">//è¡¨ç¤ºæ³¨è§£</span><br>INTERFACE <span class="hljs-comment">//è¡¨ç¤ºæ¥å£</span><br>ENUM_CONSTANT <span class="hljs-comment">//è¡¨ç¤ºæšä¸¾å¸¸é‡</span><br>FIELD <span class="hljs-comment">//è¡¨ç¤ºå­—æ®µ</span><br>PARAMETER <span class="hljs-comment">//è¡¨ç¤ºå‚æ•°</span><br>LOCAL_VARIABLE <span class="hljs-comment">//è¡¨ç¤ºæœ¬åœ°å˜é‡</span><br>EXCEPTION_PARAMETER <span class="hljs-comment">//è¡¨ç¤ºå¼‚å¸¸å‚æ•°</span><br>METHOD <span class="hljs-comment">//è¡¨ç¤ºæ–¹æ³•</span><br>CONSTRUCTOR <span class="hljs-comment">//è¡¨ç¤ºæ„é€ å‡½æ•°</span><br>OTHER <span class="hljs-comment">//è¡¨ç¤ºå…¶ä»–</span><br></code></pre></td></tr></table></figure><p>å…³äº Element å°±ä»‹ç»åˆ°è¿™ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹</p><h4 id="2ã€é‡å†™æ–¹æ³•è§£è¯»"><a href="#2ã€é‡å†™æ–¹æ³•è§£è¯»" class="headerlink" title="2ã€é‡å†™æ–¹æ³•è§£è¯»"></a>2ã€é‡å†™æ–¹æ³•è§£è¯»</h4><p>é™¤äº†å¿…é¡»å®ç°çš„è¿™ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é‡å†™å…¶ä»– 4 ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AptAnnotationProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br>    <span class="hljs-comment">//...</span><br>  <br>    <span class="hljs-comment">/** </span><br><span class="hljs-comment">     * èŠ‚ç‚¹å·¥å…·ç±»ï¼ˆç±»ã€å‡½æ•°ã€å±æ€§éƒ½æ˜¯èŠ‚ç‚¹ï¼‰</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Elements mElementUtils;<br><br>    <span class="hljs-comment">/** </span><br><span class="hljs-comment">     * ç±»ä¿¡æ¯å·¥å…·ç±»</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Types mTypeUtils;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ–‡ä»¶ç”Ÿæˆå™¨</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Filer mFiler;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ—¥å¿—ä¿¡æ¯æ‰“å°å™¨</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Messager mMessager;<br>  <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * åšä¸€äº›åˆå§‹åŒ–çš„å·¥ä½œ</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> processingEnvironment è¿™ä¸ªå‚æ•°æä¾›äº†è‹¥å¹²å·¥å…·ç±»ï¼Œä¾›ç¼–å†™ç”Ÿæˆ Java ç±»æ—¶æ‰€ä½¿ç”¨</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ProcessingEnvironment processingEnv)</span> &#123;<br>        <span class="hljs-built_in">super</span>.init(processingEnv);<br>        mElementUtils = processingEnv.getElementUtils();<br>        mTypeUtils = processingEnv.getTypeUtils();<br>        mFiler = processingEnv.getFiler();<br>        mMessager = processingEnv.getMessager();<br>    &#125;<br>  <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ¥æ”¶å¤–æ¥ä¼ å…¥çš„å‚æ•°ï¼Œæœ€å¸¸ç”¨çš„å½¢å¼å°±æ˜¯åœ¨ build.gradle è„šæœ¬æ–‡ä»¶é‡Œçš„ javaCompileOptions çš„é…ç½®</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å±æ€§çš„ Key é›†åˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Set&lt;String&gt; <span class="hljs-title function_">getSupportedOptions</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.getSupportedOptions();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å½“å‰æ³¨è§£å¤„ç†å™¨æ”¯æŒçš„æ³¨è§£é›†åˆï¼Œå¦‚æœæ”¯æŒï¼Œå°±ä¼šè°ƒç”¨ process æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> æ”¯æŒçš„æ³¨è§£é›†åˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Set&lt;String&gt; <span class="hljs-title function_">getSupportedAnnotationTypes</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.getSupportedAnnotationTypes();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç¼–è¯‘å½“å‰æ³¨è§£å¤„ç†å™¨çš„ JDK ç‰ˆæœ¬</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> JDK ç‰ˆæœ¬</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> SourceVersion <span class="hljs-title function_">getSupportedSourceVersion</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.getSupportedSourceVersion();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š<code>getSupportedAnnotationTypes()</code>ã€<code>getSupportedSourceVersion()</code>å’Œ<code>getSupportedOptions()</code> è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é‡‡ç”¨æ³¨è§£çš„æ–¹å¼è¿›è¡Œæä¾›ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SupportedOptions(&quot;MODULE_NAME&quot;)</span><br><span class="hljs-meta">@SupportedAnnotationTypes(&quot;com.dream.apt_annotation.AptAnnotation&quot;)</span><br><span class="hljs-meta">@SupportedSourceVersion(SourceVersion.RELEASE_8)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AptAnnotationProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€æ³¨è§£å¤„ç†å™¨æ³¨å†Œ"><a href="#2ï¼‰ã€æ³¨è§£å¤„ç†å™¨æ³¨å†Œ" class="headerlink" title="2ï¼‰ã€æ³¨è§£å¤„ç†å™¨æ³¨å†Œ"></a>2ï¼‰ã€æ³¨è§£å¤„ç†å™¨æ³¨å†Œ</h3><p>æ³¨è§£å¤„ç†å™¨å£°æ˜å¥½äº†ï¼Œä¸‹ä¸€æ­¥æˆ‘ä»¬å°±è¦æ³¨å†Œå®ƒï¼Œå…¶ä¸­æ³¨å†Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>1ã€æ‰‹åŠ¨æ³¨å†Œ</p><p>2ã€è‡ªåŠ¨æ³¨å†Œ</p><p>æ‰‹åŠ¨æ³¨å†Œæ¯”è¾ƒç¹çå›ºå®šä¸”å®¹æ˜“å‡ºé”™ï¼Œä¸æ¨èä½¿ç”¨ï¼Œè¿™é‡Œå°±ä¸è®²äº†ã€‚æˆ‘ä»¬ä¸»è¦çœ‹ä¸‹è‡ªåŠ¨æ³¨å†Œ</p><h4 id="è‡ªåŠ¨æ³¨å†Œ"><a href="#è‡ªåŠ¨æ³¨å†Œ" class="headerlink" title="è‡ªåŠ¨æ³¨å†Œ"></a>è‡ªåŠ¨æ³¨å†Œ</h4><p>1ã€é¦–å…ˆæˆ‘ä»¬è¦åœ¨ <code>apt-processor</code>è¿™ä¸ª Module ä¸‹çš„ build.gradle æ–‡ä»¶å¯¼å…¥å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">implementation <span class="hljs-string">&#x27;com.google.auto.service:auto-service:1.0-rc6&#x27;</span><br>annotationProcessor <span class="hljs-string">&#x27;com.google.auto.service:auto-service:1.0-rc6&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šè¿™ä¸¤å¥å¿…é¡»éƒ½è¦åŠ ï¼Œå¦åˆ™æ³¨å†Œä¸æˆåŠŸï¼Œæˆ‘ä¹‹å‰è¸©å‘äº†</p><p>2ã€åœ¨æ³¨è§£å¤„ç†å™¨ä¸ŠåŠ ä¸Š <code>@AutoService(Processor.class)</code> å³å¯å®Œæˆæ³¨å†Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@AutoService(Processor.class)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AptAnnotationProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰ã€æ³¨è§£å¤„ç†å™¨ç”Ÿæˆç±»æ–‡ä»¶"><a href="#3ï¼‰ã€æ³¨è§£å¤„ç†å™¨ç”Ÿæˆç±»æ–‡ä»¶" class="headerlink" title="3ï¼‰ã€æ³¨è§£å¤„ç†å™¨ç”Ÿæˆç±»æ–‡ä»¶"></a>3ï¼‰ã€æ³¨è§£å¤„ç†å™¨ç”Ÿæˆç±»æ–‡ä»¶</h3><p>æ³¨å†Œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¼ç¼–å†™ç”Ÿæˆ Java ç±»æ–‡ä»¶çš„ä»£ç äº†ï¼Œå…¶ä¸­ç”Ÿæˆä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>1ã€å¸¸è§„çš„å†™æ–‡ä»¶æ–¹å¼</p><p>2ã€é€šè¿‡ javapoet æ¡†æ¶æ¥ç¼–å†™</p><p>1 çš„æ–¹å¼æ¯”è¾ƒæ­»æ¿ï¼Œéœ€è¦æŠŠæ¯ä¸€ä¸ªå­—æ¯éƒ½å†™ä¸Šï¼Œä¸æ¨èä½¿ç”¨ï¼Œè¿™é‡Œå°±ä¸è®²äº†ã€‚æˆ‘ä»¬ä¸»è¦çœ‹ä¸‹é€šè¿‡ javapoet è¿™ä¸ªæ¡†æ¶ç”Ÿæˆ Java ç±»æ–‡ä»¶</p><h4 id="javapoet-æ–¹å¼"><a href="#javapoet-æ–¹å¼" class="headerlink" title="javapoet æ–¹å¼"></a>javapoet æ–¹å¼</h4><p>è¿™ç§æ–¹å¼æ›´åŠ ç¬¦åˆé¢å‘å¯¹è±¡ç¼–ç çš„ä¸€ä¸ªé£æ ¼ï¼Œå¯¹ javapoet è¿˜ä¸ç†Ÿçš„æœ‹å‹ï¼Œå¯ä»¥å» github ä¸Šå­¦ä¹ ä¸€æ³¢ <a href="https://github.com/square/javapoet">ä¼ é€é—¨</a>ï¼Œè¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹å®ƒå¸¸ç”¨çš„ä¸€äº›ç±»ï¼š</p><blockquote><p>TypeSpecï¼šç”¨äºç”Ÿæˆç±»ã€æ¥å£ã€æšä¸¾å¯¹è±¡çš„ç±»</p><p>MethodSpecï¼šç”¨äºç”Ÿæˆæ–¹æ³•å¯¹è±¡çš„ç±»</p><p>ParameterSpecï¼šç”¨äºç”Ÿæˆå‚æ•°å¯¹è±¡çš„ç±»</p><p>AnnotationSpecï¼šç”¨äºç”Ÿæˆæ³¨è§£å¯¹è±¡çš„ç±»</p><p>FieldSpecï¼šç”¨äºé…ç½®ç”Ÿæˆæˆå‘˜å˜é‡çš„ç±»</p><p>ClassNameï¼šé€šè¿‡åŒ…åå’Œç±»åç”Ÿæˆçš„å¯¹è±¡ï¼Œåœ¨JavaPoetä¸­ç›¸å½“äºä¸ºå…¶æŒ‡å®š Class</p><p>ParameterizedTypeNameï¼šé€šè¿‡ MainClass å’Œ IncludeClass ç”ŸæˆåŒ…å«æ³›å‹çš„ Class</p><p>JavaFileï¼šæ§åˆ¶ç”Ÿæˆçš„ Java æ–‡ä»¶çš„è¾“å‡ºçš„ç±»</p></blockquote><h5 id="1ã€å¯¼å…¥-javapoet-æ¡†æ¶ä¾èµ–"><a href="#1ã€å¯¼å…¥-javapoet-æ¡†æ¶ä¾èµ–" class="headerlink" title="1ã€å¯¼å…¥ javapoet æ¡†æ¶ä¾èµ–"></a>1ã€å¯¼å…¥ javapoet æ¡†æ¶ä¾èµ–</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">implementation <span class="hljs-string">&#x27;com.squareup:javapoet:1.13.0&#x27;</span><br></code></pre></td></tr></table></figure><h5 id="2ã€æŒ‰ç…§æŒ‡å®šä»£ç æ¨¡ç‰ˆç”Ÿæˆ-Java-ç±»æ–‡ä»¶"><a href="#2ã€æŒ‰ç…§æŒ‡å®šä»£ç æ¨¡ç‰ˆç”Ÿæˆ-Java-ç±»æ–‡ä»¶" class="headerlink" title="2ã€æŒ‰ç…§æŒ‡å®šä»£ç æ¨¡ç‰ˆç”Ÿæˆ Java ç±»æ–‡ä»¶"></a>2ã€æŒ‰ç…§æŒ‡å®šä»£ç æ¨¡ç‰ˆç”Ÿæˆ Java ç±»æ–‡ä»¶</h5><p>ä¾‹å¦‚ï¼Œæˆ‘åœ¨ app çš„ build.gradle ä¸‹è¿›è¡Œäº†å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs groovy">android &#123;<br>    <span class="hljs-comment">//...</span><br>    defaultConfig &#123;<br>        <span class="hljs-comment">//...</span><br>        javaCompileOptions &#123;<br>            annotationProcessorOptions &#123;<br>                arguments = [<span class="hljs-attr">MODULE_NAME:</span> project.getName()]<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ MainActivity ä¸‹é¢è¿›è¡Œäº†å¦‚ä¸‹æ³¨è§£ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0fcccf3c6fe64a88bb00488bb1cb9308~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210627212604288"></p><p>æˆ‘å¸Œæœ›ç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd59cb4022624f7c9c171fa22441dd99~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210627220320906"></p><p>ç°åœ¨æˆ‘ä»¬æ¥å®æ“ä¸€ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@AutoService(Processor.class)</span><br><span class="hljs-meta">@SupportedOptions(&quot;MODULE_NAME&quot;)</span><br><span class="hljs-meta">@SupportedAnnotationTypes(&quot;com.dream.apt_annotation.AptAnnotation&quot;)</span><br><span class="hljs-meta">@SupportedSourceVersion(SourceVersion.RELEASE_8)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AptAnnotationProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> &#123;<br><br>    <span class="hljs-comment">//æ–‡ä»¶ç”Ÿæˆå™¨</span><br>    Filer filer;<br>    <span class="hljs-comment">//æ¨¡å—å</span><br>    <span class="hljs-keyword">private</span> String mModuleName;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ProcessingEnvironment processingEnvironment)</span> &#123;<br>        <span class="hljs-built_in">super</span>.init(processingEnvironment);<br>      <span class="hljs-comment">//åˆå§‹åŒ–æ–‡ä»¶ç”Ÿæˆå™¨</span><br>        filer = processingEnvironment.getFiler();<br>      <span class="hljs-comment">//é€šè¿‡ key è·å– build.gradle ä¸­å¯¹åº”çš„ value</span><br>        mModuleName = processingEnv.getOptions().get(<span class="hljs-string">&quot;MODULE_NAME&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(Set&lt;? extends TypeElement&gt; set, RoundEnvironment roundEnvironment)</span> &#123;<br>        <span class="hljs-keyword">if</span> (set == <span class="hljs-literal">null</span> || set.isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>      <span class="hljs-comment">//è·å–å½“å‰æ³¨è§£ä¸‹çš„èŠ‚ç‚¹ä¿¡æ¯</span><br>        Set&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Element</span>&gt; rootElements = roundEnvironment.getElementsAnnotatedWith(AptAnnotation.class);<br><br>        <span class="hljs-comment">// æ„å»º test å‡½æ•°</span><br>        MethodSpec.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> MethodSpec.methodBuilder(<span class="hljs-string">&quot;test&quot;</span>)<br>                .addModifiers(Modifier.PUBLIC) <span class="hljs-comment">// æŒ‡å®šæ–¹æ³•ä¿®é¥°ç¬¦</span><br>                .returns(<span class="hljs-keyword">void</span>.class) <span class="hljs-comment">// æŒ‡å®šè¿”å›ç±»å‹</span><br>                .addParameter(String.class, <span class="hljs-string">&quot;param&quot;</span>); <span class="hljs-comment">// æ·»åŠ å‚æ•°</span><br>        builder.addStatement(<span class="hljs-string">&quot;$T.out.println($S)&quot;</span>, System.class, <span class="hljs-string">&quot;æ¨¡å—: &quot;</span> + mModuleName);<br><br>        <span class="hljs-keyword">if</span> (rootElements != <span class="hljs-literal">null</span> &amp;&amp; !rootElements.isEmpty()) &#123;<br>            <span class="hljs-keyword">for</span> (Element element : rootElements) &#123;<br>              <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹åç§°</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">elementName</span> <span class="hljs-operator">=</span> element.getSimpleName().toString();<br>              <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹ä¸‹æ³¨è§£çš„å±æ€§</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">desc</span> <span class="hljs-operator">=</span> element.getAnnotation(AptAnnotation.class).desc();<br>                <span class="hljs-comment">// æ„å»ºæ–¹æ³•ä½“</span><br>                builder.addStatement(<span class="hljs-string">&quot;$T.out.println($S)&quot;</span>, System.class, <br>                                     <span class="hljs-string">&quot;èŠ‚ç‚¹: &quot;</span> + elementName + <span class="hljs-string">&quot;  &quot;</span> + <span class="hljs-string">&quot;æè¿°: &quot;</span> + desc);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">MethodSpec</span> <span class="hljs-variable">main</span> <span class="hljs-operator">=</span>builder.build();<br><br>        <span class="hljs-comment">// æ„å»º HelloWorld ç±»</span><br>        <span class="hljs-type">TypeSpec</span> <span class="hljs-variable">helloWorld</span> <span class="hljs-operator">=</span> TypeSpec.classBuilder(<span class="hljs-string">&quot;HelloWorld&quot;</span>)<br>                .addModifiers(Modifier.PUBLIC) <span class="hljs-comment">// æŒ‡å®šç±»ä¿®é¥°ç¬¦</span><br>                .addMethod(main) <span class="hljs-comment">// æ·»åŠ æ–¹æ³•</span><br>                .build();<br><br>        <span class="hljs-comment">// æŒ‡å®šåŒ…è·¯å¾„ï¼Œæ„å»ºæ–‡ä»¶ä½“</span><br>        <span class="hljs-type">JavaFile</span> <span class="hljs-variable">javaFile</span> <span class="hljs-operator">=</span> JavaFile.builder(<span class="hljs-string">&quot;com.dream.aptdemo&quot;</span>, helloWorld).build();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// åˆ›å»ºæ–‡ä»¶</span><br>            javaFile.writeTo(filer);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»è¿‡ä¸Šé¢è¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬è¿è¡Œ App å°±èƒ½ç”Ÿæˆä¸Šé¢æˆªå›¾çš„ä»£ç äº†ï¼Œç°åœ¨è¿˜å·®æœ€åä¸€æ­¥ï¼Œå¯¹ç”Ÿæˆçš„ä»£ç è¿›è¡Œä½¿ç”¨</p><p><strong>æ³¨æ„</strong>ï¼šä¸åŒç‰ˆæœ¬çš„ Gradle ç”Ÿæˆçš„ç±»æ–‡ä»¶ä½ç½®å¯èƒ½ä¸ä¸€æ ·ï¼Œæˆ‘çš„ Gradle ç‰ˆæœ¬æ˜¯ 6.7.1ï¼Œç”Ÿæˆçš„ç±»æ–‡ä»¶åœ¨å¦‚ä¸‹ä½ç½®ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d51e6dd32ab4042a4d5905122b6ef43~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210627221836736"></p><p>ä¸€äº›ä½ç‰ˆæœ¬çš„ Gradle ç”Ÿæˆçš„ç±»æ–‡ä»¶åœ¨ <code>/build/generated/source</code> è¿™ä¸ªç›®å½•ä¸‹</p><h2 id="äº”ã€apt-api-è°ƒç”¨ç”Ÿæˆä»£ç å®Œæˆä¸šåŠ¡åŠŸèƒ½"><a href="#äº”ã€apt-api-è°ƒç”¨ç”Ÿæˆä»£ç å®Œæˆä¸šåŠ¡åŠŸèƒ½" class="headerlink" title="äº”ã€apt-api è°ƒç”¨ç”Ÿæˆä»£ç å®Œæˆä¸šåŠ¡åŠŸèƒ½"></a>äº”ã€apt-api è°ƒç”¨ç”Ÿæˆä»£ç å®Œæˆä¸šåŠ¡åŠŸèƒ½</h2><p>è¿™ä¸ª Module çš„æ“ä½œç›¸å¯¹æ¥è¯´ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯é€šè¿‡åå°„è·å–åˆ°ç”Ÿæˆçš„ç±»ï¼Œè¿›è¡Œç›¸åº”çš„å°è£…ä½¿ç”¨å³å¯ï¼Œæˆ‘çš„ç¼–å†™å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAptApi</span> &#123;<br><br>    <span class="hljs-meta">@SuppressWarnings(&quot;all&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Class</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.dream.aptdemo.HelloWorld&quot;</span>);<br>            <span class="hljs-type">Constructor</span> <span class="hljs-variable">declaredConstructor</span> <span class="hljs-operator">=</span> c.getDeclaredConstructor();<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> declaredConstructor.newInstance();<br>            <span class="hljs-type">Method</span> <span class="hljs-variable">test</span> <span class="hljs-operator">=</span> c.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);<br>            test.invoke(o, <span class="hljs-string">&quot;&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬åœ¨ MainActivity çš„ oncreate æ–¹æ³•é‡Œé¢è¿›è¡Œè°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@AptAnnotation(desc = &quot;æˆ‘æ˜¯ MainActivity ä¸Šé¢çš„æ³¨è§£&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> &#123;<br>  <br>    <span class="hljs-meta">@AptAnnotation(desc = &quot;æˆ‘æ˜¯ onCreate ä¸Šé¢çš„æ³¨è§£&quot;)</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br>        MyAptApi.init();<br>    &#125;<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ¨¡å—: app<br>èŠ‚ç‚¹: MainActivity  æè¿°: æˆ‘æ˜¯ MainActivity ä¸Šé¢çš„æ³¨è§£<br>èŠ‚ç‚¹: onCreate  æè¿°: æˆ‘æ˜¯ onCreate ä¸Šé¢çš„æ³¨è§£<br></code></pre></td></tr></table></figure><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« è®²çš„ä¸€äº›é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€APT å·¥ç¨‹æ‰€éœ€åˆ›å»ºçš„ä¸åŒç§ç±»çš„ Module åŠ Module ä¹‹é—´çš„ä¾èµ–å…³ç³»</p><p>2ã€Java æºæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ç§ç»“æ„ä½“è¯­è¨€ï¼Œæºä»£ç çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯¹åº”äº†ä¸€ä¸ªç‰¹å®šç±»å‹çš„ Element</p><p>3ã€é‡‡ç”¨ auto-service å¯¹æ³¨è§£å¤„ç†å™¨è¿›è¡Œè‡ªåŠ¨æ³¨å†Œ</p><p>4ã€é‡‡ç”¨ javapoet æ¡†æ¶ç¼–å†™æ‰€éœ€ç”Ÿæˆçš„ Java ç±»æ–‡ä»¶</p><p>5ã€é€šè¿‡åå°„åŠé€‚å½“çš„å°è£…ï¼Œå°†ç”Ÿæˆçš„ç±»çš„åŠŸèƒ½æä¾›ç»™ä¸Šå±‚è°ƒç”¨</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤ </p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®²æˆ‘æ˜¯å¦‚ä½•åº”ç”¨ APT æŠ€æœ¯å®ç°åå°„åˆ›å»º View çš„ä¸€ä¸ªæ›¿æ¢ï¼Œæ•¬è¯·æœŸå¾…å§ğŸ˜„</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://juejin.cn/post/6963873016220663844#comment">Androidæ³¨è§£å¤„ç†å™¨APTæŠ€æœ¯æ¢ç©¶</a></p><blockquote><p>å…¨æ–‡åˆ°æ­¤ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºå’Œè½¬å‘ï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›</p></blockquote><blockquote><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ <strong>å…¬ ä¼— å·</strong>ï¼Œå¾®ä¿¡æœç´¢ <strong>sweetying</strong> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Android</category>
      
      <category>APT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Android</tag>
      
      <tag>Android APT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android APT ç³»åˆ— ï¼ˆäºŒï¼‰ï¼šAPT ç­‘åŸºä¹‹æ³¨è§£</title>
    <link href="/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9AAPT%20%E7%AD%91%E5%9F%BA%E4%B9%8B%E6%B3%A8%E8%A7%A3/"/>
    <url>/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9AAPT%20%E7%AD%91%E5%9F%BA%E4%B9%8B%E6%B3%A8%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101947909.jpeg" alt="morning-4411421_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¯¹åå°„ä¸€äº›å¸¸ç”¨çš„çŸ¥è¯†è¿›è¡Œäº†è®²è§£ï¼Œè¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/6977679823132950536">Android APT ç³»åˆ— ï¼ˆä¸€ï¼‰ï¼šAPT ç­‘åŸºä¹‹åå°„</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹ Java æ³¨è§£</p><p><a href="https://github.com/sweetying520/AptDemo">Github Demo åœ°å€</a> , å¤§å®¶å¯ä»¥çœ‹ Demo è·Ÿéšæˆ‘çš„æ€è·¯ä¸€èµ·åˆ†æ</p><h2 id="ä¸€ã€æ³¨è§£ä»‹ç»"><a href="#ä¸€ã€æ³¨è§£ä»‹ç»" class="headerlink" title="ä¸€ã€æ³¨è§£ä»‹ç»"></a>ä¸€ã€æ³¨è§£ä»‹ç»</h2><h3 id="1ï¼‰ã€ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ"><a href="#1ï¼‰ã€ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ" class="headerlink" title="1ï¼‰ã€ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ"></a>1ï¼‰ã€ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ</h3><p>è¦è§£é‡Šæ³¨è§£æˆ‘ä»¬é¦–å…ˆè¦æ˜ç™½ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ï¼š<strong>å…ƒæ•°æ®å°±æ˜¯ä¸ºå…¶ä»–æ•°æ®æä¾›ä¿¡æ¯çš„æ•°æ®</strong></p><p>é‚£ä¹ˆè¿˜æ˜¯å¼•å…¥å®˜æ–¹ä¸€æ®µå¯¹æ³¨è§£çš„è§£é‡Šï¼š<strong>æ³¨è§£ç”¨äºä¸ºä»£ç æä¾›å…ƒæ•°æ®ã€‚ä½œä¸ºå…ƒæ•°æ®ï¼Œæ³¨è§£ä¸ç›´æ¥å½±å“ä½ çš„ä»£ç æ‰§è¡Œï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç±»å‹çš„æ³¨è§£å®é™…ä¸Šå¯ä»¥ç”¨äºè¿™ä¸€ç›®çš„ã€‚Java æ³¨è§£æ˜¯ä» JDK 1.5 å¼€å§‹æ·»åŠ åˆ° Java çš„ã€‚</strong></p><p>ç®€å•çš„ç†è§£ï¼š<strong>æ³¨è§£å°±æ˜¯é™„åŠ åˆ°ä»£ç ä¸Šçš„ä¸€ç§é¢å¤–è¡¥å……ä¿¡æ¯</strong></p><h3 id="2ï¼‰ã€æ³¨è§£æœ‰å“ªäº›ä½œç”¨ï¼Ÿ"><a href="#2ï¼‰ã€æ³¨è§£æœ‰å“ªäº›ä½œç”¨ï¼Ÿ" class="headerlink" title="2ï¼‰ã€æ³¨è§£æœ‰å“ªäº›ä½œç”¨ï¼Ÿ"></a>2ï¼‰ã€æ³¨è§£æœ‰å“ªäº›ä½œç”¨ï¼Ÿ</h3><p><strong>æºç é˜¶æ®µæ³¨è§£</strong>ï¼š ç¼–è¯‘å™¨å¯åˆ©ç”¨è¯¥é˜¶æ®µæ³¨è§£æ£€æµ‹é”™è¯¯ï¼Œæç¤ºè­¦å‘Šä¿¡æ¯ï¼Œæ‰“å°æ—¥å¿—ç­‰</p><p><strong>ç¼–è¯‘é˜¶æ®µæ³¨è§£</strong>ï¼šåˆ©ç”¨æ³¨è§£ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆä»£ç ã€æ–‡æ¡£æˆ–è€…åšå…¶å®ƒç›¸åº”çš„è‡ªåŠ¨å¤„ç†</p><p><strong>è¿è¡Œé˜¶æ®µæ³¨è§£</strong>ï¼š å¯é€šè¿‡åå°„è·å–æ³¨è§£ä¿¡æ¯ï¼Œåšç›¸åº”æ“ä½œ</p><h3 id="3ï¼‰ã€å¦‚ä½•è‡ªå®šä¹‰å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Ÿ"><a href="#3ï¼‰ã€å¦‚ä½•è‡ªå®šä¹‰å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Ÿ" class="headerlink" title="3ï¼‰ã€å¦‚ä½•è‡ªå®šä¹‰å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Ÿ"></a>3ï¼‰ã€å¦‚ä½•è‡ªå®šä¹‰å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Ÿ</h3><p>ä½¿ç”¨ <code>@interface</code> + æ³¨è§£åç§°è¿™ç§è¯­æ³•ç»“æ„å°±èƒ½å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure><p>é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€äº›å…ƒæ³¨è§£æ¥ä¿®é¥°è‡ªå®šä¹‰æ³¨è§£</p><h2 id="äºŒã€å…ƒæ³¨è§£"><a href="#äºŒã€å…ƒæ³¨è§£" class="headerlink" title="äºŒã€å…ƒæ³¨è§£"></a>äºŒã€å…ƒæ³¨è§£</h2><p>äº†è§£äº†ä¹‹å‰çš„å…ƒæ•°æ®ï¼Œ<strong>å…ƒæ³¨è§£å°±æ˜¯ä¸ºæ³¨è§£æä¾›æ³¨è§£çš„æ³¨è§£</strong> ğŸ˜‚ï¼Œè¿™å¥è¯å¯èƒ½æœ‰ç‚¹ç»•ï¼Œåæ­£ä½ æ¸…æ¥šå…ƒæ³¨è§£æ˜¯ç»™æ³¨è§£ç”¨çš„å°±è¡Œäº†</p><p>JDK ç»™æˆ‘ä»¬æä¾›çš„å…ƒæ³¨è§£æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</p><p>1ã€@Target</p><p>2ã€@Retention</p><p>3ã€@Inherited</p><p>4ã€@Documented</p><p>5ã€@Repeatable</p><h3 id="1ï¼‰ã€-Target"><a href="#1ï¼‰ã€-Target" class="headerlink" title="1ï¼‰ã€@Target"></a>1ï¼‰ã€@Target</h3><p>@Target è¡¨ç¤ºè¿™ä¸ªæ³¨è§£èƒ½æ”¾åœ¨ä»€ä¹ˆä½ç½®ä¸Šï¼Œå…·ä½“é€‰æ‹©çš„ä½ç½®åˆ—è¡¨å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java">ElementType.ANNOTATION_TYPE <span class="hljs-comment">//èƒ½ä¿®é¥°æ³¨è§£</span><br>ElementType.CONSTRUCTOR <span class="hljs-comment">//èƒ½ä¿®é¥°æ„é€ å™¨</span><br>ElementType.FIELD <span class="hljs-comment">//èƒ½ä¿®é¥°æˆå‘˜å˜é‡</span><br>ElementType.LOCAL_VARIABLE <span class="hljs-comment">//èƒ½ä¿®é¥°å±€éƒ¨å˜é‡</span><br>ElementType.METHOD <span class="hljs-comment">//èƒ½ä¿®é¥°æ–¹æ³•</span><br>ElementType.PACKAGE <span class="hljs-comment">//èƒ½ä¿®é¥°åŒ…å </span><br>ElementType.PARAMETER <span class="hljs-comment">//èƒ½ä¿®é¥°å‚æ•°</span><br>ElementType.TYPE <span class="hljs-comment">//èƒ½ä¿®é¥°ç±»ã€æ¥å£æˆ–æšä¸¾ç±»å‹</span><br>ElementType.TYPE_PARAMETER <span class="hljs-comment">//èƒ½ä¿®é¥°æ³›å‹ï¼Œå¦‚æ³›å‹æ–¹æ³•ã€æ³›å‹ç±»ã€æ³›å‹æ¥å£ ï¼ˆjdk1.8åŠ å…¥ï¼‰</span><br>ElementType.TYPE_USE <span class="hljs-comment">//èƒ½ä¿®é¥°ç±»å‹ å¯ç”¨äºä»»æ„ç±»å‹é™¤äº† class ï¼ˆjdk1.8åŠ å…¥ï¼‰</span><br>  <br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹æ— é™åˆ¶</p><h3 id="2ï¼‰ã€-Retention"><a href="#2ï¼‰ã€-Retention" class="headerlink" title="2ï¼‰ã€@Retention"></a>2ï¼‰ã€@Retention</h3><p>@Retention è¡¨ç¤ºæ³¨è§£çš„çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯é€‰çš„å€¼æœ‰ 3 ä¸ªï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">RetentionPolicy.SOURCE <span class="hljs-comment">//è¡¨ç¤ºæ³¨è§£åªåœ¨æºç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘æˆ class ä¹‹åï¼Œå°±æ²¡äº†</span><br>  <br>RetentionPolicy.CLASS <span class="hljs-comment">//è¡¨ç¤ºæ³¨è§£åœ¨ java æºæ–‡ä»¶ç¼–ç¨‹æˆ .class æ–‡ä»¶åï¼Œä¾ç„¶å­˜åœ¨ï¼Œä½†æ˜¯è¿è¡Œèµ·æ¥åå°±æ²¡äº†</span><br>  <br>RetentionPolicy.RUNTIME <span class="hljs-comment">//è¡¨ç¤ºæ³¨è§£åœ¨è¿è¡Œèµ·æ¥åä¾ç„¶å­˜åœ¨ï¼Œç¨‹åºå¯ä»¥é€šè¿‡åå°„è·å–è¿™äº›ä¿¡æ¯</span><br>  <br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ä¸º <code>RetentionPolicy.CLASS</code></p><h3 id="3ï¼‰ã€-Inherited"><a href="#3ï¼‰ã€-Inherited" class="headerlink" title="3ï¼‰ã€@Inherited"></a>3ï¼‰ã€@Inherited</h3><p>@Inherited è¡¨ç¤ºè¯¥æ³¨è§£å¯è¢«ç»§æ‰¿ï¼Œå³å½“ä¸€ä¸ªå­ç±»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œè¯¥çˆ¶ç±»æ·»åŠ çš„æ³¨è§£æœ‰è¢« @Inherited ä¿®é¥°ï¼Œé‚£ä¹ˆå­ç±»å°±å¯ä»¥è·å–åˆ°è¯¥æ³¨è§£ï¼Œå¦åˆ™è·å–ä¸åˆ°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ä¸ºä¸å¯ç»§æ‰¿</p><h3 id="4ï¼‰ã€-Documented"><a href="#4ï¼‰ã€-Documented" class="headerlink" title="4ï¼‰ã€@Documented"></a>4ï¼‰ã€@Documented</h3><p>@Documented  è¡¨ç¤ºè¯¥æ³¨è§£åœ¨é€šè¿‡ <code>javadoc</code> å‘½ä»¤ç”Ÿæˆ Api æ–‡æ¡£åï¼Œä¼šå‡ºç°è¯¥æ³¨è§£çš„æ³¨é‡Šè¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ä¸ºä¸å‡ºç°</p><h3 id="5ï¼‰ã€-Repeatable"><a href="#5ï¼‰ã€-Repeatable" class="headerlink" title="5ï¼‰ã€@Repeatable"></a>5ï¼‰ã€@Repeatable</h3><p>@Repeatable æ˜¯ JDK 1.8 æ–°å¢çš„å…ƒæ³¨è§£ï¼Œå®ƒè¡¨ç¤ºæ³¨è§£åœ¨åŒä¸€ä¸ªä½ç½®èƒ½å‡ºç°å¤šæ¬¡ï¼Œè¿™ä¸ªæ³¨è§£æœ‰ç‚¹æŠ½è±¡ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…ä¾‹å­ç†è§£ä¸€ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ¸¸æˆç©å®¶æ³¨è§£</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@interface</span> GamePlayer&#123;<br>    Game[] value();<br>&#125;<br><br><span class="hljs-comment">//æ¸¸æˆæ³¨è§£</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Repeatable(GamePlayer.class)</span><br><span class="hljs-meta">@interface</span> Game&#123;<br>    String <span class="hljs-title function_">gameName</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-meta">@Game(gameName = &quot;CF&quot;)</span><br><span class="hljs-meta">@Game(gameName = &quot;LOL&quot;)</span><br><span class="hljs-meta">@Game(gameName = &quot;DNF&quot;)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GameTest</span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ä¸å¯é‡å¤</p><p><strong>ç»éªŒ</strong>ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å¤šä¸ªå…ƒæ³¨è§£ç»„åˆæ¥ä¿®é¥°è‡ªå®šä¹‰æ³¨è§£</p><h2 id="ä¸‰ã€æ³¨è§£å±æ€§"><a href="#ä¸‰ã€æ³¨è§£å±æ€§" class="headerlink" title="ä¸‰ã€æ³¨è§£å±æ€§"></a>ä¸‰ã€æ³¨è§£å±æ€§</h2><h3 id="1ï¼‰ã€æ³¨è§£å±æ€§ç±»å‹"><a href="#1ï¼‰ã€æ³¨è§£å±æ€§ç±»å‹" class="headerlink" title="1ï¼‰ã€æ³¨è§£å±æ€§ç±»å‹"></a>1ï¼‰ã€æ³¨è§£å±æ€§ç±»å‹</h3><p>æ³¨è§£å±æ€§ç±»å‹å¯ä»¥ä¸ºä»¥ä¸‹çš„ä¸€äº›ç±»å‹ï¼š</p><p>1ã€åŸºæœ¬æ•°æ®ç±»å‹</p><p>2ã€String</p><p>3ã€æšä¸¾ç±»å‹</p><p>4ã€æ³¨è§£ç±»å‹</p><p>5ã€Class ç±»å‹</p><p>6ã€ä»¥ä¸Šç±»å‹çš„ä¸€ç»´æ•°ç»„ç±»å‹</p><h3 id="2ï¼‰ã€å®šä¹‰æ³¨è§£å±æ€§"><a href="#2ï¼‰ã€å®šä¹‰æ³¨è§£å±æ€§" class="headerlink" title="2ï¼‰ã€å®šä¹‰æ³¨è§£å±æ€§"></a>2ï¼‰ã€å®šä¹‰æ³¨è§£å±æ€§</h3><p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€äº›æ³¨è§£å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@interface</span> TestAnnotation&#123;<br>    <span class="hljs-comment">//è¿™å°±æ˜¯æ³¨è§£å±æ€§çš„è¯­æ³•ç»“æ„</span><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå±æ€§å¹¶ç»™äº†é»˜è®¤å€¼</span><br>    String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">&quot;erdai&quot;</span>;<br>  <br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå±æ€§æœªç»™é»˜è®¤å€¼</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">age</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯èƒ½ä½ ä¼šæœ‰äº›ç–‘é—®ï¼šè¿™éš¾é“ä¸æ˜¯åœ¨å®šä¹‰æ–¹æ³•å—ï¼Ÿè¿˜å¯ä»¥ç»™é»˜è®¤å€¼ï¼Ÿ</p><p>è¿™äº›ç–‘é—®å…ˆç•™ç€ï¼Œæˆ‘ä»¬ç»§ç»­åˆ†æ</p><p>è‡ªå®šä¹‰æ³¨è§£é»˜è®¤éƒ½ä¼šç»§æ‰¿ Annotation ï¼ŒAnnotation æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæºç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Annotation</span> &#123;<br>   <br>    <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span>;<br><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span>;<br>  <br>    String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span>;<br>    <br>    Class&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Annotation</span>&gt; annotationType();<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ¥å£ä¸­å¯ä»¥å®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆä½œä¸ºè‡ªå®šä¹‰æ³¨è§£ï¼Œæ˜¯å¦ä¹Ÿå¯ä»¥å®šä¹‰å‘¢ï¼Ÿ</p><p>å¯ä»¥ï¼Œæ¥å£ä¸­çš„å±æ€§é»˜è®¤éƒ½æ˜¯ç”¨<code>public static final</code> ä¿®é¥°çš„ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå¯¹äºè‡ªå®šä¹‰æ³¨è§£æ¥è¯´ï¼Œè¿™ç‚¹æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚è€Œæ¥å£ä¸­çš„æ–¹æ³•å…¶å®å°±ç›¸å½“äºè‡ªå®šä¹‰æ³¨è§£çš„å±æ€§ï¼Œåªä¸è¿‡è‡ªå®šä¹‰æ³¨è§£è¿˜å¯ä»¥ç»™é»˜è®¤å€¼ã€‚å› æ­¤æˆ‘ä»¬åœ¨å­¦ä¹ è‡ªå®šä¹‰æ³¨è§£å±æ€§æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒå½“ä½œä¸€ä¸ªæ–°çŸ¥è¯†ï¼ŒåŠ ä¸Šæˆ‘åˆšæ‰å¯¹æ¥å£çš„åˆ†æå¯¹æ¯”ï¼Œä½ ä¸Šé¢çš„é‚£äº›ç–‘é—®ä¾¿å¯ä»¥è¿åˆƒè€Œè§£äº†</p><h3 id="3ï¼‰ã€æ³¨è§£å±æ€§ä½¿ç”¨"><a href="#3ï¼‰ã€æ³¨è§£å±æ€§ä½¿ç”¨" class="headerlink" title="3ï¼‰ã€æ³¨è§£å±æ€§ä½¿ç”¨"></a>3ï¼‰ã€æ³¨è§£å±æ€§ä½¿ç”¨</h3><p>1ã€åœ¨ä½¿ç”¨æ³¨è§£çš„åé¢æ¥ä¸Šä¸€å¯¹æ‹¬å·ï¼Œæ‹¬å·é‡Œé¢ä½¿ç”¨ <code>å±æ€§å = value</code> çš„æ ¼å¼ï¼Œå¤šä¸ªå±æ€§ä¹‹é—´ä¸­é—´ç”¨ <code>,</code>éš”å¼€</p><p>2ã€æœªç»™é»˜è®¤å€¼çš„å±æ€§å¿…é¡»è¿›è¡Œèµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥çº¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å•ä¸ªå±æ€§</span><br><span class="hljs-meta">@TestAnnotation(age = 18)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br>    <br>&#125;<br><br><span class="hljs-comment">//å¤šä¸ªå±æ€§</span><br><span class="hljs-meta">@TestAnnotation(age = 18,name = &quot;erdai666&quot;)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4ï¼‰ã€æ³¨è§£å±æ€§è·å–"><a href="#4ï¼‰ã€æ³¨è§£å±æ€§è·å–" class="headerlink" title="4ï¼‰ã€æ³¨è§£å±æ€§è·å–"></a>4ï¼‰ã€æ³¨è§£å±æ€§è·å–</h3><p>æ³¨è§£å±æ€§çš„è·å–å¯ä»¥å‚è€ƒæˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/post/6977679823132950536">ä¼ é€é—¨</a> ï¼Œä¸Šç¯‡æ–‡ç« æˆ‘ä»¬è®²çš„æ˜¯é€šè¿‡ç±»å¯¹è±¡è·å–æ³¨è§£ï¼Œå’±ä»¬è¡¥å……ç‚¹ä¸Šç¯‡æ–‡ç« æ²¡è®²åˆ°çš„</p><p>1ã€æˆ‘ä»¬åœ¨è·å–å±æ€§çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆåˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å­˜åœ¨è¯¥æ³¨è§£ï¼Œå¢å¼ºä»£ç çš„å¥å£®æ€§ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@TestAnnotation(age = 18,name = &quot;erdai666&quot;)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br><br>&#125;<br><br>Class&lt;Test&gt; testClass = Test.class;<br><span class="hljs-comment">//è·å–å½“å‰æ³¨è§£æ˜¯å¦å­˜åœ¨</span><br><span class="hljs-type">boolean</span> <span class="hljs-variable">annotationPresent</span> <span class="hljs-operator">=</span> testClass.isAnnotationPresent(TestAnnotation.class);<br><span class="hljs-comment">//å¦‚æœå­˜åœ¨åˆ™è¿›å…¥æ¡ä»¶ä½“</span><br><span class="hljs-keyword">if</span>(annotationPresent)&#123;<br>    <span class="hljs-type">TestAnnotation</span> <span class="hljs-variable">declaredAnnotation</span> <span class="hljs-operator">=</span> testClass.getDeclaredAnnotation(TestAnnotation.class);<br>    System.out.println(declaredAnnotation.name());<br>    System.out.println(declaredAnnotation.age());<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€è·å–ç±»å±æ€§çš„æ³¨è§£å±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.FIELD)</span><br><span class="hljs-meta">@interface</span> TestField&#123;<br>    String <span class="hljs-title function_">filed</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br>    <span class="hljs-meta">@TestField(filed = &quot;æˆ‘æ˜¯å±æ€§&quot;)</span><br>    <span class="hljs-keyword">public</span> String test;<br>&#125;<br><br><span class="hljs-comment">//é€šè¿‡åå°„è·å–å±æ€§æ³¨è§£</span><br>Class&lt;Test&gt; testClass1 = Test.class;<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> testClass1.getDeclaredField(<span class="hljs-string">&quot;test&quot;</span>);<br>    <span class="hljs-keyword">if</span>(field.isAnnotationPresent(TestField.class))&#123;<br>        <span class="hljs-type">TestField</span> <span class="hljs-variable">fieldAnnotation</span> <span class="hljs-operator">=</span> field.getDeclaredAnnotation(TestField.class);<br>        System.out.println(fieldAnnotation.filed());<br>    &#125;<br>&#125; <span class="hljs-keyword">catch</span> (NoSuchFieldException e) &#123;<br>    e.printStackTrace();<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æˆ‘æ˜¯å±æ€§<br></code></pre></td></tr></table></figure><p>3ã€è·å–ç±»æ–¹æ³•çš„æ³¨è§£å±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@interface</span> TestMethod&#123;<br>    String <span class="hljs-title function_">method</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br>    <span class="hljs-meta">@TestMethod(method = &quot;æˆ‘æ˜¯æ–¹æ³•&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br>&#125;<br><span class="hljs-comment">//é€šè¿‡åå°„è·å–æ–¹æ³•æ³¨è§£</span><br>Class&lt;Test&gt; testClass2 = Test.class;<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> testClass2.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>);<br>    <span class="hljs-keyword">if</span>(method.isAnnotationPresent(TestMethod.class))&#123;<br>        <span class="hljs-type">TestMethod</span> <span class="hljs-variable">methodAnnotation</span> <span class="hljs-operator">=</span> method.getDeclaredAnnotation(TestMethod.class);<br>        System.out.println(methodAnnotation.method());<br>    &#125;<br>&#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>    e.printStackTrace();<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æˆ‘æ˜¯æ–¹æ³•<br></code></pre></td></tr></table></figure><h2 id="å››ã€JDK-æä¾›çš„å†…ç½®æ³¨è§£"><a href="#å››ã€JDK-æä¾›çš„å†…ç½®æ³¨è§£" class="headerlink" title="å››ã€JDK æä¾›çš„å†…ç½®æ³¨è§£"></a>å››ã€JDK æä¾›çš„å†…ç½®æ³¨è§£</h2><p>JDK ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šå†…ç½®çš„æ³¨è§£ï¼Œå…¶ä¸­å¸¸ç”¨çš„æœ‰ï¼š</p><p>)1ã€@Override</p><p>2ã€@Deprecated</p><p>3ã€@SuppressWarnings</p><p>4ã€@FunctionalInterface</p><h3 id="1ï¼‰ã€-Override"><a href="#1ï¼‰ã€-Override" class="headerlink" title="1ï¼‰ã€@Override"></a>1ï¼‰ã€@Override</h3><p>@Override ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¾‹å¦‚ <code>toString</code> æ–¹æ³• </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.toString();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€-Deprecated"><a href="#2ï¼‰ã€-Deprecated" class="headerlink" title="2ï¼‰ã€@Deprecated"></a>2ï¼‰ã€@Deprecated</h3><p>@Deprecated è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•è¢«å¼ƒç”¨ï¼Œä¸å»ºè®®å¼€å‘è€…ä½¿ç”¨</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33397c95cde24591afca8a257d3901cd~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210626113644915" style="zoom:50%;" /><p>å¯ä»¥çœ‹åˆ°ç”¨ @Deprecated æ³¨è§£çš„æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ä¼šè¢«åˆ’æ‰</p><h3 id="3ï¼‰ã€-SuppressWarnings"><a href="#3ï¼‰ã€-SuppressWarnings" class="headerlink" title="3ï¼‰ã€@SuppressWarnings"></a>3ï¼‰ã€@SuppressWarnings</h3><p>@SuppressWarnings ç”¨äºå¿½ç•¥è­¦å‘Šä¿¡æ¯ï¼Œå¸¸è§çš„å–å€¼å¦‚ä¸‹ï¼š</p><ul><li>deprecationï¼šä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Šï¼ˆä½¿ç”¨ @Deprecated ä½¿å¾—ç¼–è¯‘å™¨äº§ç”Ÿçš„è­¦å‘Šï¼‰</li><li>uncheckedï¼šæ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æ²¡æœ‰ç”¨æ³›å‹ (Generics) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹; å…³é—­ç¼–è¯‘å™¨è­¦å‘Š</li><li>fallthroughï¼šå½“ Switch ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ Break æ—¶çš„è­¦å‘Š</li><li>pathï¼šåœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ—¶çš„è­¦å‘Š</li><li>serialï¼šå½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ serialVersionUID å®šä¹‰æ—¶çš„è­¦å‘Š</li><li>finallyï¼šä»»ä½• finally å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Š</li><li>rawtypes æ³›å‹ç±»å‹æœªæŒ‡æ˜</li><li>unused å¼•ç”¨å®šä¹‰äº†ï¼Œä½†æ˜¯æ²¡æœ‰è¢«ä½¿ç”¨</li><li>allï¼šå…³äºä»¥ä¸Šæ‰€æœ‰æƒ…å†µçš„è­¦å‘Š</li></ul><p>ä»¥æ³›å‹ä¸¾ä¸ªä¾‹å­ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33a67f867a124bc184d4625d8a236b03~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210626114048630" style="zoom:50%;" /><p>å½“æˆ‘ä»¬åˆ›å»º List æœªæŒ‡å®šæ³›å‹æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é»„æç¤ºæˆ‘ä»¬æœªæŒ‡æ˜æ³›å‹ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ³¨è§£äº†ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e5e7263b5a84905b6da544fde609e2d~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210626114241155" style="zoom:50%;" /><h3 id="4ï¼‰ã€-FunctionalInterface"><a href="#4ï¼‰ã€-FunctionalInterface" class="headerlink" title="4ï¼‰ã€@FunctionalInterface"></a>4ï¼‰ã€@FunctionalInterface</h3><p>@FunctionalInterface æ˜¯ JDK 1.8 æ–°å¢çš„æ³¨è§£ï¼Œç”¨äºçº¦å®šå‡½æ•°å¼æ¥å£ï¼Œ<strong>å‡½æ•°å¼æ¥å£å°±æ˜¯æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@FunctionalInterface</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">testInterface</span>&#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testMethod</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è€Œå½“ä½ æœ‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•æ—¶ï¼Œæ³¨è§£ä¼šæŠ¥çº¢æç¤ºä½ ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0ab4a93e5dc4080a0bb5f6b52672cca~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210626114855416" style="zoom:50%;" /><h2 id="äº”ã€æ³¨è§£å®é™…åº”ç”¨åœºæ™¯"><a href="#äº”ã€æ³¨è§£å®é™…åº”ç”¨åœºæ™¯" class="headerlink" title="äº”ã€æ³¨è§£å®é™…åº”ç”¨åœºæ™¯"></a>äº”ã€æ³¨è§£å®é™…åº”ç”¨åœºæ™¯</h2><h3 id="1ï¼‰ã€ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä»£æ›¿æšä¸¾ç±»å‹"><a href="#1ï¼‰ã€ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä»£æ›¿æšä¸¾ç±»å‹" class="headerlink" title="1ï¼‰ã€ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä»£æ›¿æšä¸¾ç±»å‹"></a>1ï¼‰ã€ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä»£æ›¿æšä¸¾ç±»å‹</h3><p>ä¸»è¦é’ˆå¯¹æºç é˜¶æ®µæ³¨è§£</p><p>è¿™ä¸ªåœ¨æˆ‘ä»¬å®é™…å·¥ä½œä¸­ä¹ŸæŒºå¸¸ç”¨çš„ï¼Œä½¿ç”¨æšä¸¾ç±»å‹å¼€é”€å¤§ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£è¿›è¡Œæ›¿ä»£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1ã€ä½¿ç”¨æšä¸¾</span><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">EnumFontType</span>&#123;<br>    ROBOTO_REGULAR,ROBOTO_MEDIUM,ROBOTO_BOLD<br>&#125;<br><span class="hljs-comment">//å®é™…è°ƒç”¨</span><br><span class="hljs-type">EnumFontType</span> <span class="hljs-variable">type1</span> <span class="hljs-operator">=</span> EnumFontType.ROBOTO_BOLD;<br><br><span class="hljs-comment">//================================ å®Œç¾çš„åˆ†å‰²çº¿ ==================================</span><br><span class="hljs-comment">//2ã€ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£</span><br><span class="hljs-meta">@Target(&#123;ElementType.FIELD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span><br><span class="hljs-meta">@IntDef(&#123;AnnotationFontType.ROBOTO_REGULAR,AnnotationFontType.ROBOTO_MEDIUM,AnnotationFontType.ROBOTO_BOLD&#125;)</span><br><span class="hljs-meta">@interface</span> AnnotationFontType&#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">ROBOTO_REGULAR</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">ROBOTO_MEDIUM</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">ROBOTO_BOLD</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br>&#125;<br><span class="hljs-comment">//å®é™…è°ƒç”¨</span><br><span class="hljs-meta">@AnnotationFontType</span> <span class="hljs-type">int</span> <span class="hljs-variable">type2</span> <span class="hljs-operator">=</span> AnnotationFontType.ROBOTO_MEDIUM;<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€æ³¨è§£å¤„ç†å™¨-APT"><a href="#2ï¼‰ã€æ³¨è§£å¤„ç†å™¨-APT" class="headerlink" title="2ï¼‰ã€æ³¨è§£å¤„ç†å™¨ (APT)"></a>2ï¼‰ã€æ³¨è§£å¤„ç†å™¨ (APT)</h3><p>ä¸»è¦é’ˆå¯¹ç¼–è¯‘é˜¶æ®µæ³¨è§£</p><p>å®é™…æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°å®ƒï¼Œå› ä¸ºæˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›å¼€æºåº“å¦‚ ButterKnifeï¼ŒRetrofitï¼ŒArouterï¼ŒEventBus ç­‰ç­‰éƒ½ä½¿ç”¨åˆ°äº† APT æŠ€æœ¯ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™äº›è‘—åçš„å¼€æºåº“ï¼Œæ‰ä½¿å¾— APT æŠ€æœ¯è¶Šæ¥è¶Šç«ï¼Œåœ¨æœ¬ç³»åˆ—çš„ä¸‹ä¸€ç¯‡ä¸­ï¼Œæˆ‘ä¹Ÿä¼šè®²åˆ°ã€‚</p><h3 id="3ï¼‰ã€è¿è¡Œæ—¶æ³¨è§£å¤„ç†"><a href="#3ï¼‰ã€è¿è¡Œæ—¶æ³¨è§£å¤„ç†" class="headerlink" title="3ï¼‰ã€è¿è¡Œæ—¶æ³¨è§£å¤„ç†"></a>3ï¼‰ã€è¿è¡Œæ—¶æ³¨è§£å¤„ç†</h3><p>ä¸»è¦é’ˆå¯¹è¿è¡Œé˜¶æ®µæ³¨è§£</p><p>ä¸¾ä¸ªå®é™…çš„ä¾‹å­ï¼šä¾‹å¦‚æˆ‘ä»¬å¼€è½¦å»è‡ªåŠ©åŠ æ²¹æœºåŠ æ²¹ï¼Œè®¾å®šçš„ Money æ˜¯ 200ï¼Œå¦‚æœå°‘äº 200 åˆ™æç¤º <code>åŠ æ²¹ä¸­...</code>ï¼Œå¦åˆ™æç¤º <code>æ²¹å·²åŠ æ»¡</code>ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸æƒ…å†µï¼Œæç¤º <code>åŠ æ²¹å¤±è´¥</code></p><p>ç°åœ¨æˆ‘ä»¬é€šè¿‡æ³¨è§£æ¥å®ç°ä¸€ä¸‹å®ƒï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@interface</span> OilAnnotation&#123;<br>    <span class="hljs-type">double</span> <span class="hljs-title function_">maxOilMoney</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GasStation</span>&#123;<br><br>    <span class="hljs-meta">@OilAnnotation(maxOilMoney = 200)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOil</span><span class="hljs-params">(<span class="hljs-type">double</span> money)</span>&#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">tips</span> <span class="hljs-operator">=</span> processOilAnnotation(money);<br>        System.out.println(tips);<br>    &#125;<br><br>    <span class="hljs-meta">@SuppressWarnings(&quot;all&quot;)</span><br>    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">processOilAnnotation</span><span class="hljs-params">(<span class="hljs-type">double</span> money)</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class&lt;GasStation&gt; aClass = GasStation.class;<br>            <span class="hljs-comment">//è·å–å½“å‰æ–¹æ³•çš„æ³¨è§£</span><br>            <span class="hljs-type">Method</span> <span class="hljs-variable">addOilMethod</span> <span class="hljs-operator">=</span> aClass.getDeclaredMethod(<span class="hljs-string">&quot;addOil&quot;</span>, <span class="hljs-type">double</span>.class);<br>            <span class="hljs-comment">//è·å–æ–¹æ³•æ³¨è§£æ˜¯å¦å­˜åœ¨</span><br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">annotationPresent</span> <span class="hljs-operator">=</span> addOilMethod.isAnnotationPresent(OilAnnotation.class);<br>            <span class="hljs-keyword">if</span>(annotationPresent)&#123;<br>                <span class="hljs-type">OilAnnotation</span> <span class="hljs-variable">oilAnnotation</span> <span class="hljs-operator">=</span> addOilMethod.getDeclaredAnnotation(OilAnnotation.class);<br>                <span class="hljs-keyword">if</span>(money &gt;= oilAnnotation.maxOilMoney())&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;æ²¹å·²åŠ æ»¡&quot;</span>;<br>                &#125;<span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;åŠ æ²¹ä¸­...&quot;</span>;<br>                &#125;<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;åŠ æ²¹å¤±è´¥&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">GasStation</span>().addOil(<span class="hljs-number">100</span>);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>åŠ æ²¹ä¸­...<br>  <br><span class="hljs-keyword">new</span> <span class="hljs-title class_">GasStation</span>().addOil(<span class="hljs-number">200</span>);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ²¹å·²åŠ æ»¡<br></code></pre></td></tr></table></figure><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« è®²çš„ä¸€äº›é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€è‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œå…ƒæ³¨è§£çš„ç»„åˆä½¿ç”¨</p><p>2ã€æ³¨è§£å±æ€§çš„å®šä¹‰ï¼Œä½¿ç”¨å’Œè·å–</p><p>3ã€ä¸€äº›å¸¸ç”¨çš„ JDK å†…ç½®æ³¨è§£</p><p>4ã€æ³¨è§£çš„å®é™…åº”ç”¨åŠè¿è¡Œé˜¶æ®µæ³¨è§£çš„ä¸€ä¸ªå®è·µ</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤ </p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ­£å¼å¼€å§‹ APT æŠ€æœ¯çš„è®²è§£äº†ï¼Œæ•¬è¯·æœŸå¾…å§ğŸ˜„</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://juejin.cn/post/6844903833299058702">Java æ³¨è§£å®Œå…¨è§£æ</a></p><p><a href="https://www.jianshu.com/p/5871e1186840">ã€ŒJava è·¯çº¿ã€| æ³¨è§£ï¼ˆå« Kotlinï¼‰</a></p><blockquote><p>å…¨æ–‡åˆ°æ­¤ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºå’Œè½¬å‘ï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›</p></blockquote><blockquote><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ <strong>å…¬ ä¼— å·</strong>ï¼Œå¾®ä¿¡æœç´¢ <strong>sweetying</strong> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Android</category>
      
      <category>APT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Android</tag>
      
      <tag>Android APT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android APT ç³»åˆ— ï¼ˆä¸€ï¼‰ï¼šAPT ç­‘åŸºä¹‹åå°„</title>
    <link href="/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9AAPT%20%E7%AD%91%E5%9F%BA%E4%B9%8B%E5%8F%8D%E5%B0%84/"/>
    <url>/2022/10/10/Android%20APT%20%E7%B3%BB%E5%88%97%20%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9AAPT%20%E7%AD%91%E5%9F%BA%E4%B9%8B%E5%8F%8D%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101947233.jpeg" alt="amanda-phung-1w2xsyc2wwI-unsplash"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>è¿™åˆæ˜¯ä¸€ä¸ªæ–°çš„ç³»åˆ—ï¼Œçµæ„Ÿæ¥æºäºæœ€è¿‘åšçš„ä¸€æ¬¡å¸ƒå±€ä¼˜åŒ–ï¼Œæˆ‘ä»¬çŸ¥é“ï¼šAndroid ä¸­å°‘é‡çš„ç³»ç»Ÿæ§ä»¶æ˜¯é€šè¿‡ <code>new</code> çš„æ–¹å¼åˆ›å»ºå‡ºæ¥çš„ï¼Œè€Œå¤§éƒ¨åˆ†æ§ä»¶å¦‚ <code>androidx.appcompat.widget</code> ä¸‹çš„æ§ä»¶ï¼Œè‡ªå®šä¹‰æ§ä»¶ï¼Œç¬¬ä¸‰æ–¹æ§ä»¶ç­‰ç­‰ï¼Œéƒ½æ˜¯é€šè¿‡åå°„åˆ›å»ºçš„ã€‚å¤§é‡çš„åå°„åˆ›å»ºå¤šå¤šå°‘å°‘ä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å»è§£å†³åå°„åˆ›å»ºçš„é—®é¢˜ï¼Œæˆ‘çš„è§£å†³æ€è·¯æ˜¯ï¼š</p><blockquote><p>1ã€é€šè¿‡ç¼–å†™ Android æ’ä»¶è·å– Xml å¸ƒå±€ä¸­çš„æ‰€æœ‰æ§ä»¶ </p><p>2ã€æ‹¿åˆ°æ§ä»¶åï¼Œé€šè¿‡ APT ç”Ÿæˆç”¨ <code>new</code> çš„æ–¹å¼åˆ›å»º View çš„ç±» </p><p>3ã€æœ€åé€šè¿‡åå°„è·å–å½“å‰ç±»å¹¶åœ¨åŸºç±»é‡Œé¢å®Œæˆæ›¿æ¢</p></blockquote><p>ä¸€ä¸ªå°å°çš„å¸ƒå±€ä¼˜åŒ–ï¼Œæ¶‰åŠçš„ä¸œè¥¿è¿˜æŒºå¤šçš„ï¼ŒAndroid æ’ä»¶æˆ‘ä»¬åç»­åœ¨è®²ï¼Œè¯è¯´ Gradle ç³»åˆ—ç›®å‰åªæ›´äº†ä¸€ç¯‡ğŸ˜‚ï¼Œåˆ«æ€¥ï¼Œåé¢éƒ½ä¼šæœ‰çš„ã€‚æˆ‘ä»¬è¿™ä¸ªç³»åˆ—ä¸»è¦æ˜¯è®² APTï¼Œè€Œè®² APT ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆäº†è§£ä¸¤ä¸ªé‡ç‚¹çŸ¥è¯†ï¼š<strong>æ³¨è§£å’Œåå°„</strong></p><p>ä»Šå¤©å°±é‡ç‚¹æ¥ä»‹ç»ä¸‹åå°„</p><p><a href="https://github.com/sweetying520/AptDemo">Github Demo åœ°å€</a> , å¤§å®¶å¯ä»¥çœ‹ Demo è·Ÿéšæˆ‘çš„æ€è·¯ä¸€èµ·åˆ†æ</p><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ</h2><p>ç®€å•æ¥è®²ï¼Œåå°„å°±æ˜¯ï¼š<strong>å·²çŸ¥ä¸€ä¸ªç±»ï¼Œå¯ä»¥è·å–è¿™ä¸ªç±»çš„æ‰€æœ‰ä¿¡æ¯</strong></p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ ¹æ®é¢å‘å¯¹è±¡å°è£…åŸåˆ™ï¼ŒJava å®ä½“ç±»çš„å±æ€§éƒ½æ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬ä¸èƒ½è·å–ç±»ä¸­çš„å±æ€§ã€‚ä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®åå°„ï¼Œè·å–ç§æœ‰å˜é‡ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ï¼Œæ³¨è§£ï¼Œæ³›å‹ç­‰ç­‰ï¼Œéå¸¸çš„å¼ºå¤§</p><p><strong>æ³¨æ„</strong>ï¼šGoogle åœ¨ Android 9.0 åŠä¹‹åå¯¹åå°„åšäº†é™åˆ¶ï¼Œè¢«ä½¿ç”¨ <code>@hide</code> æ ‡è®°çš„å±æ€§å’Œæ–¹æ³•é€šè¿‡åå°„æ‹¿ä¸åˆ°</p><h2 id="äºŒã€åå°„ä½¿ç”¨"><a href="#äºŒã€åå°„ä½¿ç”¨" class="headerlink" title="äºŒã€åå°„ä½¿ç”¨"></a>äºŒã€åå°„ä½¿ç”¨</h2><p>ä¸‹é¢ç»™å‡ºä¸€æ®µå·²çŸ¥çš„ä»£ç ï¼Œæˆ‘ä»¬é€šè¿‡å®è·µæ¥å¯¹åå°„è¿›è¡Œè®²è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åŒ…è·¯å¾„</span><br><span class="hljs-keyword">package</span> com.dream.aptdemo;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰æ³¨è§£1</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> CustomAnnotation1&#123;<br>  <br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰æ³¨è§£2</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> CustomAnnotation2&#123;<br>  <br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰æ³¨è§£3</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> CustomAnnotation3&#123;<br><br>&#125;<br><br><span class="hljs-comment">//æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ICar</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">combine</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-comment">//è½¦</span><br><span class="hljs-meta">@CustomAnnotation3</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>&lt;K,V&gt; &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">carDesign</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;è®¾è®¡ç¨¿&quot;</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">engine</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;å‘åŠ¨æœº&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(<span class="hljs-type">long</span> kilometer)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Car run &quot;</span> + kilometer + <span class="hljs-string">&quot; km&quot;</span>);<br>    &#125;<br>&#125;<br><span class="hljs-comment">//==============================ä¸Šé¢è¿™äº›éƒ½æ˜¯ä¸ºä¸‹é¢è¿™å°å¥”é©°æœåŠ¡çš„ğŸ˜‚===========================</span><br><span class="hljs-comment">//å¥”é©°</span><br><span class="hljs-meta">@CustomAnnotation1</span><br><span class="hljs-meta">@CustomAnnotation2</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Benz</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Car</span>&lt;String,Integer&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ICar</span> &#123;<br>  <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">carName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;å¥”é©°&quot;</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">carColor</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ç™½è‰²&quot;</span>;<br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Benz</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Benz</span><span class="hljs-params">(String carName)</span> &#123;<br>        <span class="hljs-built_in">this</span>.carName = carName;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Benz</span><span class="hljs-params">(String carName, String carColor)</span> &#123;<br>        <span class="hljs-built_in">this</span>.carName = carName;<br>        <span class="hljs-built_in">this</span>.carColor = carColor;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">combine</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ç»„è£…ä¸€å°å¥”é©°&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">privateMethod</span><span class="hljs-params">(String params)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æˆ‘æ˜¯ç§æœ‰æ–¹æ³•: &quot;</span> + params);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ‰€è®²åˆ°çš„éƒ½æ˜¯å…³äºåå°„ä¸€äº›å¸¸ç”¨çš„ Api</p><h2 id="ä¸‰ã€ç±»"><a href="#ä¸‰ã€ç±»" class="headerlink" title="ä¸‰ã€ç±»"></a>ä¸‰ã€ç±»</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ 3 ç§æ–¹å¼å»è·å–ç±»å¯¹è±¡ï¼š</p><h3 id="1ï¼‰ã€Benz-class-ï¼šç±»è·å–"><a href="#1ï¼‰ã€Benz-class-ï¼šç±»è·å–" class="headerlink" title="1ï¼‰ã€Benz.class ï¼šç±»è·å–"></a>1ï¼‰ã€<code>Benz.class</code> ï¼šç±»è·å–</h3><h3 id="2ï¼‰ã€benz-getClass-ï¼šå¯¹è±¡è·å–"><a href="#2ï¼‰ã€benz-getClass-ï¼šå¯¹è±¡è·å–" class="headerlink" title="2ï¼‰ã€benz.getClass ï¼šå¯¹è±¡è·å–"></a>2ï¼‰ã€<code>benz.getClass</code> ï¼šå¯¹è±¡è·å–</h3><h3 id="3ï¼‰ã€Class-forName-ï¼šé™æ€è·å–"><a href="#3ï¼‰ã€Class-forName-ï¼šé™æ€è·å–" class="headerlink" title="3ï¼‰ã€Class.forName ï¼šé™æ€è·å–"></a>3ï¼‰ã€<code>Class.forName</code> ï¼šé™æ€è·å–</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Benz</span> <span class="hljs-variable">benz</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Benz</span>();<br><span class="hljs-type">Class</span> <span class="hljs-variable">benzClass</span> <span class="hljs-operator">=</span> Benz.class;<br><span class="hljs-type">Class</span> <span class="hljs-variable">benzClass1</span> <span class="hljs-operator">=</span> benz.getClass();<br><span class="hljs-type">Class</span> <span class="hljs-variable">benzClass2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.dream.aptdemo.Benz&quot;</span>);<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š</p><p>1ã€åœ¨ä¸€ä¸ª JVM ä¸­ï¼Œä¸€ç§ç±»ï¼Œåªä¼šæœ‰ä¸€ä¸ªç±»å¯¹è±¡å­˜åœ¨ã€‚æ‰€ä»¥ä»¥ä¸Šä¸‰ç§æ–¹å¼å–å‡ºæ¥çš„ç±»å¯¹è±¡ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>2ã€æ— è®ºå“ªç§é€”å¾„è·å–ç±»å¯¹è±¡ï¼Œéƒ½ä¼šå¯¼è‡´é™æ€å±æ€§è¢«åˆå§‹åŒ–ï¼Œè€Œä¸”åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ï¼ˆé™¤äº†ç›´æ¥ä½¿ç”¨ <code>Benz.class</code> ç±»è·å–è¿™ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šå¯¼è‡´é™æ€å±æ€§è¢«åˆå§‹åŒ–ï¼‰</p><p><strong>ä¸‹é¢çš„æµç¨‹ä¼šç»å¸¸ä½¿ç”¨åˆ° benz å®ä¾‹å’Œ benzClass ç±»å¯¹è±¡</strong></p><h3 id="4ï¼‰ã€è·å–ç±»å"><a href="#4ï¼‰ã€è·å–ç±»å" class="headerlink" title="4ï¼‰ã€è·å–ç±»å"></a>4ï¼‰ã€è·å–ç±»å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> benzClass.getSimpleName();<br>System.out.println(className);<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>Benz<br></code></pre></td></tr></table></figure><h3 id="5ï¼‰ã€è·å–ç±»è·¯å¾„"><a href="#5ï¼‰ã€è·å–ç±»è·¯å¾„" class="headerlink" title="5ï¼‰ã€è·å–ç±»è·¯å¾„"></a>5ï¼‰ã€è·å–ç±»è·¯å¾„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">classPath1</span> <span class="hljs-operator">=</span> benzClass.getName();<br><span class="hljs-type">String</span> <span class="hljs-variable">classPath2</span> <span class="hljs-operator">=</span> benzClass.getCanonicalName();<br>System.out.println(classPath1);<br>System.out.println(classPath2);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>com.dream.aptdemo.Benz<br>com.dream.aptdemo.Benz<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¯èƒ½å¤§å®¶ä¼šæœ‰ä¸ªç–‘é—®ï¼š<code>benzClass.getName()</code> å’Œ <code>benzClass.getCanonicalName()</code> æœ‰å•¥åŒºåˆ«å—ï¼Ÿ</p><p>ä»ä¸Šé¢æ‰“å°ç»“æœæ¥çœ‹ï¼Œæ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨ Benz è¿™ä¸ªé‡Œé¢åŠ ä¸ªå†…éƒ¨ç±»ï¼Œç„¶åè·å–å†…éƒ¨ç±»çš„è·¯å¾„ï¼Œä½ å°±ä¼šçœ‹åˆ°åŒºåˆ«äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//...</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Benz</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Car</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ICar</span> &#123;<br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">InnerClass</span>&#123;<br>        <br>    &#125;<br>&#125;<br><br>Class&lt;Benz.InnerClass&gt; innerClass = Benz.InnerClass.class;<br>System.out.println(innerClass.getName());<br>System.out.println(innerClass.getCanonicalName());<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>com.dream.aptdemo.Benz$InnerClass<br>com.dream.aptdemo.Benz.InnerClass<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°åŒºåˆ«äº†å§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®ºï¼š<strong>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>getCanonicalName</code>å’Œ <code>getName</code> è·å–åˆ°çš„éƒ½æ˜¯åŒ…å«è·¯å¾„çš„ç±»åã€‚ä½†å†…éƒ¨ç±»æœ‰ç‚¹ç‰¹æ®Šï¼ŒgetName è·å–çš„æ˜¯è·¯å¾„.ç±»å$å†…éƒ¨ç±»</strong></p><h3 id="6ï¼‰ã€è·å–çˆ¶ç±»å"><a href="#6ï¼‰ã€è·å–çˆ¶ç±»å" class="headerlink" title="6ï¼‰ã€è·å–çˆ¶ç±»å"></a>6ï¼‰ã€è·å–çˆ¶ç±»å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">fatherClassName</span> <span class="hljs-operator">=</span> benzClass.getSuperclass().getSimpleName();<br>System.out.println(fatherClassName);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>Car<br></code></pre></td></tr></table></figure><h3 id="7ï¼‰ã€è·å–æ¥å£"><a href="#7ï¼‰ã€è·å–æ¥å£" class="headerlink" title="7ï¼‰ã€è·å–æ¥å£"></a>7ï¼‰ã€è·å–æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Class[] interfaces = benzClass.getInterfaces();<br><span class="hljs-keyword">for</span> (Class anInterface : interfaces) &#123;<br>    System.out.println(anInterface.getName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>com.dream.aptdemo.ICar<br></code></pre></td></tr></table></figure><h3 id="8ï¼‰ã€åˆ›å»ºå®ä¾‹å¯¹è±¡"><a href="#8ï¼‰ã€åˆ›å»ºå®ä¾‹å¯¹è±¡" class="headerlink" title="8ï¼‰ã€åˆ›å»ºå®ä¾‹å¯¹è±¡"></a>8ï¼‰ã€åˆ›å»ºå®ä¾‹å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æ„é€ æ–¹æ³•</span><br><span class="hljs-type">Constructor</span> <span class="hljs-variable">constructor</span> <span class="hljs-operator">=</span> benzClass.getDeclaredConstructor();<br><span class="hljs-comment">//åˆ›å»ºå®ä¾‹</span><br><span class="hljs-type">Benz</span> <span class="hljs-variable">myBenz</span> <span class="hljs-operator">=</span> (Benz) constructor.newInstance();<br><span class="hljs-comment">//ä¿®æ”¹å±æ€§</span><br>myBenz.carColor = <span class="hljs-string">&quot;é»‘è‰²&quot;</span>;<br>myBenz.combine();<br>System.out.println(myBenz.carColor);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>ç»„è£…ä¸€å°å¥”é©°<br>é»‘è‰²<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸‹é¢è¦è®²çš„å…³äºå¸¦ <code>Declare</code> çš„å±æ€§å’Œæ–¹æ³•å’Œä¸å¸¦<code>Declare</code> åŒºåˆ«ï¼š</p><p><strong>1ã€å¸¦  <code>Declare</code> çš„å±æ€§å’Œæ–¹æ³•è·å–çš„æ˜¯æœ¬ç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸åŒ…å«ç»§æ‰¿å¾—æ¥çš„</strong></p><p><strong>2ã€ä¸å¸¦  <code>Declare</code> çš„å±æ€§å’Œæ–¹æ³•è·å–çš„æ˜¯æ‰€æœ‰ <code>public</code> ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒ…å«ç»§æ‰¿å¾—æ¥çš„</strong></p><p><strong>3ã€è®¿é—® <code>private</code> ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•ï¼Œéœ€è°ƒç”¨ <code>setAccessible</code> è®¾ç½®ä¸º true ï¼Œè¡¨ç¤ºå…è®¸æˆ‘ä»¬è®¿é—®ç§æœ‰å˜é‡</strong></p><h2 id="å››ã€å±æ€§"><a href="#å››ã€å±æ€§" class="headerlink" title="å››ã€å±æ€§"></a>å››ã€å±æ€§</h2><h3 id="1ï¼‰ã€è·å–å•ä¸ªå±æ€§"><a href="#1ï¼‰ã€è·å–å•ä¸ªå±æ€§" class="headerlink" title="1ï¼‰ã€è·å–å•ä¸ªå±æ€§"></a>1ï¼‰ã€è·å–å•ä¸ªå±æ€§</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Field</span> <span class="hljs-variable">carName</span> <span class="hljs-operator">=</span> benzClass.getDeclaredField(<span class="hljs-string">&quot;carName&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€è·å–å¤šä¸ªå±æ€§"><a href="#2ï¼‰ã€è·å–å¤šä¸ªå±æ€§" class="headerlink" title="2ï¼‰ã€è·å–å¤šä¸ªå±æ€§"></a>2ï¼‰ã€è·å–å¤šä¸ªå±æ€§</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æœ¬ç±»å…¨éƒ¨å±æ€§</span><br>Field[] declaredFields = benzClass.getDeclaredFields();<br><span class="hljs-keyword">for</span> (Field declaredField : declaredFields) &#123;<br>    System.out.println(<span class="hljs-string">&quot;å±æ€§: &quot;</span> + declaredField.getName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>å±æ€§: carName<br>å±æ€§: carColor<br><br><span class="hljs-comment">//è·å–æœ¬ç±»åŠçˆ¶ç±»å…¨éƒ¨ public ä¿®é¥°çš„å±æ€§</span><br>Field[] fields = benzClass.getFields();<br><span class="hljs-keyword">for</span> (Field field : fields) &#123;<br>    System.out.println(<span class="hljs-string">&quot;å±æ€§: &quot;</span> + field.getName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>å±æ€§: carColor<br>å±æ€§: engine<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰ã€è®¾ç½®å…è®¸è®¿é—®ç§æœ‰å˜é‡"><a href="#3ï¼‰ã€è®¾ç½®å…è®¸è®¿é—®ç§æœ‰å˜é‡" class="headerlink" title="3ï¼‰ã€è®¾ç½®å…è®¸è®¿é—®ç§æœ‰å˜é‡"></a>3ï¼‰ã€è®¾ç½®å…è®¸è®¿é—®ç§æœ‰å˜é‡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">carName.setAccessible(<span class="hljs-literal">true</span>);<br></code></pre></td></tr></table></figure><p>4ï¼‰ã€è·å–å±æ€§å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(carName.getName());<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>carName<br></code></pre></td></tr></table></figure><p>5ï¼‰ã€è·å–å˜é‡ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(carName.getType().getName());<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>java.lang.String<br></code></pre></td></tr></table></figure><p>6ï¼‰ã€è·å–å¯¹è±¡ä¸­è¯¥å±æ€§çš„å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(carName.get(benz));<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>å¥”é©°<br></code></pre></td></tr></table></figure><p>7ï¼‰ã€ç»™å±æ€§è®¾ç½®å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">carName.set(benz,<span class="hljs-string">&quot;sweetying&quot;</span>);<br>System.out.println(carName.get(benz));<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>sweetying<br></code></pre></td></tr></table></figure><h2 id="äº”ã€æ–¹æ³•"><a href="#äº”ã€æ–¹æ³•" class="headerlink" title="äº”ã€æ–¹æ³•"></a>äº”ã€æ–¹æ³•</h2><h3 id="1ï¼‰ã€è·å–å•ä¸ªæ–¹æ³•"><a href="#1ï¼‰ã€è·å–å•ä¸ªæ–¹æ³•" class="headerlink" title="1ï¼‰ã€è·å–å•ä¸ªæ–¹æ³•"></a>1ï¼‰ã€è·å–å•ä¸ªæ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å– public æ–¹æ³•</span><br><span class="hljs-type">Method</span> <span class="hljs-variable">publicMethod</span> <span class="hljs-operator">=</span> benzClass.getMethod(<span class="hljs-string">&quot;combine&quot;</span>);<br><br><span class="hljs-comment">//è·å– private æ–¹æ³•</span><br><span class="hljs-type">Method</span> <span class="hljs-variable">privateMethod</span> <span class="hljs-operator">=</span> benzClass.getDeclaredMethod(<span class="hljs-string">&quot;privateMethod&quot;</span>,String.class);<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€è·å–å¤šä¸ªæ–¹æ³•"><a href="#2ï¼‰ã€è·å–å¤šä¸ªæ–¹æ³•" class="headerlink" title="2ï¼‰ã€è·å–å¤šä¸ªæ–¹æ³•"></a>2ï¼‰ã€è·å–å¤šä¸ªæ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æœ¬ç±»å…¨éƒ¨æ–¹æ³•</span><br>Method[] declaredMethods = benzClass.getDeclaredMethods();<br><span class="hljs-keyword">for</span> (Method declaredMethod : declaredMethods) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ–¹æ³•å: &quot;</span> + declaredMethod.getName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ–¹æ³•å: privateMethod<br>æ–¹æ³•å: combine<br><br><br><span class="hljs-comment">//è·å–æœ¬ç±»åŠçˆ¶ç±»å…¨éƒ¨ public ä¿®é¥°çš„æ–¹æ³•</span><br>Method[] methods = benzClass.getMethods();<br><span class="hljs-keyword">for</span> (Method method : methods) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ–¹æ³•å: &quot;</span> + method.getName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ å› ä¸ºæ‰€æœ‰ç±»é»˜è®¤ç»§æ‰¿ Object , æ‰€ä»¥æ‰“å°äº† Object çš„ä¸€äº›æ–¹æ³•</span><br>æ–¹æ³•å: combine<br>æ–¹æ³•å: run<br>æ–¹æ³•å: wait<br>æ–¹æ³•å: wait<br>æ–¹æ³•å: wait<br>æ–¹æ³•å: equals<br>æ–¹æ³•å: toString<br>æ–¹æ³•å: hashCode<br>æ–¹æ³•å: getClass<br>æ–¹æ³•å: notify<br>æ–¹æ³•å: notifyAll<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰ã€æ–¹æ³•è°ƒç”¨"><a href="#3ï¼‰ã€æ–¹æ³•è°ƒç”¨" class="headerlink" title="3ï¼‰ã€æ–¹æ³•è°ƒç”¨"></a>3ï¼‰ã€æ–¹æ³•è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Method</span> <span class="hljs-variable">privateMethod</span> <span class="hljs-operator">=</span> benzClass.getDeclaredMethod(<span class="hljs-string">&quot;privateMethod&quot;</span>,String.class);<br>privateMethod.setAccessible(<span class="hljs-literal">true</span>);<br>privateMethod.invoke(benz,<span class="hljs-string">&quot;æ¥æ”¶ä¼ å…¥çš„å‚æ•°&quot;</span>);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æˆ‘æ˜¯ç§æœ‰æ–¹æ³•: æ¥æ”¶ä¼ å…¥çš„å‚æ•°<br></code></pre></td></tr></table></figure><h2 id="å…­ã€æ„é€ æ–¹æ³•"><a href="#å…­ã€æ„é€ æ–¹æ³•" class="headerlink" title="å…­ã€æ„é€ æ–¹æ³•"></a>å…­ã€æ„é€ æ–¹æ³•</h2><h3 id="1ï¼‰ã€è·å–å•ä¸ªæ„é€ æ–¹æ³•"><a href="#1ï¼‰ã€è·å–å•ä¸ªæ„é€ æ–¹æ³•" class="headerlink" title="1ï¼‰ã€è·å–å•ä¸ªæ„é€ æ–¹æ³•"></a>1ï¼‰ã€è·å–å•ä¸ªæ„é€ æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æœ¬ç±»å•ä¸ªæ„é€ æ–¹æ³•</span><br><span class="hljs-type">Constructor</span> <span class="hljs-variable">declaredConstructor</span> <span class="hljs-operator">=</span> benzClass.getDeclaredConstructor(String.class);<br><br><span class="hljs-comment">//è·å–æœ¬ç±»å•ä¸ª public ä¿®é¥°çš„æ„é€ æ–¹æ³•</span><br><span class="hljs-type">Constructor</span> <span class="hljs-variable">singleConstructor</span> <span class="hljs-operator">=</span> benzClass.getConstructor(String.class,String.class);<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€è·å–å¤šä¸ªæ„é€ æ–¹æ³•"><a href="#2ï¼‰ã€è·å–å¤šä¸ªæ„é€ æ–¹æ³•" class="headerlink" title="2ï¼‰ã€è·å–å¤šä¸ªæ„é€ æ–¹æ³•"></a>2ï¼‰ã€è·å–å¤šä¸ªæ„é€ æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æœ¬ç±»å…¨éƒ¨æ„é€ æ–¹æ³•</span><br>Constructor[] declaredConstructors = benzClass.getDeclaredConstructors();<br><span class="hljs-keyword">for</span> (Constructor declaredConstructor1 : declaredConstructors) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ„é€ æ–¹æ³•: &quot;</span> + declaredConstructor1);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ„é€ æ–¹æ³•: <span class="hljs-keyword">public</span> com.dream.aptdemo.Benz()<br>æ„é€ æ–¹æ³•: <span class="hljs-keyword">public</span> com.dream.aptdemo.Benz(java.lang.String,java.lang.String)<br>æ„é€ æ–¹æ³•: <span class="hljs-keyword">private</span> com.dream.aptdemo.Benz(java.lang.String)<br><br><br><span class="hljs-comment">//è·å–å…¨éƒ¨ public æ„é€ æ–¹æ³•, ä¸åŒ…å«çˆ¶ç±»çš„æ„é€ æ–¹æ³•</span><br>Constructor[] constructors = benzClass.getConstructors();<br><span class="hljs-keyword">for</span> (Constructor constructor1 : constructors) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ„é€ æ–¹æ³•: &quot;</span> + constructor1);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ„é€ æ–¹æ³•: <span class="hljs-keyword">public</span> com.dream.aptdemo.Benz()<br>æ„é€ æ–¹æ³•: <span class="hljs-keyword">public</span> com.dream.aptdemo.Benz(java.lang.String,java.lang.String)<br></code></pre></td></tr></table></figure><h3 id="3ï¼‰ã€æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡"><a href="#3ï¼‰ã€æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡" class="headerlink" title="3ï¼‰ã€æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡"></a>3ï¼‰ã€æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä»¥ä¸Šé¢ declaredConstructor ä¸ºä¾‹</span><br>declaredConstructor.setAccessible(<span class="hljs-literal">true</span>);<br><span class="hljs-type">Benz</span> <span class="hljs-variable">declareBenz</span> <span class="hljs-operator">=</span> (Benz) declaredConstructor.newInstance(<span class="hljs-string">&quot;&quot;</span>);<br>System.out.println(declareBenz.carColor);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>ç™½è‰²<br><br><span class="hljs-comment">//ä»¥ä¸Šé¢ singleConstructor ä¸ºä¾‹</span><br><span class="hljs-type">Benz</span> <span class="hljs-variable">singleBenz</span> <span class="hljs-operator">=</span> (Benz) singleConstructor.newInstance(<span class="hljs-string">&quot;å¥”é©° S &quot;</span>,<span class="hljs-string">&quot;é¦™æ§Ÿé‡‘&quot;</span>);<br>System.out.println(singleBenz.carColor);<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>é¦™æ§Ÿé‡‘<br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€æ³›å‹"><a href="#ä¸ƒã€æ³›å‹" class="headerlink" title="ä¸ƒã€æ³›å‹"></a>ä¸ƒã€æ³›å‹</h2><h3 id="1ï¼‰ã€è·å–çˆ¶ç±»çš„æ³›å‹"><a href="#1ï¼‰ã€è·å–çˆ¶ç±»çš„æ³›å‹" class="headerlink" title="1ï¼‰ã€è·å–çˆ¶ç±»çš„æ³›å‹"></a>1ï¼‰ã€è·å–çˆ¶ç±»çš„æ³›å‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Type</span> <span class="hljs-variable">genericType</span> <span class="hljs-operator">=</span> benzClass.getGenericSuperclass();<br><span class="hljs-keyword">if</span> (genericType <span class="hljs-keyword">instanceof</span> ParameterizedType) &#123;<br>   Type[] actualType = ((ParameterizedType) genericType).getActualTypeArguments();<br>   <span class="hljs-keyword">for</span> (Type type : actualType) &#123;<br>       System.out.println(type.getTypeName());<br>   &#125;<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>java.lang.String<br>java.lang.Integer<br></code></pre></td></tr></table></figure><h2 id="å…«ã€æ³¨è§£"><a href="#å…«ã€æ³¨è§£" class="headerlink" title="å…«ã€æ³¨è§£"></a>å…«ã€æ³¨è§£</h2><h3 id="1ï¼‰ã€è·å–å•ä¸ªæ³¨è§£"><a href="#1ï¼‰ã€è·å–å•ä¸ªæ³¨è§£" class="headerlink" title="1ï¼‰ã€è·å–å•ä¸ªæ³¨è§£"></a>1ï¼‰ã€è·å–å•ä¸ªæ³¨è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–å•ä¸ªæœ¬ç±»æˆ–çˆ¶ç±»æ³¨è§£</span><br><span class="hljs-type">Annotation</span> <span class="hljs-variable">annotation1</span> <span class="hljs-operator">=</span> benzClass.getAnnotation(CustomAnnotation1.class);<br>System.out.println(annotation1.annotationType().getSimpleName());<br><span class="hljs-type">Annotation</span> <span class="hljs-variable">annotation3</span> <span class="hljs-operator">=</span> benzClass.getAnnotation(CustomAnnotation3.class);<br>System.out.println(annotation3.annotationType().getSimpleName());<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>CustomAnnotation1<br>CustomAnnotation3<br><br><span class="hljs-comment">//è·å–å•ä¸ªæœ¬ç±»æ³¨è§£</span><br><span class="hljs-type">Annotation</span> <span class="hljs-variable">declaredAnnotation1</span> <span class="hljs-operator">=</span> benzClass.getDeclaredAnnotation(CustomAnnotation2.class);<br>System.out.println(declaredAnnotation1.annotationType().getSimpleName());<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>CustomAnnotation2<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€è·å–å…¨éƒ¨æ³¨è§£"><a href="#2ï¼‰ã€è·å–å…¨éƒ¨æ³¨è§£" class="headerlink" title="2ï¼‰ã€è·å–å…¨éƒ¨æ³¨è§£"></a>2ï¼‰ã€è·å–å…¨éƒ¨æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æœ¬ç±»å’Œçˆ¶ç±»çš„æ³¨è§£(çˆ¶ç±»çš„æ³¨è§£éœ€ç”¨ @Inherited è¡¨ç¤ºå¯è¢«ç»§æ‰¿)</span><br>Annotation[] annotations = benzClass.getAnnotations();<br><span class="hljs-keyword">for</span> (Annotation annotation : annotations) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ³¨è§£åç§°: &quot;</span> + annotation.annotationType().getSimpleName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ³¨è§£åç§°: CustomAnnotation3<br>æ³¨è§£åç§°: CustomAnnotation1<br>æ³¨è§£åç§°: CustomAnnotation2<br><br><span class="hljs-comment">//è·å–æœ¬ç±»çš„æ³¨è§£</span><br>Annotation[] declaredAnnotations = benzClass.getDeclaredAnnotations();<br><span class="hljs-keyword">for</span> (Annotation declaredAnnotation : declaredAnnotations) &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ³¨è§£åç§°: &quot;</span> + declaredAnnotation.annotationType().getSimpleName());<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>æ³¨è§£åç§°: CustomAnnotation1<br>æ³¨è§£åç§°: CustomAnnotation2<br></code></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„è®²è§£ï¼Œæˆ‘ä»¬æŠŠåå°„å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹éƒ½è®²å®Œäº†ï¼Œå¯ä»¥è¯´åå°„æ˜¯éå¸¸çš„å¼ºå¤§ï¼Œä½†æ˜¯å­¦ä¹ äº†ä¹‹åï¼Œä½ å¯èƒ½ä¼šä¸çŸ¥é“è¯¥å¦‚ä½•ä½¿ç”¨ï¼Œåè€Œè§‰å¾—è¿˜ä¸å¦‚ç›´æ¥è°ƒç”¨æ–¹æ³•æ¥çš„ç›´æ¥å’Œæ–¹ä¾¿ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡å®è·µæ¥æ„Ÿå—ä¸€ä¸‹ã€‚</p><h2 id="ä¹ã€åå°„å®è·µ"><a href="#ä¹ã€åå°„å®è·µ" class="headerlink" title="ä¹ã€åå°„å®è·µ"></a>ä¹ã€åå°„å®è·µ</h2><p>éœ€æ±‚å¤§æ¦‚å°±æ˜¯ï¼šé€šè¿‡åå°é…ç½®ä¸‹å‘ï¼Œå®Œæˆ App ä¸šåŠ¡åŠŸèƒ½çš„åˆ‡æ¢ã€‚å› ä¸ºåªæ˜¯æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä»¥é€šè¿‡è¯»å–æœ¬åœ°é…ç½®æ–‡ä»¶å®Œæˆ App ä¸šåŠ¡åŠŸèƒ½çš„åˆ‡æ¢ï¼š</p><p>1ï¼‰ã€é¦–å…ˆå‡†å¤‡ä¸¤ä¸ªä¸šåŠ¡ç±»ï¼Œå‡è®¾ä»–ä»¬çš„åŠŸèƒ½éƒ½å¾ˆå¤æ‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åŒ…å</span><br><span class="hljs-keyword">package</span> com.dream.aptdemo;<br><br><span class="hljs-comment">//ä¸šåŠ¡1</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Business1</span> &#123;<br> <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doBusiness1Function</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å¤æ‚ä¸šåŠ¡åŠŸèƒ½1&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//ä¸šåŠ¡2</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Business2</span> &#123;<br> <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doBusiness2Function</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å¤æ‚ä¸šåŠ¡åŠŸèƒ½2&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ï¼‰ã€éåå°„æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>  <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>      <span class="hljs-comment">//ä¸šåŠ¡åŠŸèƒ½1</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Business1</span>().doBusiness1Function();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‡è®¾è¿™ä¸ªæ—¶å€™éœ€è¦ä»ç¬¬ä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½åˆ‡æ¢åˆ°ç¬¬äºŒä¸ªä¸šåŠ¡åŠŸèƒ½ï¼Œä½¿ç”¨éåå°„æ–¹å¼ï¼Œå¿…é¡»ä¿®æ”¹ä»£ç ï¼Œå¹¶ä¸”é‡æ–°ç¼–è¯‘è¿è¡Œï¼Œæ‰å¯ä»¥è¾¾åˆ°æ•ˆæœã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„å»é€šè¿‡è¯»å–é…ç½®ä»è€Œå®ŒæˆåŠŸèƒ½çš„åˆ‡æ¢ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦ä¿®æ”¹ä»£ç ä¸”ä»£ç å˜å¾—æ›´åŠ é€šç”¨</p><p>3ï¼‰ã€åå°„æ–¹å¼</p><p>1ã€é¦–å…ˆå‡†å¤‡ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4de69825228a40dbb491fc9b3f456922~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20210625180301557"></p><p>2ã€è¯»å–é…ç½®æ–‡ä»¶ï¼Œåå°„åˆ›å»ºå®ä¾‹å¹¶è°ƒç”¨æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>  <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//è·å–æ–‡ä»¶</span><br>            <span class="hljs-type">File</span> <span class="hljs-variable">springConfigFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;/Users/zhouying/AndroidStudioProjects/AptDemo/config.txt&quot;</span>);<br>            <span class="hljs-comment">//è¯»å–é…ç½®</span><br>            Properties config= <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>            config.load(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(springConfigFile));<br>            <span class="hljs-comment">//è·å–ç±»è·¯å¾„</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">classPath</span> <span class="hljs-operator">=</span> (String) config.get(<span class="hljs-string">&quot;class&quot;</span>);<br>            <span class="hljs-comment">//è·å–æ–¹æ³•å</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> (String) config.get(<span class="hljs-string">&quot;method&quot;</span>);<br><br>            <span class="hljs-comment">//åå°„åˆ›å»ºå®ä¾‹å¹¶è°ƒç”¨æ–¹æ³•</span><br>            <span class="hljs-type">Class</span> <span class="hljs-variable">aClass</span> <span class="hljs-operator">=</span> Class.forName(classPath);<br>            <span class="hljs-type">Constructor</span> <span class="hljs-variable">declaredConstructor</span> <span class="hljs-operator">=</span> aClass.getDeclaredConstructor();<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> declaredConstructor.newInstance();<br>            <span class="hljs-type">Method</span> <span class="hljs-variable">declaredMethod</span> <span class="hljs-operator">=</span> aClass.getDeclaredMethod(methodName);<br>            declaredMethod.invoke(o);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€å®Œæˆä¸Šé¢ä¸¤æ­¥åï¼Œåç»­æˆ‘ä»¬å°±åªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶å°±èƒ½å®Œæˆ App ä¸šåŠ¡åŠŸèƒ½çš„åˆ‡æ¢äº†</p><h2 id="åã€æ€»ç»“"><a href="#åã€æ€»ç»“" class="headerlink" title="åã€æ€»ç»“"></a>åã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« è®²çš„ä¸€äº›é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€åå°„å¸¸ç”¨ Api çš„ä½¿ç”¨ï¼Œæ³¨æ„åœ¨è®¿é—®ç§æœ‰å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œè°ƒç”¨ <code>setAccessible</code> è®¾ç½®ä¸º true ï¼Œè¡¨ç¤ºå…è®¸æˆ‘ä»¬è®¿é—®ç§æœ‰å˜é‡</p><p>2ã€å®è·µé€šè¿‡åå°„å®Œæˆ App ä¸šåŠ¡åŠŸèƒ½çš„åˆ‡æ¢</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤ </p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®²æ³¨è§£ï¼Œæ•¬è¯·æœŸå¾…å§</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://blog.csdn.net/qq_41464123/article/details/109248009?utm_source=app">Javaåå°„æœ‰å¤šå¼ºï¼Ÿ ä»–æ‹¥æœ‰è¿™äº”å¤§ç¥å¥‡åŠŸèƒ½ï¼</a></p><p><a href="https://how2j.cn/k/reflection/reflection-class/108.html">HOW2J åå°„éƒ¨åˆ†</a></p><blockquote><p>å…¨æ–‡åˆ°æ­¤ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºå’Œè½¬å‘ï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›</p></blockquote><blockquote><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ <strong>å…¬ ä¼— å·</strong>ï¼Œå¾®ä¿¡æœç´¢ <strong>sweetying</strong> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Android</category>
      
      <category>APT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Android</tag>
      
      <tag>Android APT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆå…«ï¼‰ï¼šFlutter ä¸ Android çš„ä½ æ¥æˆ‘å¾€</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AB%EF%BC%89%EF%BC%9AFlutter%20%E4%B8%8E%20Android%20%E7%9A%84%E4%BD%A0%E6%9D%A5%E6%88%91%E5%BE%80/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AB%EF%BC%89%EF%BC%9AFlutter%20%E4%B8%8E%20Android%20%E7%9A%84%E4%BD%A0%E6%9D%A5%E6%88%91%E5%BE%80/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101704046.jpeg" alt="rapeseed-6599950_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Flutter ä¸­çš„è·¯ç”±ï¼š</p><blockquote><p>1ã€åŸºæœ¬è·¯ç”±</p><p>2ã€å‘½åè·¯ç”±</p><p>3ã€è¿”å›ä¸Šä¸€çº§</p><p>4ã€æ›¿æ¢è·¯ç”±</p><p>5ã€è¿”å›åˆ°æ ¹è·¯ç”±</p></blockquote><p>ä»¥åŠé›†æˆ http åº“è¿›è¡Œ https è¯·æ±‚å®æˆ˜ã€‚</p><p>è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7142650961868095524#heading-11">Flutter ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šFlutter è·¯ç”±å’Œ HTTPS è¯·æ±‚å®æˆ˜</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ Flutter ä¸ Android åŸç”Ÿçš„äº¤äº’ä¸é€šä¿¡è¿›è¡Œä»‹ç»</p><p>æˆ‘åš Android åŸç”Ÿå¼€å‘æ—¶ï¼Œé€šå¸¸ä¼šä»¥ç»„ä»¶åŒ–çš„æ–¹å¼å»è¿›è¡Œï¼Œæ ¹æ®ä¸šåŠ¡åˆ’åˆ†ä¸åŒçš„ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å·¥ç¨‹ï¼Œå¯ä»¥è¿›è¡Œç‹¬ç«‹çš„è¿è¡Œå’Œè°ƒè¯•ï¼Œå½“éœ€è¦å‘ç‰ˆæ—¶ï¼Œæˆ‘ä»¬ä¼šå°†æ¯ä¸ªç»„ä»¶æ‰“æˆ aar åŒ…å¹¶ä¸Šä¼ åˆ° Maven ç§æœä»“åº“ï¼Œç„¶åæ•´åˆåˆ° App å£³å·¥ç¨‹ä¸­ï¼Œæœ€ç»ˆè¿›è¡Œæ‰“åŒ…ä¸Šçº¿ã€‚åœ¨è¿™ä¸ªå¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»„ä»¶ä¹‹é—´æ˜¯éœ€è¦è¿›è¡Œé€šä¿¡çš„ï¼Œå¦‚æœéœ€è¦é€šä¿¡çš„ç»„ä»¶éƒ½æ˜¯ Android åŸç”Ÿå¼€å‘çš„ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©ä¸€ä¸ªè·¯ç”±æ¡†æ¶è¿›è¡Œé€šä¿¡ï¼Œä¾‹å¦‚ï¼šArouterã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬æœ‰äº›ä¸šåŠ¡ç»„ä»¶æ˜¯ä½¿ç”¨ Flutter å¼€å‘çš„ï¼Œå› æ­¤è¿™é‡Œå°±æ¶‰åŠåˆ° Flutter ä¸ Android åŸç”Ÿçš„é€šä¿¡ï¼Œé‚£ä¹ˆå®ƒä»¬æ˜¯å¦‚ä½•è¿›è¡Œé€šä¿¡çš„å‘¢ï¼Ÿä¸”å¬æˆ‘ç»†ç»†é“æ¥</p><h2 id="ä¸€ã€Android-å£³å·¥ç¨‹é›†æˆ-Flutter-ç»„ä»¶"><a href="#ä¸€ã€Android-å£³å·¥ç¨‹é›†æˆ-Flutter-ç»„ä»¶" class="headerlink" title="ä¸€ã€Android å£³å·¥ç¨‹é›†æˆ Flutter ç»„ä»¶"></a>ä¸€ã€Android å£³å·¥ç¨‹é›†æˆ Flutter ç»„ä»¶</h2><p>1ã€æ‰“å¼€ AndroidStudio ï¼Œåˆ›å»ºä¸€ä¸ª Android å·¥ç¨‹ AndroidAndFlutterInteractiveï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf366145424946f193676017f1a2bc42~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220918215022577" width="50%" /><p>2ã€æ¥ç€åœ¨åˆ›å»ºä¸€ä¸ª Flutter å·¥ç¨‹ fluttermoduleï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/63073b782a5e4716a0a0a8659673cc28~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220918215214876" width="50%" /><p>main.dart æ–‡ä»¶åˆå§‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() =&gt; runApp(<span class="hljs-keyword">const</span> MyApp());<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyApp(&#123;Key? key&#125;) : <span class="hljs-keyword">super</span>(key: key);<br><br>  <span class="hljs-comment">// This widget is the root of your application.</span><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      title: <span class="hljs-string">&#x27;Flutter Demo&#x27;</span>,<br>      theme: ThemeData(<br>        primarySwatch: Colors.blue,<br>      ),<br>      home: <span class="hljs-keyword">const</span> MyHomePage(title: <span class="hljs-string">&#x27;Flutter Demo Home Page&#x27;</span>),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyHomePage(&#123;Key? key, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.title&#125;) : <span class="hljs-keyword">super</span>(key: key);<br><br>  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> title;<br><br>  <span class="hljs-meta">@override</span><br>  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyHomePage</span>&gt; </span>&#123;<br>  <span class="hljs-built_in">int</span> _counter = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-keyword">void</span> _incrementCounter() &#123;<br>    setState(() &#123;<br>      _counter++;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(widget.title),<br>      ),<br>      body: Center(<br>        child: Column(<br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: &lt;Widget&gt;[<br>            <span class="hljs-keyword">const</span> Text(<br>              <span class="hljs-string">&#x27;You have clicked the button this many times:&#x27;</span>,<br>            ),<br>            Text(<br>              <span class="hljs-string">&#x27;<span class="hljs-subst">$_counter</span>&#x27;</span>,<br>              style: Theme.of(context).textTheme.headline4,<br>            ),<br>          ],<br>        ),<br>      ),<br>      floatingActionButton: FloatingActionButton(<br>        onPressed: _incrementCounter,<br>        tooltip: <span class="hljs-string">&#x27;Increment&#x27;</span>,<br>        child: <span class="hljs-keyword">const</span> Icon(Icons.add),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€åœ¨ Flutter å·¥ç¨‹ä¸­æ‰§è¡Œ <code>flutter build aar</code> å‘½ä»¤æˆ–è€…ç›´æ¥ä½¿ç”¨ AndroidStudio ä¸Šçš„å¯è§†åŒ–æ“ä½œï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d61a34bea63840d3a74083913adccf2a~tplv-k3u1fbpfcp-watermark.image?" alt="202209221609588.png" width="70%" /><p>æ‰§è¡Œå®Œåä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs dart">Consuming the Module<br>  <span class="hljs-number">1.</span> Open &lt;host&gt;/app/build.gradle<br>  <span class="hljs-number">2.</span> Ensure you have the repositories configured, otherwise add them:<br><br>      <span class="hljs-built_in">String</span> storageUrl = System.env.FLUTTER_STORAGE_BASE_URL ?: <span class="hljs-string">&quot;https://storage.googleapis.com&quot;</span><br>      repositories &#123;<br>        maven &#123;<br>            url <span class="hljs-string">&#x27;/Users/zhouying/codeandnotes/Flutter/fluttermodule/build/host/outputs/repo&#x27;</span><br>        &#125;<br>        maven &#123;<br>            url <span class="hljs-string">&quot;<span class="hljs-subst">$storageUrl</span>/download.flutter.io&quot;</span><br>        &#125;<br>      &#125;<br><br>  <span class="hljs-number">3.</span> Make the host app depend <span class="hljs-keyword">on</span> the Flutter module:<br><br>    dependencies &#123;<br>      debugImplementation <span class="hljs-string">&#x27;com.example.fluttermodule:flutter_debug:1.0&#x27;</span><br>      profileImplementation <span class="hljs-string">&#x27;com.example.fluttermodule:flutter_profile:1.0&#x27;</span><br>      releaseImplementation <span class="hljs-string">&#x27;com.example.fluttermodule:flutter_release:1.0&#x27;</span><br>    &#125;<br><br><br>  <span class="hljs-number">4.</span> Add the `profile` build type:<br><br>    android &#123;<br>      buildTypes &#123;<br>        profile &#123;<br>          initWith debug<br>        &#125;<br>      &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><p>å¤§è‡´æ„æ€å°±æ˜¯åœ¨æˆ‘ä»¬åˆ›å»ºçš„ Android å·¥ç¨‹ä¸­é…ç½®ç”Ÿæˆçš„ Flutter aar çš„ä»“åº“åœ°å€ï¼Œç„¶åå¼•ç”¨è¿™ä¸ª aarï¼Œå¤§å®¶æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é…ç½®å³å¯</p><p><strong>æ³¨æ„</strong>ï¼šä¸Šè¿°æ¼”ç¤ºç”Ÿæˆçš„ Flutter aar åªæ˜¯å­˜åœ¨æœ¬åœ°ï¼Œå®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šè‡ªå·±ç¼–å†™è„šæœ¬ç”Ÿæˆ aar å¹¶ä¸Šä¼ åˆ° Maven ç§æœä»“åº“</p><p>é…ç½®å®Œæˆåï¼ŒåŒæ­¥ä¸€ä¸‹é¡¹ç›®ï¼Œå¦‚æœæ²¡å•¥æŠ¥é”™ï¼Œæˆ‘ä»¬å°±ç®—æ˜¯æˆåŠŸé›†æˆäº† Flutter ç»„ä»¶</p><h2 id="äºŒã€Android-è°ƒèµ·-Flutter-é¡µé¢ï¼ˆFlutterActivityï¼‰"><a href="#äºŒã€Android-è°ƒèµ·-Flutter-é¡µé¢ï¼ˆFlutterActivityï¼‰" class="headerlink" title="äºŒã€Android è°ƒèµ· Flutter é¡µé¢ï¼ˆFlutterActivityï¼‰"></a>äºŒã€Android è°ƒèµ· Flutter é¡µé¢ï¼ˆFlutterActivityï¼‰</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å¯¹ Android å·¥ç¨‹è¿›è¡Œé…ç½®ï¼Œè®© Flutter é¡µé¢æ˜¾ç¤ºå‡ºæ¥</p><p>1ã€åœ¨ Android å·¥ç¨‹çš„ AndroidManifest.xml æ–‡ä»¶ä¸­æ·»åŠ  FlutterActivity</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">&lt;!--æ³¨å†ŒFlutterActivity--&gt;<br>&lt;activity<br>    android:name=<span class="hljs-string">&quot;io.flutter.embedding.android.FlutterActivity&quot;</span><br>    android:configChanges=<span class="hljs-string">&quot;orientation|keyboardHidden|screenSize&quot;</span><br>    android:hardwareAccelerated=<span class="hljs-string">&quot;true&quot;</span><br>    android:windowSoftInputMode=<span class="hljs-string">&quot;adjustResize&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><p>2ã€ç¼–å†™ä¸€ä¸ª button è·³è½¬åˆ° Flutter é¡µé¢</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€activity_main.xml</span><br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;<br>&lt;LinearLayout xmlns:android=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span><br>    xmlns:tools=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span><br>    android:layout_width=<span class="hljs-string">&quot;match_parent&quot;</span><br>    android:layout_height=<span class="hljs-string">&quot;match_parent&quot;</span><br>    android:orientation=<span class="hljs-string">&quot;vertical&quot;</span><br>    tools:context=<span class="hljs-string">&quot;.MainActivity&quot;</span>&gt;<br><br>    &lt;Button<br>        android:layout_width=<span class="hljs-string">&quot;match_parent&quot;</span><br>        android:layout_height=<span class="hljs-string">&quot;wrap_content&quot;</span><br>        android:layout_marginHorizontal=<span class="hljs-string">&quot;20dp&quot;</span><br>        android:textAllCaps=<span class="hljs-string">&quot;false&quot;</span><br>        android:onClick=<span class="hljs-string">&quot;toFlutterActivity&quot;</span><br>        android:text=<span class="hljs-string">&quot;è·³è½¬ FlutterActivity&quot;</span><br>        tools:ignore=<span class="hljs-string">&quot;HardcodedText,UsingOnClickInXml&quot;</span> /&gt;<br><br>&lt;/LinearLayout&gt;<br><br><span class="hljs-comment">//2ã€MainActivity</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br>    <br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    &#125;<br><br>    <span class="hljs-comment">//è·³è½¬åˆ° FlutterActivity</span><br>    fun toFlutterActivity(view: View) &#123;<br>        val intent = FlutterActivity.createDefaultIntent(<span class="hljs-keyword">this</span>)<br>        startActivity(intent)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€æ•ˆæœå±•ç¤ºï¼š</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/120d15e966e24a588e0a212d36ffbd7d~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker.gif" width="30%" /><p>ä¸Šè¿°æ•ˆæœå›¾è™½ç„¶è·³è¿‡å»äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç‚¹å‡» button æ—¶ä¸€ä¸ªæ˜æ˜¾çš„åœé¡¿æ„Ÿï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ç§é¢„åˆå§‹åŒ– Flutter çš„æ–¹å¼</p><h3 id="2-1ã€Android-é¢„åˆå§‹åŒ–-Flutter-é¡µé¢è·³è½¬"><a href="#2-1ã€Android-é¢„åˆå§‹åŒ–-Flutter-é¡µé¢è·³è½¬" class="headerlink" title="2.1ã€Android é¢„åˆå§‹åŒ– Flutter é¡µé¢è·³è½¬"></a>2.1ã€Android é¢„åˆå§‹åŒ– Flutter é¡µé¢è·³è½¬</h3><p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç¼“å­˜ FlutterEngineï¼Œç„¶åä»ç¼“å­˜ä¸­å–å‡º FlutterEngine è¿›è¡Œè·³è½¬</p><p>1ã€ä¿®æ”¹ MainActivity ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br><br>    companion object&#123;<br>        <span class="hljs-comment">//ç¼“å­˜ FlutterEngine çš„ key</span><br>        <span class="hljs-keyword">const</span> val FLUTTER_ENGINE_ID = <span class="hljs-string">&quot;default&quot;</span><br>    &#125;<br>    <span class="hljs-comment">//FlutterEngine</span><br>    private lateinit <span class="hljs-keyword">var</span> flutterEngine: FlutterEngine<br><br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>        <span class="hljs-comment">//åˆå§‹åŒ– FlutterEngine</span><br>        flutterEngine = initFlutterEngine(FLUTTER_ENGINE_ID)<br>    &#125;<br><br>    <span class="hljs-comment">//è·³è½¬åˆ° FlutterActivity</span><br>    fun toFlutterActivity(view: View) &#123;<br>        val intent = FlutterActivity.withCachedEngine(FLUTTER_ENGINE_ID).build(<span class="hljs-keyword">this</span>)<br>        startActivity(intent)<br>    &#125;<br><br>    <span class="hljs-comment"><span class="language-markdown">/<span class="hljs-strong">**</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     <span class="hljs-emphasis">* åˆå§‹åŒ– FlutterEngine</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     *</span> ä¸€èˆ¬åœ¨è·³è½¬å‰è°ƒç”¨ï¼Œä»ç¼“å­˜ä¸­å–å‡º FlutterEngineï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æˆ‘ä»¬é¡µé¢çš„ä¸€ä¸ªè·³è½¬</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     <span class="hljs-emphasis">*/</span></span></span></span><br>    private fun initFlutterEngine(engineId: <span class="hljs-built_in">String</span>): FlutterEngine &#123;<br>        <span class="hljs-comment">//åˆ›å»º FlutterEngine</span><br>        val flutterEngine = FlutterEngine(<span class="hljs-keyword">this</span>)<br>        <span class="hljs-comment">//æŒ‡å®šè¦è·³è½¬çš„ Flutter é¡µé¢</span><br>        flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">&quot;main&quot;</span>)<br>        flutterEngine.dartExecutor.executeDartEntrypoint(DartExecutor.DartEntrypoint.createDefault())<br>        <span class="hljs-comment">//ç¼“å­˜ FlutterEngine</span><br>        val flutterEngineCache = FlutterEngineCache.getInstance()<br>        flutterEngineCache.put(engineId,flutterEngine)<br>        <span class="hljs-keyword">return</span> flutterEngine<br>    &#125;<br><br>    override fun onDestroy() &#123;<br>        <span class="hljs-keyword">super</span>.onDestroy()<br>        <span class="hljs-comment"><span class="language-markdown"><span class="hljs-strong"><span class="hljs-emphasis">/*</span><span class="hljs-emphasis">*</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">         *</span> æ³¨æ„è¿™é‡Œä¸€å®šè¦é”€æ¯ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">         <span class="hljs-emphasis">* å› ä¸º FlutterEngine æ¯”æ˜¾ç¤ºå®ƒçš„ FlutterActivity ç”Ÿå‘½å‘¨æœŸè¦é•¿</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">         *</span> å½“æˆ‘ä»¬é€€å‡º FlutterActivity æ—¶ï¼ŒFlutterEngine å¯èƒ½è¿˜ä¼šç»§ç»­æ‰§è¡Œä»£ç </span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">         <span class="hljs-emphasis">* æ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨ FlutterActivity é€€å‡ºæ—¶è°ƒç”¨ flutterEngine.destroy åœæ­¢æ‰§è¡Œå¹¶é‡Šæ”¾èµ„æº</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">         *</span>/</span></span></span><br>        flutterEngine.destroy()<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€Flutter ç«¯ä¹Ÿè¦åšç›¸åº”çš„ä¿®æ”¹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">void</span> main() =&gt; runApp(getRouter(<span class="hljs-built_in">window</span>.defaultRouteName));<br><br><span class="hljs-comment">///<span class="language-markdown">æ¥æ”¶ Android è·³è½¬è¿‡æ¥çš„å¯åŠ¨è·¯ç”±å‚æ•°ï¼Œå¦‚æœåŒ¹é…ä¸Šäº†èµ°æ­£å¸¸æµç¨‹</span></span><br><span class="hljs-comment">///<span class="language-markdown">å¦‚æœæ²¡åŒ¹é…ä¸Šï¼Œåˆ™æç¤º page not found</span></span><br>Widget getRouter(<span class="hljs-built_in">String</span> routeName) &#123;<br>  <span class="hljs-keyword">switch</span>(routeName)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;main&quot;</span>:<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> MyApp();<br>    <span class="hljs-keyword">default</span>:<br>      <span class="hljs-keyword">return</span> MaterialApp(<br>        home: Scaffold(<br>          appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&quot;Flutter Demo Home Page&quot;</span>),<br>          ),<br>          body: <span class="hljs-keyword">const</span> Center(<br>            child: Text(<br>              <span class="hljs-string">&quot;page not found&quot;</span>,<br>              style: TextStyle(<br>                fontSize: <span class="hljs-number">24</span>,<br>                color: Colors.red<br>              ),<br>            ),<br>          ),<br>        ),<br>      );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€å½“æˆ‘ä»¬ä¿®æ”¹ Flutter å·¥ç¨‹çš„ä»£ç åï¼Œé‡æ–°è¿è¡Œ Android é¡¹ç›®å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p><blockquote><p>1ã€åœ¨ Flutter å·¥ç¨‹é‡æ–°æ‰§è¡Œ <code>flutter build aar</code> å‘½ä»¤</p><p>2ã€å¾… Flutter å‘½ä»¤æ‰§è¡Œå®Œæˆï¼Œclean Android å·¥ç¨‹</p></blockquote><p>æ­¤æ—¶æˆ‘ä»¬è¿è¡Œ Android é¡¹ç›®ï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e34d61c673024ce2bdc36f6c13602b0f~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (1).gif" width="30%" /><p>å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢è·³è½¬å˜å¾—éå¸¸ä¸æ»‘</p><p>ç°åœ¨åªæ˜¯ç®€å•çš„è·³è½¬ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘æƒ³åœ¨è·³è½¬æ—¶ç»™ Flutter é¡µé¢ä¼ å€¼è¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h3 id="2-2ã€Android-ç»™-Flutter-é¡µé¢ä¼ å€¼"><a href="#2-2ã€Android-ç»™-Flutter-é¡µé¢ä¼ å€¼" class="headerlink" title="2.2ã€Android ç»™ Flutter é¡µé¢ä¼ å€¼"></a>2.2ã€Android ç»™ Flutter é¡µé¢ä¼ å€¼</h3><p>åˆ†æ 2.1 è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨ Android å·¥ç¨‹ä¸­è®¾ç½®äº†å¯åŠ¨è·¯ç”±ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">&quot;main&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨ Flutter ä¸­é€šè¿‡ <code>window.defaultRouteName</code> è·å–äº†è·¯ç”±</p><p>é‚£ä¹ˆæˆ‘æ˜¯å¦å¯ä»¥åœ¨å¯åŠ¨è·¯ç”±ä¸­å¤šæ·»åŠ ä¸€äº›æ•°æ®ï¼Œç„¶å Flutter è·å–åè¿›è¡Œè§£æå‘¢ï¼Ÿä¾‹å¦‚ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€æˆ‘åœ¨ Android ä¸­è¿™æ ·è®¾ç½®</span><br>flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">&quot;main?&#123;\&quot;name\&quot;:\&quot;erdai\&quot;,\&quot;age\&quot;:18&#125;&quot;</span>)<br><br><span class="hljs-comment">//2ã€Flutter ä¸­è·å–è·¯ç”±å¹¶è¿›è¡Œè§£æ</span><br><span class="hljs-built_in">String</span> url = <span class="hljs-built_in">window</span>.defaultRouteName;<br><span class="hljs-comment">//è·å–è·¯ç”±åç§°</span><br><span class="hljs-built_in">String</span> routeName = url.substring(<span class="hljs-number">0</span>,url.indexOf(<span class="hljs-string">&quot;?&quot;</span>));<br><span class="hljs-comment">//è·å–å‚æ•°ï¼Œå°†å‚æ•°è§£æå¹¶è½¬æ¢æˆä¸€ä¸ª Map å¯¹è±¡</span><br><span class="hljs-built_in">String</span> paramsString = url.substring(url.indexOf(<span class="hljs-string">&quot;?&quot;</span>) + <span class="hljs-number">1</span>);<br><span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">dynamic</span>&gt; paramsMap = json.decode(paramsString);<br><br></code></pre></td></tr></table></figure><p>å®é™…ä¸Šå°±æ˜¯è¿™ä¹ˆå¹²çš„ï¼Œæˆ‘ä»¬ä¿®æ”¹ Flutter ç«¯çš„ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">void</span> main()&#123;<br>  <span class="hljs-comment">//è·å– Android ä¼ è¿‡æ¥çš„è·¯ç”±</span><br>  <span class="hljs-built_in">String</span> url = <span class="hljs-built_in">window</span>.defaultRouteName;<br>  <span class="hljs-comment">//è§£æå¹¶è·å–è·¯ç”±åç§°</span><br>  <span class="hljs-built_in">String</span> routeName = url.substring(<span class="hljs-number">0</span>,url.indexOf(<span class="hljs-string">&quot;?&quot;</span>));<br>  <span class="hljs-comment">//è§£æå¹¶å°†å‚æ•°è½¬æ¢æˆä¸€ä¸ª Map å¯¹è±¡</span><br>  <span class="hljs-built_in">String</span> paramsString = url.substring(url.indexOf(<span class="hljs-string">&quot;?&quot;</span>) + <span class="hljs-number">1</span>);<br>  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">dynamic</span>&gt; paramsMap = json.decode(paramsString);<br>  <span class="hljs-comment">//æ‰“å°å‚æ•°</span><br>  <span class="hljs-built_in">print</span>(paramsMap);<br>  runApp(getRouter(routeName));<br>&#125;<br><span class="hljs-comment">//...</span><br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å‘å¸ƒ aarï¼Œclean Android å·¥ç¨‹å¹¶é‡æ–°è¿è¡Œä¼šè¿›è¡Œå‚æ•°çš„æ‰“å°ï¼š</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a1404b92feb4ad1b7c00c89964a619c~tplv-k3u1fbpfcp-watermark.image?" alt="202209221611327.png" width="70%" /><h2 id="ä¸‰ã€Android-åµŒå…¥-Flutter-é¡µé¢ï¼ˆFlutterFragmentï¼‰"><a href="#ä¸‰ã€Android-åµŒå…¥-Flutter-é¡µé¢ï¼ˆFlutterFragmentï¼‰" class="headerlink" title="ä¸‰ã€Android åµŒå…¥ Flutter é¡µé¢ï¼ˆFlutterFragmentï¼‰"></a>ä¸‰ã€Android åµŒå…¥ Flutter é¡µé¢ï¼ˆFlutterFragmentï¼‰</h2><p>ç±»æ¯” Android å¯åŠ¨ FlutterActivityï¼Œä¸»è¦æ˜¯é€šè¿‡ä¸¤ç§æ–¹å¼æ„å»º intent å¯¹è±¡ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//æ–¹å¼ä¸€</span><br><span class="hljs-keyword">var</span> intent: Intent = FlutterActivity.createDefaultIntent(<span class="hljs-keyword">this</span>)<br>  <br><span class="hljs-comment">//æ–¹å¼äºŒ</span><br><span class="hljs-keyword">var</span> intent = FlutterActivity<br>  .withCachedEngine(FLUTTER_ENGINE_ID)<br>  .build(<span class="hljs-keyword">this</span>)<br></code></pre></td></tr></table></figure><p>æ„å»º FlutterFragment ç±»ä¼¼ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//æ–¹å¼ä¸€</span><br><span class="hljs-keyword">var</span> flutterFragment: FlutterFragment = FlutterFragment.createDefault()<br>  <br><span class="hljs-comment">//æ–¹å¼äºŒ</span><br><span class="hljs-keyword">var</span> flutterFragment: FlutterFragment = FlutterFragment<br>     .withCachedEngine(FLUTTER_ENGINE_ID)<br>     .build()<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ Android ä»£ç  ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€æˆ‘ä»¬æ–°å»ºä¸€ä¸ª SecondActivity</span><br><span class="hljs-comment">//activity_second.xmlå†…å®¹ï¼šFrameLayout ç”¨äºæ‰¿è½½ FlutterFragment</span><br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;<br>&lt;FrameLayout <br>    xmlns:android=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span><br>    xmlns:tools=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span><br>    android:id=<span class="hljs-string">&quot;@+id/flFragmentContainer&quot;</span><br>    android:layout_width=<span class="hljs-string">&quot;match_parent&quot;</span><br>    android:layout_height=<span class="hljs-string">&quot;match_parent&quot;</span><br>    tools:context=<span class="hljs-string">&quot;.SecondActivity&quot;</span>/&gt;<br>      <br><span class="hljs-comment">//2ã€ä¿®æ”¹ SecondActivity</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br>    companion object&#123;<br>        <span class="hljs-comment">//ç¼“å­˜ FlutterEngine çš„ key</span><br>        <span class="hljs-keyword">const</span> val FLUTTER_ENGINE_ID = <span class="hljs-string">&quot;default&quot;</span><br>    &#125;<br>    <span class="hljs-comment">//FlutterEngine</span><br>    private lateinit <span class="hljs-keyword">var</span> flutterEngine: FlutterEngine<br>    <span class="hljs-comment">//FlutterFragment</span><br>    private lateinit <span class="hljs-keyword">var</span> flutterFragment: FlutterFragment<br><br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_second)<br>        <span class="hljs-comment">//åˆå§‹åŒ– FlutterEngine</span><br>        flutterEngine = initFlutterEngine(FLUTTER_ENGINE_ID)<br><br>        <span class="hljs-comment">//åˆå§‹åŒ– FlutterFragment</span><br>        flutterFragment = FlutterFragment<br>            .withCachedEngine(FLUTTER_ENGINE_ID)<br>            .build()<br><br>        <span class="hljs-comment">//å°† FlutterFragment åµŒå…¥åˆ° SecondActivity ä¸­</span><br>        supportFragmentManager.beginTransaction().replace(R.id.flFragmentContainer,flutterFragment).commit()<br>    &#125;<br><br>    <span class="hljs-comment"><span class="language-markdown">/<span class="hljs-strong">**</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     <span class="hljs-emphasis">* åˆå§‹åŒ– FlutterEngine</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     *</span> ä¸Šè¿°ä»£ç ä¸€èˆ¬åœ¨è·³è½¬å‰è°ƒç”¨ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æˆ‘ä»¬é¡µé¢çš„ä¸€ä¸ªè·³è½¬</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     <span class="hljs-emphasis">*/</span></span></span></span><br>    private fun initFlutterEngine(engineId: <span class="hljs-built_in">String</span>): FlutterEngine &#123;<br>        <span class="hljs-comment">//åˆ›å»º FlutterEngine</span><br>        val flutterEngine = FlutterEngine(<span class="hljs-keyword">this</span>)<br>        <span class="hljs-comment">//æŒ‡å®šè¦è·³è½¬çš„ Flutter é¡µé¢å¹¶æºå¸¦å‚æ•°</span><br>        flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">&quot;main?&#123;\&quot;name\&quot;:\&quot;erdai\&quot;,\&quot;age\&quot;:18&#125;&quot;</span>)<br>        flutterEngine.dartExecutor.executeDartEntrypoint(DartExecutor.DartEntrypoint.createDefault())<br>        <span class="hljs-comment">//ç¼“å­˜ FlutterEngine</span><br>        val flutterEngineCache = FlutterEngineCache.getInstance()<br>        flutterEngineCache.put(engineId,flutterEngine)<br>        <span class="hljs-keyword">return</span> flutterEngine<br>    &#125;<br><br>    <span class="hljs-comment">//é‡å†™ä¸€äº›æ–¹æ³•ï¼Œç„¶åå°†å…¶è½¬å‘åˆ°äº† FlutterFragment ä¸­</span><br>    override fun onPostResume() &#123;<br>        <span class="hljs-keyword">super</span>.onPostResume()<br>        flutterFragment.onPostResume()<br>    &#125;<br><br>    override fun onNewIntent(intent: Intent) &#123;<br>        <span class="hljs-keyword">super</span>.onNewIntent(intent)<br>        flutterFragment.onNewIntent(intent)<br>    &#125;<br><br>    override fun onBackPressed() &#123;<br>        <span class="hljs-keyword">super</span>.onBackPressed()<br>        flutterFragment.onBackPressed()<br>    &#125;<br><br>    override fun onRequestPermissionsResult(<br>        requestCode: Int,<br>        permissions: Array&lt;out <span class="hljs-built_in">String</span>&gt;,<br>        grantResults: IntArray<br>    ) &#123;<br>        <span class="hljs-keyword">super</span>.onRequestPermissionsResult(requestCode, permissions, grantResults)<br>        flutterFragment.onRequestPermissionsResult(requestCode,permissions,grantResults)<br>    &#125;<br><br>    override fun onUserLeaveHint() &#123;<br>        <span class="hljs-keyword">super</span>.onUserLeaveHint()<br>        flutterFragment.onUserLeaveHint()<br>    &#125;<br><br>    override fun onTrimMemory(level: Int) &#123;<br>        <span class="hljs-keyword">super</span>.onTrimMemory(level)<br>        flutterFragment.onTrimMemory(level)<br>    &#125;<br><br>    override fun onDestroy() &#123;<br>        <span class="hljs-keyword">super</span>.onDestroy()<br>        <span class="hljs-comment">//åœæ­¢ä»£ç æ‰§è¡Œå¹¶é‡Šæ”¾èµ„æº</span><br>        flutterEngine.destroy()<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//3ã€åœ¨ AndroidManifest æ–‡ä»¶ä¸­è®¾ç½® SecondActivity ä¸»é¢˜</span><br>&lt;activity<br>   android:name=<span class="hljs-string">&quot;.SecondActivity&quot;</span><br>   android:exported=<span class="hljs-string">&quot;false&quot;</span><br>   android:theme=<span class="hljs-string">&quot;@style/Theme.MaterialComponents.DayNight.NoActionBar&quot;</span>/&gt;<br><br><span class="hljs-comment">//4ã€ä¿®æ”¹ MainActivity è·³è½¬æŒ‰é’®è·³è½¬åˆ° SecondActivity</span><br>fun toSecondActivity(view: View) &#123;<br>    startActivity(Intent(<span class="hljs-keyword">this</span>,SecondActivity::<span class="hljs-keyword">class</span>.java))<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿° SecondActivity ä¸­æˆ‘ä»¬é‡å†™äº†å¾ˆå¤šæ–¹æ³•ï¼Œç„¶åå°†å…¶è½¬å‘åˆ°äº† FlutterFragment ä¸­ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å®ç° Flutter ä¸­æ‰€æœ‰é¢„æœŸçš„è¡Œä¸º</p><p>æ¥ä¸‹æ¥çœ‹ä¸‹æ•ˆæœï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/22fcb0303f744a7984f2f2feff10f47a~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker2.gif" width="30%" /><h2 id="å››ã€Android-ä¸-Flutter-é€šä¿¡"><a href="#å››ã€Android-ä¸-Flutter-é€šä¿¡" class="headerlink" title="å››ã€Android ä¸ Flutter é€šä¿¡"></a>å››ã€Android ä¸ Flutter é€šä¿¡</h2><p>Flutter æä¾›äº†ä¸€å¥— PlatformChannel æœºåˆ¶ç”¨äº Flutter å’Œ Android çš„é€šä¿¡ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p><p>1ã€<strong>MethodChannel</strong>ï¼šä¸»è¦ç”¨äºä¼ é€’æ–¹æ³•è°ƒç”¨ï¼ŒFlutter å’Œ Nativeï¼ˆAndroidï¼‰ä¹‹é—´è¿›è¡Œæ–¹æ³•è°ƒç”¨æ—¶å¯ä»¥ä½¿ç”¨ï¼Œæ˜¯ä¸€ç§åŒå‘çš„é€šä¿¡æ–¹å¼</p><p>2ã€<strong>EventChannel</strong>ï¼šä¸»è¦ç”¨äºç”¨æˆ·æ•°æ®æµçš„é€šä¿¡ï¼Œå¦‚ï¼šæ‰‹æœºç”µé‡å˜åŒ–ï¼Œç½‘ç»œè¿æ¥å˜åŒ–ç­‰ã€‚è¿™ç§æ–¹å¼åªèƒ½  Nativeï¼ˆAndroidï¼‰å‘ Flutter å‘é€æ•°æ®ï¼Œæ˜¯ä¸€ç§å•å‘çš„é€šä¿¡æ–¹å¼</p><p>3ã€<strong>BaseicMessageChannel</strong>ï¼šä¸»è¦ç”¨äºä¼ é€’å„ç§ç±»å‹æ•°æ®ï¼Œå®ƒæ”¯æŒçš„ç±»å‹æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šStringï¼ŒåŠç»“æ„åŒ–ä¿¡æ¯ç­‰ï¼Œæ˜¯ä¸€ç§åŒå‘çš„é€šä¿¡æ–¹å¼</p><h3 id="4-1ã€MethodChannel"><a href="#4-1ã€MethodChannel" class="headerlink" title="4.1ã€MethodChannel"></a>4.1ã€MethodChannel</h3><p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº† Android ç»™ Flutter é¡µé¢ä¼ å€¼ï¼Œä¸»è¦æ˜¯é€šè¿‡è¿™è¡Œä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">&quot;main?&#123;\&quot;name\&quot;:\&quot;erdai\&quot;,\&quot;age\&quot;:18&#125;&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç‚¹å‡»æŸ¥çœ‹ navigationChannel çš„æºç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//NavigationChannel æºç </span><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NavigationChannel</span> </span>&#123;<br>  private <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> TAG = <span class="hljs-string">&quot;NavigationChannel&quot;</span>;<br><br>  <span class="hljs-meta">@NonNull</span> public <span class="hljs-keyword">final</span> MethodChannel channel;<br><br>  public NavigationChannel(<span class="hljs-meta">@NonNull</span> DartExecutor dartExecutor) &#123;<br>    <span class="hljs-keyword">this</span>.channel = <span class="hljs-keyword">new</span> MethodChannel(dartExecutor, <span class="hljs-string">&quot;flutter/navigation&quot;</span>, JSONMethodCodec.INSTANCE);<br>    channel.setMethodCallHandler(defaultHandler);<br>  &#125;<br>  <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å‘ç°å®ƒå®é™…å°±æ˜¯å¯¹ MethodChannel åšäº†ä¸€å±‚å°è£…ï¼Œåº•å±‚æ˜¯é€šè¿‡ MethodChannel æ¥è¿›è¡Œé€šä¿¡</p><p>è¿™ç§æ–¹å¼åœ¨å¼€å‘ä¸­ç”¨çš„æ¯”è¾ƒå¤šï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡ä¾‹å­è¯´æ˜</p><p>ä¸‹é¢å®ç°è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼š<strong>é¦–å…ˆä» MainActivity è·³è½¬åˆ° SecondActivityï¼Œç„¶å SecondActivity æ¯éš”ä¸€ç§’ç»™ Flutter é¡µé¢å‘é€ä¸€ä¸ªæ•°å­—ï¼ŒFlutter æ¥æ”¶åˆ°æ•°å­—å¹¶æ˜¾ç¤ºåˆ°ä¸­é—´çš„ Text ä¸­ï¼Œå½“æ¥æ”¶åˆ°æ•°å­—ç­‰äº 5 ï¼Œé€šçŸ¥ SecondActivty finish</strong></p><p>å…ˆçœ‹ä¸€çœ¼å®ç°çš„æ•ˆæœï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c5303863bc054b7aac3216a3ce715d50~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (3).gif" width="30%" /><p>1ã€é¦–å…ˆæ¥çœ‹ Android ç«¯ä»£ç å®ç°ï¼ŒSecondActivity æ–°å¢çš„éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br>   <br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-comment">//MethodChannel</span><br>    private lateinit <span class="hljs-keyword">var</span> methodChannel: MethodChannel<br>    <span class="hljs-comment">//å‘é€ç»™ Flutter çš„æ•°å­—</span><br>    private <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span><br><br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_second)<br>        <span class="hljs-comment">//...</span><br><span class="hljs-comment">//MethodChannelåˆå§‹åŒ–ï¼Œæ³¨æ„åé¢çš„å­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>        methodChannel = MethodChannel(flutterEngine.dartExecutor,<span class="hljs-string">&quot;com.dream.interactive&quot;</span>)<br>       <span class="hljs-comment">//è®¾ç½® Flutter ä¼ ç»™æˆ‘ä»¬çš„æ–¹æ³•å›è°ƒ</span><br>        methodChannel.setMethodCallHandler &#123; call, result -&gt;<br>            <span class="hljs-keyword">if</span>(call.method == <span class="hljs-string">&quot;sendFinish&quot;</span>)&#123;<br>                finish()<br>            &#125;<br>        &#125;<br>      <span class="hljs-comment">//å¼€å¯å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€ç§’ç»™ Flutter å‘é€ä¸€ä¸ªæ•°å­—</span><br>        startTimer()<br>    &#125;<br><br>    private fun startTimer() &#123;<br>        Timer().schedule(timerTask &#123;<br>            runOnUiThread &#123;<br>                val map = mapOf(<span class="hljs-string">&quot;count&quot;</span> to count++)<br>                methodChannel.invokeMethod(<span class="hljs-string">&quot;timer&quot;</span>, map)<br>            &#125;<br>        &#125;, <span class="hljs-number">0</span>, <span class="hljs-number">1000</span>)<br>    &#125;<br><br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€Flutter ç«¯ä»£ç å®ç°ï¼Œæ–°å¢éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyHomePage</span>&gt; </span>&#123;<br>  <span class="hljs-comment">//è®°å½•ä¼ é€’è¿‡æ¥çš„æ•°å­—</span><br>  <span class="hljs-built_in">int</span> _counter = <span class="hljs-number">0</span>;<br>  <span class="hljs-comment">//åˆå§‹åŒ– MethodChannelï¼Œå­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>  <span class="hljs-keyword">final</span> _channel = <span class="hljs-keyword">const</span> MethodChannel(<span class="hljs-string">&quot;com.dream.interactive&quot;</span>);<br>  <span class="hljs-comment">//...</span><br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br>    <span class="hljs-comment">//è®¾ç½®æ¥æ”¶ Android ä¼ é€’è¿‡æ¥çš„æ–¹æ³•å›è°ƒ</span><br>    _channel.setMethodCallHandler((call) <span class="hljs-keyword">async</span> &#123;<br>      <span class="hljs-built_in">String</span> method = call.method;<br>      <span class="hljs-keyword">switch</span>(method)&#123;<br>        <span class="hljs-comment">//å¦‚æœåŒ¹é…åˆ°äº† timer æ–¹æ³•</span><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;timer&quot;</span>:<br>          <span class="hljs-comment">//æ¥æ”¶ä¼ é€’è¿‡æ¥çš„æ•°å­—å¹¶åˆ·æ–° UI</span><br>          setState(() &#123;<br>            _counter = call.arguments[<span class="hljs-string">&quot;count&quot;</span>];<br>          &#125;);<br>          <span class="hljs-comment">//å½“æ•°å­—ç­‰äº 5ï¼Œé€šçŸ¥ Android finish SecondActivity</span><br>          <span class="hljs-keyword">if</span>(_counter == <span class="hljs-number">5</span>)&#123;<br>            _channel.invokeMethod(<span class="hljs-string">&quot;sendFinish&quot;</span>);<br>            <span class="hljs-keyword">break</span>;<br>          &#125;<br>          <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">default</span>:<br>          <span class="hljs-keyword">break</span>;<br>      &#125;<br>    &#125;);<br>  &#125;<br>  <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-2ã€EventChannel"><a href="#4-2ã€EventChannel" class="headerlink" title="4.2ã€EventChannel"></a>4.2ã€EventChannel</h3><p><strong>æˆ‘ä»¬ä½¿ç”¨ EventChannel æ¨¡æ‹Ÿ Android å‘é€ä¸€ä¸ªå……ç”µä¿¡æ¯ç»™ Flutter ï¼ŒFlutter æ¥æ”¶ååœ¨ä¸­é—´çš„ Text å±•ç¤ºå‡ºæ¥</strong></p><p>1ã€ Android ç«¯ä»£ç å®ç°ï¼ŒSecondActivity æ–°å¢çš„éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br>   <br>    <span class="hljs-comment"><span class="language-markdown">/<span class="hljs-strong">**</span></span></span><br><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     <span class="hljs-emphasis">* EventChannel äº‹ä»¶æ¥æ”¶å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬ä¸»è¦é€šè¿‡å®ƒç»™ Flutter ä¼ é€’ event äº‹ä»¶</span></span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="language-markdown"><span class="hljs-comment">     *</span>/</span></span></span><br>    private lateinit <span class="hljs-keyword">var</span> eventSink: EventChannel.EventSink<br>    <span class="hljs-comment">//ç”µé‡ä¿¡æ¯</span><br>    private <span class="hljs-keyword">var</span> electricity = <span class="hljs-number">0</span><br><br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_second)<br>          <br>        <span class="hljs-comment">//åˆå§‹åŒ– EventChannelï¼Œæ³¨æ„åé¢çš„å­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>        val eventChannel =  EventChannel(flutterEngine.dartExecutor,<span class="hljs-string">&quot;com.dream.eventchannel&quot;</span>)<br>        <span class="hljs-comment">//è®¾ç½®æ¥æ”¶ Flutter ä¼ é€’è¿‡æ¥çš„æ•°æ®æµå›è°ƒ</span><br>        eventChannel.setStreamHandler(object : EventChannel.StreamHandler &#123;<br>            <span class="hljs-comment">//å½“ Flutter ä¸ Android å»ºç«‹è¿æ¥åä¼šå›è°ƒæ­¤æ–¹æ³•</span><br>            override fun onListen(arguments: Any?, events: EventChannel.EventSink) &#123;<br>              <span class="hljs-comment">//æ‰“å° Flutter ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå»ºç«‹è¿æ¥æ—¶è¿”å›çš„å€¼ï¼Œä»…æ­¤ä¸€æ¬¡</span><br>                Log.d(<span class="hljs-string">&quot;erdai&quot;</span>, <span class="hljs-string">&quot;onListen: <span class="hljs-subst">$arguments</span>&quot;</span>)<br>                <span class="hljs-comment">//å¯¹ eventSink èµ‹å€¼</span><br>                eventSink = events<br>                <span class="hljs-comment">//å¼€å¯å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€ç§’ç”µé‡å¢åŠ  20%</span><br>                startTimer()<br>            &#125;<br><br>            <span class="hljs-comment">//å½“ Flutter ä¸ Android æ–­å¼€è¿æ¥åä¼šå›è°ƒæ­¤æ–¹æ³•</span><br>            override fun onCancel(arguments: Any?) &#123;<br>                Log.d(<span class="hljs-string">&quot;erdai&quot;</span>, <span class="hljs-string">&quot;onCancel: æ–­å¼€è¿æ¥&quot;</span>)<br>            &#125;<br>        &#125;)<br>    &#125;<br><br>    <span class="hljs-comment">//å¼€å¯å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€ç§’ç”µé‡å¢åŠ  20%</span><br>    private fun startTimer() &#123;<br>        Timer().schedule(timerTask &#123;<br>            runOnUiThread &#123;<br>              <span class="hljs-comment">//æ¯éš”ä¸€ç§’ç”µé‡ +20</span><br>                electricity += <span class="hljs-number">20</span><br>                <span class="hljs-comment">//å‘é€äº‹ä»¶ç»™ Flutter</span><br>                eventSink.success(<span class="hljs-string">&quot;ç”µé‡ï¼š<span class="hljs-subst">$electricity</span>%&quot;</span>)<br>                <span class="hljs-keyword">if</span>(electricity == <span class="hljs-number">100</span>)&#123;<br>                   <span class="hljs-comment">//å½“ç”µé‡ä¸º 100 ï¼Œå‘é€å®Œæˆäº‹ä»¶ç»™ Flutter</span><br>                   eventSink.endOfStream()<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-number">0</span>, <span class="hljs-number">1000</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€Flutter ç«¯ä»£ç å®ç°ï¼Œæ–°å¢éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyHomePage</span>&gt; </span>&#123;<br>  <span class="hljs-comment">//ç”µé‡ä¿¡æ¯</span><br>  <span class="hljs-built_in">dynamic</span> electricity;<br>  <span class="hljs-comment">//EventChannel æ³¨æ„åé¢çš„å­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>  <span class="hljs-keyword">final</span> _eventChannel = <span class="hljs-keyword">const</span> EventChannel(<span class="hljs-string">&quot;com.dream.eventchannel&quot;</span>);<br>  <span class="hljs-comment">//è®¢é˜…æµä¿¡æ¯</span><br>  StreamSubscription? _streamSubscription;<br>  <br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br>    <span class="hljs-comment">//åˆå§‹åŒ– StreamSubscription</span><br>    _streamSubscription = _eventChannel<br>        .receiveBroadcastStream([<span class="hljs-string">&quot;Helloï¼Œå»ºç«‹è¿æ¥å§&quot;</span>])<br>        .listen(_onData,onError: _onError,onDone: _onDone);<br>  &#125;<br><br>  <span class="hljs-comment">//æ¥æ”¶ Andorid å‘é€è¿‡æ¥çš„æ­£å¸¸äº‹ä»¶</span><br>  <span class="hljs-keyword">void</span> _onData(event)&#123;<br>    <span class="hljs-comment">//æ‰“å°</span><br>    <span class="hljs-built_in">print</span>(event);<br>    <span class="hljs-comment">//å¯¹ electricity èµ‹å€¼ï¼Œåˆ·æ–° UI</span><br>    setState(() &#123;<br>      electricity = event;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-comment">//æ¥æ”¶ Andorid å‘é€è¿‡æ¥çš„ error äº‹ä»¶</span><br>  <span class="hljs-keyword">void</span> _onError(error)&#123;<br>    <span class="hljs-comment">//æ‰“å°</span><br>    <span class="hljs-built_in">print</span>(error);<br>  &#125;<br><br>  <span class="hljs-comment">//æ¥æ”¶ Android å‘é€è¿‡æ¥çš„å®Œæˆäº‹ä»¶</span><br>  <span class="hljs-keyword">void</span> _onDone()&#123;<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;_onDone&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-comment">//é‡Šæ”¾èµ„æº</span><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> dispose() &#123;<br>    <span class="hljs-keyword">if</span>(_streamSubscription != <span class="hljs-keyword">null</span>)&#123;<br>      _streamSubscription?.cancel();<br>      _streamSubscription = <span class="hljs-keyword">null</span>;<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>      <span class="hljs-comment">//...</span><br>      body: Center(<br>        child: Column(<br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: &lt;Widget&gt;[<br>            <span class="hljs-comment">//...</span><br>            Text(<br>              <span class="hljs-string">&#x27;<span class="hljs-subst">$electricity</span>&#x27;</span>,<br>              style: Theme.of(context).textTheme.headline4,<br>            ),<br>          ],<br>        ),<br>      ),<br>      <span class="hljs-comment">//..</span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹æ•ˆæœå’Œ Log æ—¥å¿—ï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5ea43f0988ec478a873e01c11d347917~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (4).gif" width="30%" /><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d49e854843e46c7bd7ad58a846b21f5~tplv-k3u1fbpfcp-watermark.image?" alt="202209221613607.png" width="70%" /><h3 id="4-3ã€BaseicMessageChannel"><a href="#4-3ã€BaseicMessageChannel" class="headerlink" title="4.3ã€BaseicMessageChannel"></a>4.3ã€BaseicMessageChannel</h3><p><strong>æˆ‘ä»¬ä½¿ç”¨ BaseicMessageChannel å®ç°ä¸€æ®µ Andorid å’Œ Flutter çš„å¯¹è¯ï¼ŒFlutter æ”¶åˆ° Android çš„æ¶ˆæ¯ï¼Œåœ¨ä¸­é—´çš„ Text å±•ç¤ºå‡ºæ¥ï¼ŒAndroid æ”¶åˆ° Flutter çš„æ¶ˆæ¯ï¼Œä½¿ç”¨ Toast å±•ç¤ºå‡ºæ¥</strong> </p><p>1ã€ Android ç«¯ä»£ç å®ç°ï¼ŒSecondActivity æ–°å¢çš„éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecondActivity</span> : <span class="hljs-title">AppCompatActivity</span>() </span>&#123;<br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-comment">//BasicMessageChannel</span><br>    private lateinit <span class="hljs-keyword">var</span> messageChannel: BasicMessageChannel&lt;<span class="hljs-built_in">String</span>&gt;<br>  <br>    <span class="hljs-meta">@SuppressLint</span>(<span class="hljs-string">&quot;SetTextI18n&quot;</span>)<br>    override fun onCreate(savedInstanceState: Bundle?) &#123;<br>        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)<br>        setContentView(R.layout.activity_second)<br>      <span class="hljs-comment">//...</span><br><br><span class="hljs-comment">//åˆå§‹åŒ– BasicMessageChannelï¼Œæ³¨æ„åé¢çš„å­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>        messageChannel = <br>          BasicMessageChannel(flutterEngine.dartExecutor,<span class="hljs-string">&quot;com.dream.messagechannel&quot;</span>,StringCodec.INSTANCE)<br>        <span class="hljs-comment">//è®¾ç½®æ¥æ”¶ Flutter ä¼ é€’è¿‡æ¥çš„æ¶ˆæ¯å›è°ƒ</span><br>        messageChannel.setMessageHandler &#123; replay: <span class="hljs-built_in">String?</span>, reply: BasicMessageChannel.Reply&lt;<span class="hljs-built_in">String</span>&gt; -&gt;<br>            <span class="hljs-comment">//æ‰“å° Flutter å‘è¿‡æ¥çš„æ¶ˆæ¯</span><br>            Log.d(<span class="hljs-string">&quot;erdai&quot;</span>, <span class="hljs-string">&quot;onCreate: <span class="hljs-subst">$replay</span>&quot;</span>)<br>            <span class="hljs-comment">//ä½¿ç”¨ Toast å±•ç¤ºå‡ºæ¥</span><br>            Toast.makeText(<span class="hljs-keyword">this</span>,replay,Toast.LENGTH_SHORT).<span class="hljs-keyword">show</span>()<br>            <span class="hljs-comment">//å›ä¼ æ¶ˆæ¯ç»™ Flutter</span><br>            reply.reply(<span class="hljs-string">&quot;æ¢§æ¡å±±&quot;</span>)<br>        &#125;<br>      <br>      <span class="hljs-comment">//å‘é€æ¶ˆæ¯ç»™ Flutter</span><br>        messageChannel.send(<span class="hljs-string">&quot;å‘¨æœ«å»çˆ¬å±±å—?&quot;</span>) &#123; replay: <span class="hljs-built_in">String?</span> -&gt;<br>            <span class="hljs-comment">//æ¥æ”¶ Flutter å›ä¼ çš„æ¶ˆæ¯</span><br>            <span class="hljs-comment">//æ‰“å° Flutter å›ä¼ çš„æ¶ˆæ¯</span><br>            Log.d(<span class="hljs-string">&quot;erdai&quot;</span>, <span class="hljs-string">&quot;onCreate: <span class="hljs-subst">$replay</span>&quot;</span>)<br>            <span class="hljs-comment">//ä½¿ç”¨ Toast å±•ç¤ºå‡ºæ¥</span><br>            Toast.makeText(<span class="hljs-keyword">this</span>,replay,Toast.LENGTH_SHORT).<span class="hljs-keyword">show</span>()<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€Flutter ç«¯ä»£ç å®ç°ï¼Œæ–°å¢éƒ¨åˆ†ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyHomePage</span>&gt; </span>&#123;<br> <br>  <span class="hljs-comment">//è®°å½• Android ä¼ è¿‡æ¥çš„å€¼</span><br>  <span class="hljs-built_in">dynamic</span> _content;<br>  <span class="hljs-comment">//BasicMessageChannelï¼Œæ³¨æ„åé¢çš„å­—ç¬¦ä¸²å¿…é¡»ä¿æŒ Android å’Œ Flutter ä¸€è‡´</span><br>  <span class="hljs-keyword">final</span> _messageChannel = <span class="hljs-keyword">const</span> BasicMessageChannel(<span class="hljs-string">&quot;com.dream.messagechannel&quot;</span>, StringCodec());<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br>    <span class="hljs-comment">//è®¾ç½®æ¥æ”¶ Android ä¼ é€’è¿‡æ¥çš„æ¶ˆæ¯å›è°ƒ</span><br>    _messageChannel.setMessageHandler((message) =&gt;Future&lt;<span class="hljs-built_in">String</span>&gt;(()&#123;<br>      <span class="hljs-comment">//æ‰“å° Android å‘é€è¿‡æ¥çš„æ¶ˆæ¯</span><br>      <span class="hljs-built_in">print</span>(message);<br>      <span class="hljs-comment">//ç»™ _content èµ‹å€¼ï¼Œåˆ·æ–° UI</span><br>      setState(() &#123;<br>        _content = message;<br>      &#125;);<br>      <span class="hljs-comment">//å›ä¼ å€¼ç»™ Android</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;å¥½å•Š&quot;</span>;<br>    &#125;));<br>    <br>    <span class="hljs-comment">//...</span><br>  &#125;<br>  <br>  <span class="hljs-comment">//ç‚¹å‡» FloatingActionButton çš„å“åº”æ–¹æ³•</span><br>  <span class="hljs-keyword">void</span> _incrementCounter() <span class="hljs-keyword">async</span>&#123;<br>    <span class="hljs-comment">//ç»™ Android å‘é€æ¶ˆæ¯ï¼Œå¹¶æ¥æ”¶ Android å›ä¼ çš„æ¶ˆæ¯</span><br>    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> _messageChannel.send(<span class="hljs-string">&quot;å»çˆ¬å“ªåº§å±±?&quot;</span>);<br>    <span class="hljs-comment">//æ‰“å° Android å›ä¼ çš„æ¶ˆæ¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;<span class="hljs-subst">$result</span>&quot;</span>);<br>    <span class="hljs-comment">//ç»™ _content èµ‹å€¼ï¼Œåˆ·æ–° UI</span><br>    setState(() &#123;<br>      _content = result;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(widget.title),<br>      ),<br>      body: Center(<br>        child: Column(<br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: &lt;Widget&gt;[<br>            <span class="hljs-comment">//...</span><br>            Text(<br>              <span class="hljs-string">&#x27;<span class="hljs-subst">$_content</span>&#x27;</span>,<br>              style: Theme.of(context).textTheme.headline4,<br>            ),<br>          ],<br>        ),<br>      ),<br>      floatingActionButton: FloatingActionButton(<br>        onPressed: _incrementCounter,<br>        tooltip: <span class="hljs-string">&#x27;Increment&#x27;</span>,<br>        child: <span class="hljs-keyword">const</span> Icon(Icons.add),<br>      ), <br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>çœ‹ä¸‹æ•ˆæœå’Œ Log æ—¥å¿—ï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7da4428000554b0eac543f1530a0c3c2~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (5).gif" width="30%" /><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d749ee7774ba41518b615972d6ac7004~tplv-k3u1fbpfcp-watermark.image" alt="202209221614000.png"></p><h3 id="4-4ã€é€šä¿¡åŸç†"><a href="#4-4ã€é€šä¿¡åŸç†" class="headerlink" title="4.4ã€é€šä¿¡åŸç†"></a>4.4ã€é€šä¿¡åŸç†</h3><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b581ad4490034520b24e1940f3311118~tplv-k3u1fbpfcp-watermark.image?" alt="202209221615654.png" width="100%" /><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p><p>1ã€Android å’Œ Flutter éƒ½æ˜¯ä»¥ ByteBuffer ä¸ºè½½ä½“ï¼Œç„¶åé€šè¿‡ BinaryMessenger æ¥å‘é€å’Œæ¥æ”¶æ•°æ®</p><p>2ã€Android å’Œ Flutter éƒ½æ˜¯åŸºäº PlatformChannel æœºåˆ¶æ¥è¿›è¡Œé€šä¿¡çš„</p><p>ä¹‹æ‰€ä»¥æˆ‘ä»¬èƒ½å¤Ÿå¦‚æ­¤ç®€å•çš„è¿›è¡Œé€šä¿¡ï¼Œå®åˆ™æ˜¯ç³»ç»Ÿç»™æˆ‘ä»¬åšäº†å¤§é‡çš„å°è£…ï¼šçº¿ç¨‹çš„åˆ‡æ¢ï¼Œæ•°æ®æ‹·è´ç­‰å¤æ‚æ“ä½œ</p><p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>åœ¨ Android ä¾§ï¼ŒBinaryMessenger æ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨ FlutterView ä¸­å®ç°äº†è¯¥æ¥å£ï¼Œåœ¨ BinaryMessenger çš„æ–¹æ³•ä¸­é€šè¿‡ JNI æ¥ä¸ç³»ç»Ÿåº•å±‚æ²Ÿé€šã€‚åœ¨ Flutter ä¾§ï¼ŒBinaryMessenger æ˜¯ä¸€ä¸ªç±»ï¼Œè¯¥ç±»çš„ä½œç”¨å°±æ˜¯ä¸ç±» window æ²Ÿé€šï¼Œè€Œç±» window æ‰çœŸæ­£ä¸ç³»ç»Ÿåº•å±‚æ²Ÿé€š</strong></p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»äº†ï¼š</p><p>1ã€Android é›†æˆ Flutter </p><blockquote><p>ä¸»è¦å°±æ˜¯å°† Flutter ç«¯çš„ä»£ç æ‰“æˆ aar ï¼Œç„¶å Android å¼•ç”¨è¿™ä¸ª aar</p></blockquote><p>2ã€Android è°ƒèµ· Flutter é¡µé¢ï¼ˆFlutterActivityï¼ŒFlutterFragmentï¼‰ï¼Œå¹¶ç»™ Flutter é¡µé¢ä¼ å€¼</p><blockquote><p>ä¼ å€¼åº•å±‚ä½¿ç”¨çš„ MethodChannel</p></blockquote><p>3ã€Android ä¸ Flutter é€šä¿¡ï¼Œä¸»è¦ä½¿ç”¨åˆ°äº† Flutter çš„ PlatformChannel æœºåˆ¶ï¼Œå…¶å®ç°ä¸»è¦æœ‰ä¸‰ç§ç±»å‹ï¼š</p><blockquote><p>1ã€MethodChannelï¼šç”¨äº Flutter å’Œ Android ä¹‹é—´çš„æ–¹æ³•é€šä¿¡ï¼ŒåŒå‘çš„</p><p>2ã€EventChannelï¼šç”¨äº Flutter å’Œ Android ä¹‹é—´çš„æ•°æ®æµé€šä¿¡ï¼Œå•å‘çš„ï¼šAndroid -&gt; Flutter</p><p>3ã€BaseicMessageChannelï¼šç”¨äº Flutter å’Œ Android ä¹‹é—´çš„æ•°æ®é€šä¿¡ï¼ŒåŒå‘çš„</p></blockquote><p>4ã€ç®€å•çš„ä»‹ç»äº† Android ä¸ Flutter é€šä¿¡çš„åŸç†</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®²å¼€å‘ Flutter é¡¹ç›®çš„ä¸€ä¸ªæŠ€æœ¯é€‰å‹ï¼Œå°½è¯·æœŸå¾…å§ğŸº</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://juejin.cn/post/7054743801520193543">Android é›†æˆ Flutter | ä¸äº¤äº’</a></p><p><a href="https://juejin.cn/post/6844903873358856200#heading-7">ä¸€ç¯‡çœ‹æ‡‚Androidä¸Flutterä¹‹é—´çš„é€šä¿¡</a></p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šFlutter è·¯ç”±å’Œ HTTPS è¯·æ±‚å®æˆ˜</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89%EF%BC%9AFlutter%20%E8%B7%AF%E7%94%B1%E5%92%8C%20HTTPS%20%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89%EF%BC%9AFlutter%20%E8%B7%AF%E7%94%B1%E5%92%8C%20HTTPS%20%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101704446.jpeg" alt="sea-7352141_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Flutter ä¸­å¸¸ç”¨çš„è¡¨å• Widgetï¼šTextFieldï¼ŒCheckBoxï¼ŒRadioï¼ŒSwitchï¼ŒCheckboxListTileï¼ŒRadioListTileï¼ŒSwitchListTileï¼ŒSliderï¼Œæœ€åé€šè¿‡è¿™äº› Widget å®ç°äº†ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7137457377959706654">Flutter ç³»åˆ—ï¼ˆå…­ï¼‰ï¼šFlutter å¸¸ç”¨è¡¨å• Widget</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ Flutter è·¯ç”±å’Œ HTTPS è¯·æ±‚å®æˆ˜è¿›è¡Œä»‹ç»</p><h2 id="ä¸€ã€Flutter-è·¯ç”±"><a href="#ä¸€ã€Flutter-è·¯ç”±" class="headerlink" title="ä¸€ã€Flutter è·¯ç”±"></a>ä¸€ã€Flutter è·¯ç”±</h2><p>1ï¼‰ã€Flutter ä¸­çš„è·¯ç”±ç®€å•ç†è§£å°±æ˜¯é¡µé¢è·³è½¬ã€‚Flutter é€šè¿‡ Navigator ç»„ä»¶ç®¡ç†è·¯ç”±å¯¼èˆªï¼Œå¹¶æä¾›äº†ç®¡ç†å †æ ˆçš„æ–¹æ³•ã€‚å¦‚ï¼šNavigator.pushï¼ŒNavigator.pop</p><p>2ï¼‰ã€Flutter ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ç§é…ç½®è·¯ç”±è·³è½¬çš„æ–¹å¼ï¼š</p><blockquote><p>1ã€åŸºæœ¬è·¯ç”±</p><p>2ã€å‘½åè·¯ç”±</p></blockquote><h3 id="1-1ã€åŸºæœ¬è·¯ç”±"><a href="#1-1ã€åŸºæœ¬è·¯ç”±" class="headerlink" title="1.1ã€åŸºæœ¬è·¯ç”±"></a>1.1ã€åŸºæœ¬è·¯ç”±</h3><h4 id="1-1-1ã€åŸºæœ¬è·¯ç”±ä½¿ç”¨"><a href="#1-1-1ã€åŸºæœ¬è·¯ç”±ä½¿ç”¨" class="headerlink" title="1.1.1ã€åŸºæœ¬è·¯ç”±ä½¿ç”¨"></a>1.1.1ã€åŸºæœ¬è·¯ç”±ä½¿ç”¨</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªé¡µé¢ï¼šHomePage.dartï¼ŒSearchPage.dartï¼Œå…ˆçœ‹ä¸€çœ¼å®ƒä»¬åˆå§‹çš„ä¸€ä¸ªä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€HomePage.dart</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/route/Routes.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>      home: HomePage()<br>  ));<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;HomePage&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: Center(<br>        child: RaisedButton(<br>          child: Text(<span class="hljs-string">&quot;è·³è½¬åˆ° SearchPage&quot;</span>),<br>          <span class="hljs-comment">//æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span><br>          onPressed: () &#123;<br>            <br>          &#125;,<br>        ),<br>      ), <br>    );<br>  &#125;<br>&#125;<br><br><br><span class="hljs-comment">//2ã€SearchPage.dart</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-keyword">final</span> arguments;<br><br>  <span class="hljs-comment">//å¯é€‰å‚æ•° arguments</span><br>  SearchPage(&#123;<span class="hljs-keyword">this</span>.arguments&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>        appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;SearchPage&#x27;</span>)<br>        ),<br>        body: Center(<br>          child: Text(<span class="hljs-string">&quot;æœç´¢é¡µé¢å†…å®¹åŒºåŸŸï¼š<span class="hljs-subst">$arguments</span>&quot;</span>),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å¾ˆç®€å•ï¼Œç°åœ¨æˆ‘ä»¬æƒ³ä» HomePage è·³è½¬åˆ° SearchPageï¼Œéœ€è¦ä»¥ä¸‹ä¸¤æ­¥ï¼š</p><p>1ã€åœ¨ HomePage.dart ä¸­å¼•å…¥ SearchPage.dart </p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€ç»å¯¹è·¯å¾„</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/pages/SearchPage.dart&#x27;</span>;<br><span class="hljs-comment">//2ã€ç›¸å¯¹è·¯å¾„</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;../SearchPage.dart&#x27;</span>;<br></code></pre></td></tr></table></figure><p><strong>Tips</strong>ï¼šæ—¥å¸¸å¼€å‘ä¸­å»ºè®®ç»Ÿä¸€ä½¿ç”¨ç»å¯¹è·¯å¾„</p><p>2ã€åœ¨ HomePage çš„ç‚¹å‡»äº‹ä»¶ä¸­é€šè¿‡å¦‚ä¸‹æ–¹æ³•è·³è½¬</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//æ–¹å¼ä¸€</span><br>Navigator.push(context, MaterialPageRoute(builder: (context)&#123;<br>  <span class="hljs-keyword">return</span> SearchPage();<br>&#125;));<br><br><span class="hljs-comment">//æ–¹å¼äºŒ</span><br>Navigator.of(context).push(<br>  MaterialPageRoute(builder: (context)&#123;<br>    <span class="hljs-keyword">return</span> SearchPage();<br>  &#125;)<br>);<br><br><span class="hljs-comment">//ä¸Šè¿°ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼Œå®é™…ä¸Šæ–¹å¼ä¸€æ˜¯å¯¹æ–¹å¼äºŒçš„å°è£…</span><br></code></pre></td></tr></table></figure><p>ç»è¿‡ä¸Šé¢ä¸¤æ­¥æˆ‘ä»¬å°±å¯ä»¥è·³è½¬åˆ° SearchPage é¡µé¢äº†</p><p>æ­¤æ—¶è¿˜åªæ˜¯ç®€å•çš„è·³è½¬ï¼Œå¦‚æœæˆ‘æƒ³å‘ SearchPage ä¼ å€¼å‘¢ï¼Ÿ</p><h4 id="1-1-2ã€åŸºæœ¬è·¯ç”±ä¼ å€¼"><a href="#1-1-2ã€åŸºæœ¬è·¯ç”±ä¼ å€¼" class="headerlink" title="1.1.2ã€åŸºæœ¬è·¯ç”±ä¼ å€¼"></a>1.1.2ã€åŸºæœ¬è·¯ç”±ä¼ å€¼</h4><p>å®åˆ™å°±æ˜¯åœ¨ SearchPage çš„æ„é€ æ–¹æ³•ä¸­å¢åŠ å®å‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">Navigator.of(context).push(<br>  MaterialPageRoute(builder: (context)&#123;<br>    <span class="hljs-keyword">return</span> SearchPage(arguments: <span class="hljs-string">&quot;erdai666&quot;</span>);<br>  &#125;)<br>);<br></code></pre></td></tr></table></figure><p>è¿™ç§åŸºæœ¬è·¯ç”±çš„ä½¿ç”¨æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼š<strong>ä¸èƒ½è¿›è¡Œè·¯ç”±çš„ç»Ÿä¸€ç®¡ç†</strong>ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŠŠè·¯ç”±ç»Ÿä¸€ç®¡ç†ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°å‘½åè·¯ç”±</p><h3 id="1-2ã€å‘½åè·¯ç”±"><a href="#1-2ã€å‘½åè·¯ç”±" class="headerlink" title="1.2ã€å‘½åè·¯ç”±"></a>1.2ã€å‘½åè·¯ç”±</h3><h4 id="1-2-1ã€å‘½åè·¯ç”±ä½¿ç”¨"><a href="#1-2-1ã€å‘½åè·¯ç”±ä½¿ç”¨" class="headerlink" title="1.2.1ã€å‘½åè·¯ç”±ä½¿ç”¨"></a>1.2.1ã€å‘½åè·¯ç”±ä½¿ç”¨</h4><p>å‘½åè·¯ç”±å°±æ˜¯ç»™æ¯ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²åˆ«åï¼Œé€šå¸¸æ˜¯ä»¥ &#x2F; å¼€å¤´ï¼Œå¦‚ï¼šâ€&#x2F;searchPageâ€ã€‚è¿˜æ˜¯ä»¥ 1.1.1 çš„ä¾‹å­è¿›è¡Œä¸¾ä¾‹ï¼š</p><p>1ã€æ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ª .dart æ–‡ä»¶è¿›è¡Œè·¯ç”±çš„ç»Ÿä¸€ç®¡ç†ï¼Œæˆ‘è¿™é‡Œå« Routes.dart ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-built_in">String</span> homePage = <span class="hljs-string">&quot;/&quot;</span>;<br><span class="hljs-built_in">String</span> searchPage = <span class="hljs-string">&quot;/searchPage&quot;</span>;<br><br><span class="hljs-keyword">final</span> routes = &#123;<br>  homePage: (context) =&gt; HomePage(),<br>  searchPage: (context) =&gt; SearchPage()<br>&#125;;<br><br><span class="hljs-comment">//ä¸‹é¢è¿™æ®µä»£ç æ˜¯å°†ä¸€ä¸ªåŒ¿åæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</span><br><span class="hljs-comment">//åŒ¿åæ–¹æ³•åšçš„äº‹æƒ…ï¼šå¤„ç†è·¯ç”±ä¼ å‚ï¼Œç”Ÿæˆ MaterialPageRoute è·¯ç”±å¯¹è±¡</span><br><span class="hljs-keyword">var</span> onGenerateRoute = (settings) &#123;<br>  <span class="hljs-built_in">Function?</span> pageContentBuilder = routes[settings.name];<br>  <span class="hljs-keyword">if</span> (pageContentBuilder != <span class="hljs-keyword">null</span>) &#123;<br>    <span class="hljs-keyword">if</span> (settings.arguments != <span class="hljs-keyword">null</span>) &#123;<br>      <span class="hljs-keyword">var</span> route = MaterialPageRoute(<br>          builder: (context) =&gt;<br>              pageContentBuilder(context, arguments: settings.arguments));<br>      <span class="hljs-keyword">return</span> route;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">var</span> route =<br>      MaterialPageRoute(builder: (context) =&gt; pageContentBuilder(context));<br>      <span class="hljs-keyword">return</span> route;<br>    &#125;<br>  &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>Tips</strong>ï¼šé€šå¸¸æˆ‘ä»¬ä¼šä»¥ â€˜&#x2F;â€˜ è¡¨ç¤º App å¯åŠ¨é¡µçš„è·¯ç”±</p><p>2ã€åœ¨ HomePage.dart ä¸­æ–°å¢å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//å¯¼åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/route/Routes.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>      <span class="hljs-comment">//app å¯åŠ¨è·¯ç”±é¡µé¢</span><br>      initialRoute: homePage,<br>      <span class="hljs-comment">//è·¯ç”±ç”Ÿæˆ</span><br>      onGenerateRoute: onGenerateRoute,<br>      <span class="hljs-comment">//...</span><br>  ));<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€åœ¨ HomePage çš„ç‚¹å‡»äº‹ä»¶ä¸­é€šè¿‡å¦‚ä¸‹æ–¹æ³•è·³è½¬</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//æ–¹å¼ä¸€</span><br>Navigator.pushNamed(context, searchPage);<br><br><span class="hljs-comment">//æ–¹å¼äºŒ</span><br>Navigator.of(context).pushNamed(searchPage);<br><br><span class="hljs-comment">//ä¸Šè¿°ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼Œå®é™…ä¸Šæ–¹å¼ä¸€æ˜¯å¯¹æ–¹å¼äºŒçš„å°è£…</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ä¸ªè§„å¾‹ï¼š<strong>Navigator æä¾›äº†ä¸¤ç§ Api è°ƒç”¨æ–¹å¼ï¼š<code>Navigator.api...</code> å’Œ <code>Navigator.of(context).api...</code>ï¼Œå‰è€…æ˜¯åè€…çš„ä¸€ä¸ªå°è£…</strong>ï¼Œåé¢æˆ‘ä»¬éƒ½ä»¥å‰è€…ä¸¾ä¾‹</p><h4 id="1-2-2ã€å‘½åè·¯ç”±ä¼ å€¼"><a href="#1-2-2ã€å‘½åè·¯ç”±ä¼ å€¼" class="headerlink" title="1.2.2ã€å‘½åè·¯ç”±ä¼ å€¼"></a>1.2.2ã€å‘½åè·¯ç”±ä¼ å€¼</h4><p>å®åˆ™å°±æ˜¯ç»™ SearchPage çš„æ„é€ æ–¹æ³•ä¼ å…¥å®å‚ï¼š</p><p>1ã€ä¿®æ”¹  Routes.dart ä¸­çš„è·¯ç”±è·³æŠ“</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//...</span><br><span class="hljs-keyword">final</span> routes = &#123;<br>  <span class="hljs-comment">//æ”¹åŠ¨ç‚¹ï¼šæ–°å¢ arguments å‘½åå‚æ•°ä¼ ç»™ SearchPage</span><br>  searchPage: (context,&#123;arguments&#125;) =&gt; SearchPage(arguments: arguments)<br>&#125;;<br></code></pre></td></tr></table></figure><p>2ã€ä¿®æ”¹ HomePage çš„ç‚¹å‡»äº‹ä»¶è·³è½¬æ–¹æ³•</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">Navigator.pushNamed(context, searchPage,arguments: <span class="hljs-string">&quot;erdai666&quot;</span>);<br></code></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤ºï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b1faa83a0564f1484c55168cdd74ae6~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker.gif" width="30%" /><h3 id="1-3ã€è¿”å›ä¸Šä¸€çº§"><a href="#1-3ã€è¿”å›ä¸Šä¸€çº§" class="headerlink" title="1.3ã€è¿”å›ä¸Šä¸€çº§"></a>1.3ã€è¿”å›ä¸Šä¸€çº§</h3><p>ä¸Šè¿°æ•ˆæœå›¾ä¸­ï¼ŒSearchPage å·¦ä¸Šè§’ç™½è‰²çš„è¿”å›æŒ‰é’®æ˜¯ç³»ç»Ÿç»™æˆ‘ä»¬å®ç°çš„ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°è¿”å›ä¸Šä¸€çº§çš„æ•ˆæœï¼Œä½¿ç”¨å¦‚ä¸‹ Api å³å¯ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">Navigator.pop(context);<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬ç»™ SearchPage ä¸­é—´çš„å†…å®¹åŒºåŸŸæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œè®©å®ƒè¿”å›ä¸Šä¸€çº§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-keyword">final</span> arguments;<br><br>  SearchPage(&#123;<span class="hljs-keyword">this</span>.arguments&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>        appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;SearchPage&#x27;</span>)<br>        ),<br>        body: Center(<br>          <span class="hljs-comment">//æ–°å¢éƒ¨åˆ†çš„ä»£ç </span><br>          child: InkWell(<br>            child: Text(<span class="hljs-string">&quot;æœç´¢é¡µé¢å†…å®¹åŒºåŸŸï¼š<span class="hljs-subst">$arguments</span>&quot;</span>),<br>            onTap: ()&#123;<br>              Navigator.pop(context);<br>            &#125;,<br>          ),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç æˆ‘ä»¬ä½¿ç”¨åˆ°äº† InkWell Widgetï¼Œå®ƒçš„ä½œç”¨æ˜¯ç»™æ²¡æœ‰ç‚¹å‡»äº‹ä»¶çš„ Widget æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œçœ‹æ•ˆæœï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7b86175f8c846238ea6a1b18c0b8d3b~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (1).gif" width="30%" /><h3 id="1-4ã€æ›¿æ¢è·¯ç”±"><a href="#1-4ã€æ›¿æ¢è·¯ç”±" class="headerlink" title="1.4ã€æ›¿æ¢è·¯ç”±"></a>1.4ã€æ›¿æ¢è·¯ç”±</h3><p>1ï¼‰ã€å’Œ Android ä¸­å…ˆå¯åŠ¨ä¸€ä¸ª Activity ç„¶å finish ä¸Šä¸ª Activity ç±»ä¼¼ã€‚æ›¿æ¢è·¯ç”±å°±æ˜¯å¯åŠ¨ä¸€ä¸ªæ–°é¡µé¢ï¼Œç„¶åå°†æ–°é¡µé¢æ›¿æ¢ä¸Šä¸€ä¸ªé¡µé¢</p><p>2ï¼‰ã€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Navigator.pushReplacementNamed</code> è¿›è¡Œè·¯ç”±çš„æ›¿æ¢</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª LoginPage.dart çš„ç™»é™†é¡µï¼Œç„¶åä½¿ç”¨ LoginPage æ›¿æ¢ SearchPageï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ã€LoginPage ç¼–å†™</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>        appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;LoginPage&#x27;</span>)<br>        ),<br>        body: <span class="hljs-keyword">const</span> Center(<br>          child: Text(<span class="hljs-string">&quot;å»æ³¨å†Œ&quot;</span>),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€åœ¨ Routes.dart ä¸­æ–°å¢è·¯ç”±ä¿¡æ¯</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/pages/LoginPage.dart&#x27;</span>;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-built_in">String</span> loginPage = <span class="hljs-string">&quot;/loginPage&quot;</span>;<br><br><span class="hljs-keyword">final</span> routes = &#123;<br>  <span class="hljs-comment">//...</span><br>  loginPage: (context) =&gt; LoginPage()<br>&#125;;<br></code></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹ SearchPage çš„ç‚¹å‡»äº‹ä»¶è·³è½¬æ–¹æ³•</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//...</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-keyword">final</span> arguments;<br><br>  SearchPage(&#123;<span class="hljs-keyword">this</span>.arguments&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>        appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;SearchPage&#x27;</span>)<br>        ),<br>        body: Center(<br>          child: InkWell(<br>            child: Text(<span class="hljs-string">&quot;æœç´¢é¡µé¢å†…å®¹åŒºåŸŸï¼š<span class="hljs-subst">$arguments</span>&quot;</span>),<br>            onTap: ()&#123;<br>              <span class="hljs-comment">//è·¯ç”±æ›¿æ¢</span><br>              Navigator.pushReplacementNamed(context,loginPage);<br>            &#125;,<br>          ),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>4ã€æ•ˆæœå±•ç¤º</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da99b98353d949b08570cb1c0b3443ea~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (2).gif" width="30%" /><p>æ•ˆæœå›¾ä¸­æˆ‘ä»¬ç‚¹å‡» LoginPage çš„è¿”å›æŒ‰é’®è¿”å›åˆ°äº† HomePage ï¼Œè¯æ˜ SearchPage è¢«æ›¿æ¢</p><h3 id="1-5ã€è¿”å›åˆ°æ ¹è·¯ç”±"><a href="#1-5ã€è¿”å›åˆ°æ ¹è·¯ç”±" class="headerlink" title="1.5ã€è¿”å›åˆ°æ ¹è·¯ç”±"></a>1.5ã€è¿”å›åˆ°æ ¹è·¯ç”±</h3><p>1ï¼‰ã€å’Œ Android ä¸­å¯åŠ¨ä¸€ä¸ª Activityï¼Œç„¶åå°†è¿™ä¸ª Activity ä¹‹ä¸Šçš„æ‰€æœ‰ Activity å¼¹å‡ºæ ˆç±»ä¼¼ã€‚è¿”å›æ ¹è·¯ç”±å°±æ˜¯å°†å½“å‰é¡µé¢ä¹‹ä¸Šçš„é¡µé¢å…¨éƒ¨ç§»é™¤æ‰</p><p>2ï¼‰ã€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Navigator.pushAndRemoveUtil</code> è¿”å›æ ¹è·¯ç”±</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª RegisterPage.dart çš„æ³¨å†Œé¡µï¼Œç„¶å Hompage -&gt; SearchPage -&gt; LoginPage -&gt; RegisterPage éƒ½ä½¿ç”¨ <code>Navigator.pushNamed</code> æ–¹å¼è·³è½¬ï¼ŒRegisterPage -&gt; Hompage ä½¿ç”¨ <code>Navigator.pushAndRemoveUtil</code> æ–¹å¼è·³è½¬ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ã€LoginPage ç¼–å†™</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/HomePage.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Registerpage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>        appBar: AppBar(<br>            title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;RegisterPage&#x27;</span>)<br>        ),<br>        body:  Center(<br>          child: InkWell(<br>            child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&quot;æ³¨å†ŒæˆåŠŸï¼Œå» HomePage&quot;</span>),<br>            onTap: ()&#123;<br>              <span class="hljs-comment">//é€šè¿‡è¿”å›æ ¹è·¯ç”±è·³è½¬åˆ° HomePage </span><br>              Navigator.pushAndRemoveUntil(<br>                  context,<br>                  MaterialPageRoute(builder: (context)&#123;<br>                    <span class="hljs-keyword">return</span> HomePage();<br>                  &#125;),<br>                  (route) =&gt; <span class="hljs-keyword">false</span>);<br>            &#125;,<br>          ),<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€åœ¨ Routes.dart ä¸­æ–°å¢è·¯ç”±ä¿¡æ¯</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutterapplication/pages/RegisterPage.dart&#x27;</span>;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-built_in">String</span> registerPage = <span class="hljs-string">&quot;/registerPage&quot;</span>;<br><br><span class="hljs-keyword">final</span> routes = &#123;<br>  <span class="hljs-comment">//...</span><br>  registerPage: (context) =&gt; RegisterPage()<br>&#125;;<br></code></pre></td></tr></table></figure><p>3ã€ä¿®æ”¹ Hompageï¼ŒSearchPageï¼ŒLoginPage çš„è·³è½¬æ–¹å¼ä¸º <code>Navigator.pushNamed</code></p><p>4ã€æ•ˆæœå±•ç¤º</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2c6bf6ff3eb4510bbd21d66cd4af71f~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (3).gif" width="30%" /><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ä» RegisterPage åˆ° HomePageï¼Œç„¶ååœ¨è¿”å›ï¼Œç›´æ¥é€€åˆ°äº†æ¡Œé¢ï¼Œè¯æ˜å…¶å®ƒé¡µé¢éƒ½è¢«ç§»é™¤äº†</p><h2 id="äºŒã€HTTPS-è¯·æ±‚å®æˆ˜"><a href="#äºŒã€HTTPS-è¯·æ±‚å®æˆ˜" class="headerlink" title="äºŒã€HTTPS è¯·æ±‚å®æˆ˜"></a>äºŒã€HTTPS è¯·æ±‚å®æˆ˜</h2><p>Flutter ä¸­å‘èµ·ç½‘ç»œè¯·æ±‚è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼š</p><blockquote><p> http </p><p> é“¾æ¥ï¼š<a href="https://pub.dev/packages/http">https://pub.dev/packages/http</a></p></blockquote><p>è¿™é‡Œéœ€è¦å¤§å®¶æŒæ¡ Dart å¼‚æ­¥ç¼–ç¨‹åŸºç¡€ï¼Œè¿˜ä¸æ˜ç™½çš„çœ‹æˆ‘<a href="https://juejin.cn/post/7130647339294785549#heading-80">Flutter ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šDart è¯­æ³•ç­‘åŸº</a>è¿™ç¯‡æ–‡ç« </p><p>åœ¨é¡¹ç›®çš„ pubspec.yaml é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dart">dependencies:<br>  http: ^<span class="hljs-number">0.13</span><span class="hljs-number">.5</span><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œç®€å•çš„ä»‹ç»ä¸‹ getï¼Œpost è¯·æ±‚ï¼Œè¿™é‡Œç‰¹åˆ«æ„Ÿè°¢ <a href="https://www.wanandroid.com/">WanAndroid</a> æä¾›çš„ Api</p><h3 id="2-1ã€get-è¯·æ±‚"><a href="#2-1ã€get-è¯·æ±‚" class="headerlink" title="2.1ã€get è¯·æ±‚"></a>2.1ã€get è¯·æ±‚</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//å¯¼å…¥ http å¹¶è®¾ç½®åˆ«å</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:http/http.dart&#x27;</span> <span class="hljs-keyword">as</span> http;<br><br><span class="hljs-comment">//ä½¿ç”¨ async æ ‡è®°ä¸ºå¼‚æ­¥</span><br><span class="hljs-keyword">void</span> _getData() <span class="hljs-keyword">async</span>&#123;<br>  <span class="hljs-comment">//æ„å»ºè¯·æ±‚ uri</span><br>  <span class="hljs-keyword">var</span> uri = <span class="hljs-built_in">Uri</span>.https(<span class="hljs-string">&quot;www.wanandroid.com&quot;</span>, <span class="hljs-string">&quot;/friend/json&quot;</span>);<br>  <span class="hljs-comment">//ä½¿ç”¨ http å‘èµ· get è¯·æ±‚ï¼Œç­‰å¾…è¿”å›ç»“æœè¿›è¡Œåç»­ä»£ç æ‰§è¡Œ</span><br>  <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(uri);<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;====&gt; <span class="hljs-subst">$&#123;result.statusCode&#125;</span>&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">void</span> main()&#123;<br>  _getData();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>====&gt; <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure><h3 id="2-2ã€post-è¯·æ±‚"><a href="#2-2ã€post-è¯·æ±‚" class="headerlink" title="2.2ã€post è¯·æ±‚"></a>2.2ã€post è¯·æ±‚</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//json è½¬æ¢</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:convert&#x27;</span>;<br><span class="hljs-comment">//å¯¼å…¥ http å¹¶è®¾ç½®åˆ«å</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:http/http.dart&#x27;</span> <span class="hljs-keyword">as</span> http;<br><br><br><span class="hljs-comment">//ä½¿ç”¨ async æ ‡è®°ä¸ºå¼‚æ­¥</span><br><span class="hljs-keyword">void</span> _postData() <span class="hljs-keyword">async</span>&#123;<br>  <span class="hljs-comment">//æ„å»ºè¯·æ±‚ uri</span><br>  <span class="hljs-keyword">var</span> uri = <span class="hljs-built_in">Uri</span>.https(<span class="hljs-string">&quot;www.wanandroid.com&quot;</span>, <span class="hljs-string">&quot;/user/login&quot;</span>);<br>  <span class="hljs-comment">//ä½¿ç”¨ http å‘èµ· post è¯·æ±‚ï¼Œç­‰å¾…è¿”å›ç»“æœè¿›è¡Œåç»­ä»£ç æ‰§è¡Œ</span><br>  <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> http.post(uri,body: &#123;<span class="hljs-string">&quot;username&quot;</span>:<span class="hljs-string">&quot;è´¦å·&quot;</span>,<span class="hljs-string">&quot;password&quot;</span>:<span class="hljs-string">&quot;å¯†ç &quot;</span>&#125;);<br>  <span class="hljs-keyword">if</span> (result.statusCode == <span class="hljs-number">200</span>) &#123;<br>    <span class="hljs-comment">//å°† json è§£ææˆ map</span><br>    <span class="hljs-keyword">var</span> resultMap = json.decode(result.body) <span class="hljs-keyword">as</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">dynamic</span>&gt;;<br>    <span class="hljs-comment">//æ‰“å° map é‡Œé¢çš„å±æ€§</span><br>    <span class="hljs-built_in">print</span>(resultMap[<span class="hljs-string">&quot;data&quot;</span>][<span class="hljs-string">&quot;nickname&quot;</span>]);<br>  &#125;<br>&#125;<br><br><br><span class="hljs-keyword">void</span> main()&#123;<br>  _postData();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>sweetying<br></code></pre></td></tr></table></figure><h3 id="2-3ã€è¯·æ±‚æ¡ˆä¾‹å®æˆ˜"><a href="#2-3ã€è¯·æ±‚æ¡ˆä¾‹å®æˆ˜" class="headerlink" title="2.3ã€è¯·æ±‚æ¡ˆä¾‹å®æˆ˜"></a>2.3ã€è¯·æ±‚æ¡ˆä¾‹å®æˆ˜</h3><p>é¦–å…ˆçœ‹ä¸€çœ¼æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45f74a89d3914ba7bfb01a74833891ec~tplv-k3u1fbpfcp-watermark.image?" alt="ezgif.com-gif-maker (4).gif" width="30%" /><p>å®é™…ä¸Šå°±æ˜¯å°†æˆ‘ä»¬è¯·æ±‚çš„ç½‘ç»œæ•°æ®ä½¿ç”¨ ListView å±•ç¤ºå‡ºæ¥ï¼Œæ¯”è¾ƒç®€å•ï¼Œå¤§å®¶ä¸»è¦æŒæ¡æ€è·¯ï¼Œç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//å¯¼åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:convert&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:http/http.dart&#x27;</span> <span class="hljs-keyword">as</span> http;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpPracticePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  _HttpPracticePageState createState() =&gt; _HttpPracticePageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_HttpPracticePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">HttpPracticePage</span>&gt; </span>&#123;<br>  <span class="hljs-keyword">var</span> list = [];<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br>    <span class="hljs-comment">//åŠ è½½ç½‘ç»œæ•°æ®</span><br>    _getData();<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      home: Scaffold(<br>          appBar: AppBar(<br>            title: Text(<span class="hljs-string">&#x27;Http å®è·µé¡µé¢&#x27;</span>),<br>          ),<br>          <span class="hljs-comment">//å¦‚æœ list ä¸ºç©ºï¼Œå±•ç¤ºä¸ºç©ºç™½é¡µé¢ï¼Œä¸ä¸ºç©ºæ¸²æŸ“ ListView</span><br>          body: list.isNotEmpty<br>              ? ListView.builder(<br>              itemCount: list.length,<br>              itemBuilder: (context, index) &#123;<br>                  <span class="hljs-keyword">return</span> ListTile(<br>                      title: Text(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;list[index][<span class="hljs-string">&quot;name&quot;</span>]&#125;</span>&quot;</span>),<br>                      subtitle: Text(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;list[index][<span class="hljs-string">&quot;link&quot;</span>]&#125;</span>&quot;</span>));<br>                &#125;)<br>              : Text(<span class="hljs-string">&quot;&quot;</span>)),<br>    );<br>  &#125;<br><br>  <span class="hljs-comment">//ä½¿ç”¨ async æ ‡è®°ä¸ºå¼‚æ­¥</span><br>  <span class="hljs-keyword">void</span> _getData() <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-comment">//æ„å»ºè¯·æ±‚ uri</span><br>    <span class="hljs-keyword">var</span> uri = <span class="hljs-built_in">Uri</span>.https(<span class="hljs-string">&quot;www.wanandroid.com&quot;</span>, <span class="hljs-string">&quot;/friend/json&quot;</span>);<br>    <span class="hljs-comment">//ä½¿ç”¨ http å‘èµ· get è¯·æ±‚ï¼Œç­‰å¾…è¿”å›ç»“æœè¿›è¡Œåç»­ä»£ç æ‰§è¡Œ</span><br>    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(uri);<br>    <span class="hljs-keyword">if</span> (result.statusCode == <span class="hljs-number">200</span>) &#123;<br>      <span class="hljs-comment">//å°† json è§£ææˆ map</span><br>      <span class="hljs-keyword">var</span> map = json.decode(result.body) <span class="hljs-keyword">as</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;;<br>      <span class="hljs-comment">//é€šçŸ¥ UI è¿›è¡Œåˆ·æ–°</span><br>      setState(() &#123;<br>        list = map[<span class="hljs-string">&quot;data&quot;</span>];<br>      &#125;);<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»äº†ï¼š</p><p>1ã€Flutter ä¸­çš„è·¯ç”±ä½¿ç”¨ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ä½¿ç”¨ä¸åŒçš„ Api</p><p>2ã€æ¨èä½¿ç”¨è·¯ç”±ç»Ÿä¸€ç®¡ç†ä»¥åŠå¯¼åŒ…çš„æ—¶å€™ä½¿ç”¨ç»å¯¹è·¯å¾„</p><p>3ã€ç®€å•çš„ä»‹ç»äº†ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ http è¿›è¡Œ getï¼Œpost è¯·æ±‚ï¼Œæœ€åè¿›è¡Œäº†ä¸€ä¸ªè¯·æ±‚æ¡ˆä¾‹çš„å®æˆ˜</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®² Flutter ä¸ Android çš„é€šä¿¡ï¼Œå°½è¯·æœŸå¾…å§ğŸº</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://www.bilibili.com/video/BV1S4411E7LY?p=19&vd_source=d0b24cb21c438ff4a9ac2e589eacb3d9">Flutter æ•™ç¨‹</a>ï¼šé€šä¿—æ˜“æ‡‚çš„ Flutter å…¥é—¨æ•™ç¨‹</p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆå…­ï¼‰ï¼šFlutter å¸¸ç”¨è¡¨å• Widget</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%8D%95%20Widget/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%8D%95%20Widget/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101705690.jpeg" alt="beach-1824855_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Flutter ä¸­å¸¸ç”¨çš„æŒ‰é’® Widgetï¼ŒFlutter 1.x å’Œ Flutter 2.x æŒ‰é’®çš„å˜åŒ–ï¼Œæœ€åé€šè¿‡ Flutter 1.x ç›¸å…³ Button + BottomNavigationBar + FloatingActionButton å®ç°äº†ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7137082885571346463">Flutter ç³»åˆ—ï¼ˆäº”ï¼‰ï¼šFlutter å¸¸ç”¨æŒ‰é’® Widget</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ Flutter è¡¨å• Widget è¿›è¡Œå­¦ä¹ </p><p>Flutter ä¸­å¸¸è§çš„è¡¨å•æœ‰ï¼šTextFieldï¼ŒCheckBoxï¼ŒRadioï¼ŒSwitchï¼ŒCheckboxListTileï¼ŒRadioListTileï¼ŒSwitchListTileï¼ŒSlider ç­‰ï¼Œä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹è¿™äº›å¸¸ç”¨çš„ Widget</p><h2 id="ä¸€ã€Flutter-å¸¸ç”¨è¡¨å•-Widget-ä»‹ç»"><a href="#ä¸€ã€Flutter-å¸¸ç”¨è¡¨å•-Widget-ä»‹ç»" class="headerlink" title="ä¸€ã€Flutter å¸¸ç”¨è¡¨å• Widget ä»‹ç»"></a>ä¸€ã€Flutter å¸¸ç”¨è¡¨å• Widget ä»‹ç»</h2><h3 id="1-1ã€TextFiled-æ–‡æœ¬æ¡†"><a href="#1-1ã€TextFiled-æ–‡æœ¬æ¡†" class="headerlink" title="1.1ã€TextFiled æ–‡æœ¬æ¡†"></a>1.1ã€TextFiled æ–‡æœ¬æ¡†</h3><p>TextFiled æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„æ–‡æœ¬æ¡† Widgetï¼Œå…¶å¸¸ç”¨çš„å±æ€§æœ‰ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>maxLines</td><td>int</td><td>è®¾ç½®æ­¤å‚æ•°å¯ä»¥æŠŠæ–‡æœ¬æ¡†æ”¹ä¸ºå¤šè¡Œæ–‡æœ¬æ¡†</td></tr><tr><td>onChanged</td><td>ValueChanged<String></td><td>æ–‡æœ¬æ¡†æ”¹å˜æ—¶è§¦å‘çš„äº‹ä»¶</td></tr><tr><td>decoratioin</td><td>InputDecoration</td><td>è£…é¥°ï¼ŒInputDecoration å¸¸ç”¨å±æ€§ï¼š<br>hintTextï¼šé»˜è®¤æç¤ºæ–‡æ¡ˆ<br>borderï¼šæ–‡æœ¬æ¡†è¾¹æ¡†ï¼Œé…åˆ OutlineInputBorder ä½¿ç”¨<br>labelTextï¼šlabel çš„åç§°<br>labelStyleï¼šé…ç½® label çš„æ ·å¼</td></tr><tr><td>obscureText</td><td>bool</td><td>æ˜¯å¦æŠŠæ–‡æœ¬æ¡†æ”¹ä¸ºå¯†ç æ¡†</td></tr><tr><td>controller</td><td>TextEditingController</td><td>é…ç½®æ–‡æœ¬æ¡†é»˜è®¤æ˜¾ç¤ºçš„å†…å®¹</td></tr></tbody></table><p>è¿è¡Œä¸‹é¢ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Form Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>    )<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Padding(<br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      child: Column(<br>        children: [<br>          TextField( <span class="hljs-comment">//è´¦å·è¾“å…¥æ¡†</span><br>            maxLines: <span class="hljs-number">1</span>, <span class="hljs-comment">//æœ€å¤§æ˜¾ç¤ºä¸€è¡Œ</span><br>            decoration: InputDecoration(<br>                hintText: <span class="hljs-string">&quot;please input account&quot;</span>, <span class="hljs-comment">//é»˜è®¤æç¤ºæ–‡æ¡ˆ</span><br>                label: Text(<span class="hljs-string">&quot;Account&quot;</span>) <span class="hljs-comment">//æ–‡æœ¬æ¡†æ ‡ç­¾æç¤º</span><br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          TextField(<span class="hljs-comment">//å¯†ç è¾“å…¥æ¡†</span><br>            maxLines: <span class="hljs-number">1</span>, <span class="hljs-comment">//æœ€å¤§æ˜¾ç¤ºä¸€è¡Œ</span><br>            obscureText: <span class="hljs-keyword">true</span>, <span class="hljs-comment">//è®¾ç½®æ–‡æœ¬è¾“å…¥ä¸ºå¯†æ–‡</span><br>            decoration: InputDecoration(<br>                hintText: <span class="hljs-string">&quot;please input password&quot;</span>, <span class="hljs-comment">//é»˜è®¤æç¤ºæ–‡æ¡ˆ</span><br>                label: Text(<span class="hljs-string">&quot;Password&quot;</span>) <span class="hljs-comment">//æ–‡æœ¬æ¡†æ ‡ç­¾æç¤º</span><br>            ),<br>          )<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02d56e52ecc84c8baebd9e8b1f3cc86c~tplv-k3u1fbpfcp-watermark.image?" alt="textfield.png" width="50%" /><h3 id="1-2ã€Checkboxï¼ŒCheckboxListTile-å¤é€‰æ¡†"><a href="#1-2ã€Checkboxï¼ŒCheckboxListTile-å¤é€‰æ¡†" class="headerlink" title="1.2ã€Checkboxï¼ŒCheckboxListTile å¤é€‰æ¡†"></a>1.2ã€Checkboxï¼ŒCheckboxListTile å¤é€‰æ¡†</h3><p>Checkbox æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„å¤é€‰æ¡† Widgetï¼Œå¸¸ç”¨å±æ€§æœ‰ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>value</td><td>bool</td><td>å¿…å¡«é¡¹ï¼Œtrueï¼šé€‰ä¸­ï¼Œfalseï¼šæœªé€‰ä¸­</td></tr><tr><td>onChanged</td><td>ValueChanged<bool></td><td>å¿…å¡«é¡¹ï¼Œæ”¹å˜æ—¶è§¦å‘çš„äº‹ä»¶</td></tr><tr><td>activeColor</td><td>Color</td><td>é€‰ä¸­çš„èƒŒæ™¯é¢œè‰²</td></tr><tr><td>checkColor</td><td>Color</td><td>é€‰ä¸­å¤é€‰æ¡†é‡Œé¢ç¬¦å·çš„é¢œè‰²</td></tr></tbody></table><p>CheckboxListTile æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„å¤é€‰æ¡†åˆ—è¡¨ Itemï¼Œå¸¸ç”¨å±æ€§æœ‰ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>value</td><td>bool</td><td>å¿…å¡«é¡¹ï¼Œtrueï¼šé€‰ä¸­ï¼Œfalseï¼šæœªé€‰ä¸­</td></tr><tr><td>onChanged</td><td>ValueChanged<bool></td><td>å¿…å¡«é¡¹ï¼Œæ”¹å˜æ—¶è§¦å‘çš„äº‹ä»¶</td></tr><tr><td>activeColor</td><td>Color</td><td>é€‰ä¸­çš„èƒŒæ™¯é¢œè‰²ï¼Œå¦‚æœ selected ä¸º true ï¼Œåˆ™ titleï¼Œsubtitleï¼Œsecondary ä¹Ÿä¼šå˜</td></tr><tr><td>checkColor</td><td>Color</td><td>é€‰ä¸­å¤é€‰æ¡†é‡Œé¢ç¬¦å·çš„é¢œè‰²</td></tr><tr><td>title</td><td>Widget</td><td>æ ‡é¢˜</td></tr><tr><td>subtitle</td><td>Widget</td><td>äºŒçº§æ ‡é¢˜</td></tr><tr><td>secondary</td><td>Widget</td><td>é…ç½®æ˜¾ç¤ºçš„å›¾æ ‡æˆ–å›¾ç‰‡</td></tr><tr><td>selected</td><td>bool</td><td>é€‰ä¸­æ—¶å…¶å®ƒå­ Widget é¢œè‰²æ˜¯å¦è·Ÿç€æ”¹å˜</td></tr></tbody></table><p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ Wdiget éƒ½æ˜¯ç»§æ‰¿ StatelessWidgetï¼Œä½†è¡¨å•ç›¸å…³çš„ Widget éƒ½æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå› æ­¤éœ€è¦ç»§æ‰¿ StatefulWidget æ¥åŠ¨æ€å±•ç¤ºå®ƒçš„ä¸€ä¸ªçŠ¶æ€ï¼Œç»§æ‰¿ StatefulWidget çš„ä¸€ä¸ªæ ‡å‡†æ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt;</span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement build</span><br>    <span class="hljs-keyword">throw</span> UnimplementedError();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ Checkboxï¼ŒCheckboxListTile æ¥å®è·µä¸€ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Form Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>    )<br>  ));<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt; </span>&#123;<br><br>  <span class="hljs-comment">//è®°å½•ç¬¬ä¸€ä¸ªå¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€</span><br>  <span class="hljs-keyword">var</span> flag1 = <span class="hljs-keyword">false</span>;<br>  <span class="hljs-comment">//è®°å½•ç¬¬äºŒä¸ªå¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€</span><br>  <span class="hljs-keyword">var</span> flag2 = <span class="hljs-keyword">false</span>;<br>  <span class="hljs-comment">//è®°å½•ç¬¬ä¸‰ä¸ªå¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€</span><br>  <span class="hljs-keyword">var</span> flag3 = <span class="hljs-keyword">false</span>;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Column(<br>      mainAxisAlignment: MainAxisAlignment.center,<br>      children: [<br>        Checkbox( <span class="hljs-comment">//ç¬¬ä¸€ä¸ªå¤é€‰æ¡†</span><br>          value: flag1,<br>          onChanged: (value)&#123;<br>            setState(() &#123;<br>              flag1 = value??<span class="hljs-keyword">false</span>; <span class="hljs-comment">//æ›´æ–°å¤é€‰æ¡†çš„çŠ¶æ€</span><br>            &#125;);<br>          &#125;,<br>        ),<br>        Row(<br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: [<br>            Text(flag1 == <span class="hljs-keyword">true</span> ? <span class="hljs-string">&quot;é€‰ä¸­&quot;</span> : <span class="hljs-string">&quot;æœªé€‰ä¸­&quot;</span>)<br>          ],<br>        ),<br>        Divider(color: Colors.black),<br>        CheckboxListTile(value: flag2, onChanged: (value)&#123; <span class="hljs-comment">//ç¬¬äºŒä¸ªå¤é€‰æ¡†åˆ—è¡¨ item</span><br>          setState(() &#123;<br>            flag2 = value??<span class="hljs-keyword">false</span>; <span class="hljs-comment">//æ›´æ–°å¤é€‰æ¡†çš„çŠ¶æ€</span><br>          &#125;);<br>        &#125;,<br>          activeColor: Colors.green, <span class="hljs-comment">//é€‰ä¸­çš„èƒŒæ™¯é¢œè‰²ï¼Œå¦‚æœ selected ä¸º true ï¼Œåˆ™ titleï¼Œsubtitleï¼Œsecondary ä¹Ÿä¼šå˜</span><br>          checkColor: Colors.black, <span class="hljs-comment">//é€‰ä¸­å¤é€‰æ¡†é‡Œé¢ç¬¦å·çš„é¢œè‰²</span><br>          title: Text(<span class="hljs-string">&#x27;æ ‡é¢˜&#x27;</span>), <span class="hljs-comment">//å±•ç¤ºæ ‡é¢˜</span><br>          subtitle: Text(<span class="hljs-string">&quot;æè¿°&quot;</span>), <span class="hljs-comment">//å±•ç¤ºå‰¯æ ‡é¢˜</span><br>          selected: flag2, <span class="hljs-comment">//é€‰ä¸­æ—¶å…¶å®ƒå­ Widget é¢œè‰²è·Ÿç€æ”¹å˜</span><br>        ),<br><br>        Divider(color: Colors.black),<br><br>        CheckboxListTile(value: flag3, onChanged: (value)&#123; <span class="hljs-comment">//ç¬¬ä¸‰ä¸ªå¤é€‰æ¡†åˆ—è¡¨ item</span><br>          setState(() &#123;<br>            flag3 = value??<span class="hljs-keyword">false</span>; <span class="hljs-comment">//æ›´æ–°å¤é€‰æ¡†çš„çŠ¶æ€</span><br>          &#125;);<br>        &#125;,<br>          title: Text(<span class="hljs-string">&#x27;æ ‡é¢˜&#x27;</span>), <span class="hljs-comment">//å±•ç¤ºæ ‡é¢˜</span><br>          subtitle: Text(<span class="hljs-string">&quot;æè¿°&quot;</span>), <span class="hljs-comment">//å±•ç¤ºå‰¯æ ‡é¢˜</span><br>          secondary: Icon(Icons.home), <span class="hljs-comment">//å±•ç¤ºå›¾æ ‡</span><br>          selected: <span class="hljs-keyword">false</span>, <span class="hljs-comment">//é€‰ä¸­æ—¶å…¶å®ƒå­ Widget é¢œè‰²ä¸è·Ÿç€æ”¹å˜</span><br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/152787ffc53245e6952bdb94f269da08~tplv-k3u1fbpfcp-watermark.image?" alt="checkbox.gif" width="30%" /><h3 id="1-3ã€Radioï¼ŒRadioListTile-å•é€‰æ¡†"><a href="#1-3ã€Radioï¼ŒRadioListTile-å•é€‰æ¡†" class="headerlink" title="1.3ã€Radioï¼ŒRadioListTile å•é€‰æ¡†"></a>1.3ã€Radioï¼ŒRadioListTile å•é€‰æ¡†</h3><p>Radioï¼ŒRadioListTile æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„å•é€‰æ¡†å’Œå•é€‰æ¡†åˆ—è¡¨ Itemï¼Œå®ƒçš„å¸¸ç”¨å±æ€§å’Œ Checkboxï¼ŒCheckboxListTile éå¸¸ç±»ä¼¼ï¼ŒåŒºåˆ«å°±æ˜¯ï¼šRadioï¼ŒRadioListTile å¿…é¡»æä¾›ä¸€ä¸ª groupValue å±æ€§ç”¨äºè®°å½•å•é€‰æ¡†çš„åˆ†ç»„ï¼Œç›´æ¥ä¸Šä»£ç æ„Ÿå—ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Form Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>    )<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt; </span>&#123;<br>  <span class="hljs-comment">//æ€§åˆ«</span><br>  <span class="hljs-built_in">int</span> sex = <span class="hljs-number">1</span>;<br>  <span class="hljs-comment">//ç¬¬äºŒä¸ªå¤é€‰æ¡†çŠ¶æ€æ ‡è®°</span><br>  <span class="hljs-built_in">bool</span> flag = <span class="hljs-keyword">true</span>;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Column(<br>      mainAxisAlignment: MainAxisAlignment.center,<br>      children: [<br>        <span class="hljs-comment">//ç¬¬ä¸€ç»„å•é€‰æ¡†</span><br>        Row(<br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: [<br>            Text(<span class="hljs-string">&quot;ç”·&quot;</span>),<br>            Radio(<br>                value: <span class="hljs-number">1</span>,<br>                onChanged: (value) &#123;<br>                  setState(() &#123;<br>                    sex = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">int</span>; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>                  &#125;);<br>                &#125;,<br>                groupValue: sex), <span class="hljs-comment">//groupValue ä¸º sex</span><br>            SizedBox(width: <span class="hljs-number">20</span>),<br>            Text(<span class="hljs-string">&quot;å¥³&quot;</span>),<br>            Radio(<br>                value: <span class="hljs-number">2</span>,<br>                onChanged: (value) &#123;<br>                  setState(() &#123;<br>                    sex = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">int</span>; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>                  &#125;);<br>                &#125;,<br>                groupValue: sex) <span class="hljs-comment">//groupValue ä¸º sex</span><br>          ],<br>        ),<br>        SizedBox(height: <span class="hljs-number">20</span>),<br>        Divider(),<br>         <span class="hljs-comment">//ç¬¬äºŒç»„å•é€‰æ¡†</span><br>        RadioListTile(<br>          value: <span class="hljs-keyword">true</span>,<br>          onChanged: (value) &#123;<br>            setState(() &#123;<br>              flag = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">bool</span>; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>            &#125;);<br>          &#125;,<br>          groupValue: flag, <span class="hljs-comment">//groupValue ä¸º flag</span><br>          title: Text(<span class="hljs-string">&quot;ä¸€çº§æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//æ ‡é¢˜</span><br>          subtitle: Text(<span class="hljs-string">&quot;äºŒçº§æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//å‰¯æ ‡é¢˜</span><br>          secondary: Icon(Icons.home), <span class="hljs-comment">//æ˜¾ç¤ºå›¾æ ‡</span><br>        ),<br>        RadioListTile(<br>          value: <span class="hljs-keyword">false</span>,<br>          onChanged: (value) &#123;<br>            setState(() &#123;<br>              flag = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">bool</span>; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>            &#125;);<br>          &#125;,<br>          groupValue: flag, <span class="hljs-comment">//groupValue ä¸º flag</span><br>          title: Text(<span class="hljs-string">&quot;ä¸€çº§æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//æ ‡é¢˜</span><br>          subtitle: Text(<span class="hljs-string">&quot;äºŒçº§æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//å‰¯æ ‡é¢˜</span><br>          secondary: Image.network( <span class="hljs-comment">//æ˜¾ç¤ºå›¾ç‰‡</span><br>              <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>),<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d902dab159d44c4b737255539be94e4~tplv-k3u1fbpfcp-watermark.image?" alt="radiobutton.gif" width="30%" /><h3 id="1-4ã€Switchï¼ŒSwitchListTile-å¼€å…³"><a href="#1-4ã€Switchï¼ŒSwitchListTile-å¼€å…³" class="headerlink" title="1.4ã€Switchï¼ŒSwitchListTile å¼€å…³"></a>1.4ã€Switchï¼ŒSwitchListTile å¼€å…³</h3><p>Switchï¼ŒSwitchListTile æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„å¼€å…³å’Œå¼€å…³åˆ—è¡¨ Itemï¼Œå¸¸ç”¨å±æ€§å’Œä¸Šé¢ä¸¤ä¸ªç±»ä¼¼ï¼Œæˆ‘ä»¬å¿«é€Ÿè¿‡ä¸€ä¸‹ï¼š</p><p>ä»£ç å®è·µï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Form Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>    )<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt; </span>&#123;<br>  <span class="hljs-comment">//å¼€å…³çš„çŠ¶æ€æ ‡è®°</span><br>  <span class="hljs-built_in">bool</span> flag = <span class="hljs-keyword">true</span>;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Column(<br>      children: [<br>        Switch( <span class="hljs-comment">//Switch</span><br>            value: flag,<br>            onChanged: (value) &#123;<br>              setState(() &#123;<br>                flag = value; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>              &#125;);<br>            &#125;),<br>        SizedBox(height: <span class="hljs-number">20</span>),<br>        SwitchListTile( <span class="hljs-comment">//SwitchListTile</span><br>            value: flag,<br>            onChanged: (value) &#123;<br>              setState(() &#123;<br>                flag = value; <span class="hljs-comment">//æ›´æ–°çŠ¶æ€</span><br>              &#125;);<br>            &#125;,<br>            title: Text(<span class="hljs-string">&quot;æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//æ ‡é¢˜</span><br>            subtitle: Text(<span class="hljs-string">&quot;å‰¯æ ‡é¢˜&quot;</span>), <span class="hljs-comment">//å‰¯æ ‡é¢˜</span><br>            secondary: Image.network( <span class="hljs-comment">//æ˜¾ç¤ºå›¾ç‰‡</span><br>              <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>            ) <br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45fad04d96ec4c12a3b9f7ee67e04580~tplv-k3u1fbpfcp-watermark.image?" alt="switch.gif" width="30%" /><h3 id="1-5ã€Slider-è¿›åº¦æ¡"><a href="#1-5ã€Slider-è¿›åº¦æ¡" class="headerlink" title="1.5ã€Slider è¿›åº¦æ¡"></a>1.5ã€Slider è¿›åº¦æ¡</h3><p>Slider æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„è¿›åº¦æ¡ Widgetã€‚å…¶å¸¸ç”¨å±æ€§æœ‰ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>value</td><td>double</td><td>å¿…å¡«é¡¹ï¼Œå½“å‰ Slider æ»‘å—ä½ç½®çš„å€¼ï¼Œæ³¨æ„ä¸å¯ä»¥è¶…å‡º min å’Œ max çš„èŒƒå›´ï¼Œå¦åˆ™ä¼šæŠ¥é”™</td></tr><tr><td>onChanged</td><td>ValueChanged<double></td><td>å¿…å¡«é¡¹ï¼Œæ­£åœ¨æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ï¼Œæœªæ¾æ‰‹</td></tr><tr><td>onChangeStart</td><td>ValueChanged<double></td><td>åˆšå¼€å§‹ç‚¹å‡»</td></tr><tr><td>onChangeEnd</td><td>ValueChanged<double></td><td>æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ç»“æŸï¼Œå·²æ¾æ‰‹</td></tr><tr><td>min</td><td>double</td><td>æœ€å°å€¼ï¼Œé»˜è®¤ä¸º 0.0</td></tr><tr><td>max</td><td>double</td><td>æœ€å¤§å€¼ï¼Œé»˜è®¤ä¸º 1.0</td></tr><tr><td>activeColor</td><td>Color</td><td>æ»‘å—é¢œè‰²</td></tr><tr><td>inactiveColor</td><td>Color</td><td>è½¨é“é¢œè‰²</td></tr><tr><td>label</td><td>String</td><td>æ°”æ³¡æ–‡æœ¬</td></tr><tr><td>divisions</td><td>int</td><td>åˆ»åº¦ï¼Œå¦‚æ²¡æœ‰åˆ»åº¦ï¼Œlabel åˆ™ä¸ä¼šå±•ç¤º</td></tr></tbody></table><p>ä»£ç å®è·µï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Form Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>    )<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt;</span>&#123;<br>  <span class="hljs-comment">//æ»‘å—çš„å€¼</span><br>  <span class="hljs-built_in">double</span> sliderValue = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span><br>  <span class="hljs-keyword">void</span> updateSlider(value)&#123;<br>    sliderValue = value;<br>    setState(() &#123;<br><br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Padding(<br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      child: Column(<br>        children: [<br>          _slider() <br>        ],<br>      ),<br>    );<br>  &#125;<br><br>  <span class="hljs-comment">//æ„å»ºæ»‘å— Widget</span><br>  Slider _slider()&#123;<br>    <span class="hljs-keyword">return</span> Slider(<br>      value: sliderValue,<br>      max: <span class="hljs-number">100</span>, <span class="hljs-comment">//æœ€å¤§å€¼ä¸º 100</span><br>      activeColor: Colors.red, <span class="hljs-comment">//æ»‘å—é¢œè‰²ä¸ºçº¢è‰²</span><br>      inactiveColor: Colors.green, <span class="hljs-comment">//è½¨é“é¢œè‰²ä¸ºç»¿è‰²</span><br>      label: <span class="hljs-string">&quot;è¿›åº¦ï¼š<span class="hljs-subst">$sliderValue</span>&quot;</span>, <span class="hljs-comment">//æ°”æ³¡æ–‡æœ¬</span><br>      divisions: <span class="hljs-number">10</span>, <span class="hljs-comment">//åˆ»åº¦</span><br>      onChanged: (value)&#123; <span class="hljs-comment">//æ­£åœ¨æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ï¼Œæœªæ¾æ‰‹</span><br>        updateSlider(value);<br>      &#125;,<br>      onChangeStart: (value)&#123; <span class="hljs-comment">//åˆšå¼€å§‹ç‚¹å‡»</span><br>        updateSlider(value);<br>      &#125;,<br>      onChangeEnd: (value)&#123; <span class="hljs-comment">//æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ç»“æŸï¼Œå·²æ¾æ‰‹</span><br>        updateSlider(value);<br>      &#125;,<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1783f4399eb14b8eaafb5a5a69778c0d~tplv-k3u1fbpfcp-watermark.image?" alt="slider.gif" width="30%" /><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ SliderTheme åµŒå¥— Slider å®ç°å„ç§è‡ªå®šä¹‰æ ·å¼ï¼Œè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ï¼ŒSliderTheme å¸¸ç”¨å±æ€§æœ‰ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td>SliderThemeData</td><td>å¿…å¡«é¡¹ï¼Œé€šè¿‡ SliderThemeData å®ç°å„ç§è‡ªå®šä¹‰æ ·å¼</td></tr><tr><td>child</td><td>Widget</td><td>å¿…å¡«é¡¹ï¼Œå­ Widget</td></tr></tbody></table><p>SliderThemeData å±æ€§ä»‹ç»ï¼š<a href="https://api.flutter.dev/flutter/material/SliderThemeData-class.html">https://api.flutter.dev/flutter/material/SliderThemeData-class.html</a></p><h2 id="äºŒã€è¡¨å•-Widget-ä¹‹ç»¼åˆæ¡ˆä¾‹"><a href="#äºŒã€è¡¨å•-Widget-ä¹‹ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="äºŒã€è¡¨å• Widget ä¹‹ç»¼åˆæ¡ˆä¾‹"></a>äºŒã€è¡¨å• Widget ä¹‹ç»¼åˆæ¡ˆä¾‹</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨è¡¨å• Widget åšä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ç™»è®°ç³»ç»Ÿï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b87c5a8f38ca46c1a1c9931f6a9d6cda~tplv-k3u1fbpfcp-watermark.image?" alt="form_combine.gif" width="30%" /><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬å…ˆåˆ†æè¿™ä¸ªé¡µé¢ï¼š</p><p>1ã€å¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªä»ä¸Šå¾€ä¸‹çš„å‚ç›´å¸ƒå±€ï¼Œæœ‰ä¸ªå†…è¾¹è·ï¼Œå­ Widget æ˜¯è‡ªé€‚åº”çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ListView å¹¶è®¾ç½®ä¸€ä¸ª padding å®ç°</p><p>2ã€ç„¶åä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ˜¯ï¼Œè¾“å…¥å§“åï¼šæ–‡æœ¬æ¡†ï¼ˆTextFieldï¼‰ï¼Œæ€§åˆ«é€‰æ‹©ï¼šå•é€‰æ¡†ï¼ˆRadioï¼‰ï¼Œå…´è¶£çˆ±å¥½ï¼šå¤é€‰æ¡†ï¼ˆCheckboxï¼‰ï¼Œé¢œå€¼æ‰“åˆ†ï¼šæ»‘å—ï¼ˆSliderï¼‰ï¼Œæ°¸ä¸å®•æœºï¼šå¼€å…³ï¼ˆSwitchListTileï¼‰ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆRaisedButtonï¼‰ï¼Œç”¨æˆ·ä¿¡æ¯å±•ç¤ºï¼ˆTextï¼‰</p><p>3ã€è¿™äº› Widget éƒ½æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»§æ‰¿ StatefulWidgetï¼Œå¹¶ä½¿ç”¨ setState æ–¹æ³•å»æ›´æ–°çŠ¶æ€</p><p>æˆ‘ä»¬ç”»ä¸€å¼ å›¾æ¥ç†ä¸€ä¸‹ Widget ä¹‹é—´çš„æ ‘å½¢ç»“æ„ï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca88da02d2e84137ac6b3fd017ab63c1~tplv-k3u1fbpfcp-watermark.image?" alt="è¡¨å• Widget ä¹‹ç»¼åˆæ¡ˆä¾‹.png" width="50%" /><p>æœ€åæˆ‘ä»¬è¿›è¡Œä»£ç å®ç°ï¼Œé‡Œé¢å†™äº†è¯¦ç»†çš„æ³¨é‡Šï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;ç”¨æˆ·ä¿¡æ¯ç™»è®°ç³»ç»Ÿ&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>      )<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  State&lt;StatefulWidget&gt; createState() =&gt; _MyBodyPageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyBodyPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyBodyPage</span>&gt; </span>&#123;<br><br>  <span class="hljs-comment">//ç”¨æˆ·å§“å</span><br>  <span class="hljs-built_in">String</span> userName = <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-comment">//æ€§åˆ«</span><br>  <span class="hljs-built_in">int</span> sex = <span class="hljs-number">1</span>;<br>  <span class="hljs-comment">//æ˜¯å¦å¼€å¯æ°¸ä¸å®•æœº</span><br>  <span class="hljs-built_in">bool</span> flag = <span class="hljs-keyword">false</span>;<br>  <span class="hljs-comment">//é¢œå€¼æ‰“åˆ†</span><br>  <span class="hljs-built_in">double</span> sliderValue = <span class="hljs-number">0</span>;<br>  <span class="hljs-comment">//å…´è¶£çˆ±å¥½</span><br>  <span class="hljs-built_in">List</span> hobbies = [<br>    &#123;<span class="hljs-string">&quot;checked&quot;</span>: <span class="hljs-keyword">false</span>, <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ‰“ç¯®çƒ&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;checked&quot;</span>: <span class="hljs-keyword">false</span>, <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;çˆ¬å±±&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;checked&quot;</span>: <span class="hljs-keyword">false</span>, <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;å†™ä»£ç &quot;</span>&#125;,<br>  ];<br>  <span class="hljs-comment">//ä¸ªäººä¿¡æ¯</span><br>  <span class="hljs-built_in">String</span> info = <span class="hljs-string">&quot;&quot;</span>;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ListView(<br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      children: [<br>        TextField( <span class="hljs-comment">//æ–‡æœ¬æ¡†ï¼šç”¨æˆ·å§“å</span><br>          decoration: InputDecoration(<br>              hintText: <span class="hljs-string">&quot;è¯·è¾“å…¥ç”¨æˆ·å§“å&quot;</span>, <span class="hljs-comment">//é»˜è®¤æç¤ºæ–‡æ¡ˆ</span><br>              label: Text(<span class="hljs-string">&quot;å§“å&quot;</span>) <span class="hljs-comment">//æ ‡ç­¾</span><br>          ),<br>          onChanged: (str)&#123;<br>            setState(() &#123;<br>              userName = str; <span class="hljs-comment">//æ›´æ–°ç”¨æˆ·å§“åçŠ¶æ€</span><br>            &#125;);<br>          &#125;,<br>        ),<br>        SizedBox(height: <span class="hljs-number">10</span>),<br>        Text(<span class="hljs-string">&quot;æ€§åˆ«ï¼š&quot;</span>),<br>        Row( <span class="hljs-comment">//æ€§åˆ«é€‰æ‹©</span><br>          children: [<br>            Text(<span class="hljs-string">&quot;ç”·&quot;</span>),<br>            Radio(value: <span class="hljs-number">1</span>, groupValue: sex, onChanged: _sexChanged),<br>            Text(<span class="hljs-string">&quot;å¥³&quot;</span>),<br>            Radio(value: <span class="hljs-number">2</span>, groupValue: sex, onChanged:_sexChanged)<br>          ],<br>        ),<br>        Text(<span class="hljs-string">&quot;å…´è¶£çˆ±å¥½ï¼š&quot;</span>),<br>        Row( <span class="hljs-comment">//å…´è¶£çˆ±å¥½</span><br>          children: _getHobbies(),<br>        ),<br>        _slider(),<br>        Row( <span class="hljs-comment">//é¢œå€¼æ‰“åˆ†</span><br>          mainAxisAlignment: MainAxisAlignment.center,<br>          children: [<br>            Text(<span class="hljs-string">&quot;é¢œå€¼ï¼š<span class="hljs-subst">$sliderValue</span>åˆ†&quot;</span>),<br>          ],<br>        ),<br>        SwitchListTile( <span class="hljs-comment">//å¼€å…³æ°¸ä¸å®•æœº</span><br>            value: flag,<br>            title: Text(<span class="hljs-string">&quot;æ°¸ä¸å®•æœº&quot;</span>),<br>            onChanged: (value)&#123;<br>              setState(() &#123;<br>                flag = value;<br>              &#125;);<br>            &#125;<br>        ),<br>        RaisedButton( <span class="hljs-comment">//è·å–ç”¨æˆ·ä¿¡æ¯</span><br>          child: Text(<span class="hljs-string">&quot;è·å–ç”¨æˆ·ä¿¡æ¯&quot;</span>),<br>          onPressed: ()&#123;<br>            setState(() &#123;<br>              info = getInfo(); <span class="hljs-comment">//æ›´æ–°ç”¨æˆ·çŠ¶æ€ä¿¡æ¯</span><br>            &#125;);<br>          &#125;,<br>          color: Colors.blue,<br>          textColor: Colors.white,<br>        ),<br><br>        Text(info) <span class="hljs-comment">//ç”¨æˆ·ä¿¡æ¯å±•ç¤º</span><br>      ],<br>    );<br>  &#125;<br><br>  <span class="hljs-comment">//è·å–ç”¨æˆ·å±•ç¤ºçš„ä¿¡æ¯</span><br>  <span class="hljs-built_in">String</span> getInfo() &#123;<br>    <span class="hljs-built_in">String</span> hobbiesStr = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> element <span class="hljs-keyword">in</span> hobbies) &#123;<br>      <span class="hljs-keyword">if</span>(element[<span class="hljs-string">&quot;checked&quot;</span>])&#123;<br>        hobbiesStr += element[<span class="hljs-string">&quot;title&quot;</span>] + <span class="hljs-string">&quot;ï¼Œ&quot;</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;<span class="hljs-subst">$userName</span>ï¼Œæ€§åˆ«<span class="hljs-subst">$&#123;sex == <span class="hljs-number">1</span> ? <span class="hljs-string">&quot;ç”·&quot;</span> : <span class="hljs-string">&quot;å¥³&quot;</span>&#125;</span>ï¼Œå–œæ¬¢<span class="hljs-subst">$hobbiesStr</span><span class="hljs-subst">$&#123;flag ? <span class="hljs-string">&quot;æ°¸ä¸å®•æœºï¼Œ&quot;</span> : <span class="hljs-string">&quot;&quot;</span>&#125;</span>é¢œå€¼<span class="hljs-subst">$sliderValue</span>åˆ†&quot;</span>;<br>  &#125;<br><br>  <span class="hljs-comment">//æ›´æ–°æ€§åˆ«çŠ¶æ€</span><br>  <span class="hljs-keyword">void</span> _sexChanged(value)&#123;<br>    setState(() &#123;<br>      sex = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">int</span>;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-comment">//æ›´æ–°æ»‘å—çŠ¶æ€</span><br>  <span class="hljs-keyword">void</span> updateSlider(value)&#123;<br>    sliderValue = value;<br>    setState(() &#123;<br><br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-comment">//è·å–å…´è¶£çˆ±å¥½ Widget List</span><br>  <span class="hljs-built_in">List</span>&lt;Widget&gt; _getHobbies() &#123;<br>    <span class="hljs-built_in">List</span>&lt;Widget&gt; temp = [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> element <span class="hljs-keyword">in</span> hobbies) &#123;<br>      <span class="hljs-comment">//æ·»åŠ  Text</span><br>      temp.add(Text(element[<span class="hljs-string">&quot;title&quot;</span>]));<br>      <span class="hljs-comment">//æ·»åŠ  Checkbox</span><br>      temp.add(Checkbox(<br>          value: element[<span class="hljs-string">&quot;checked&quot;</span>],<br>          onChanged: (value) &#123;<br>            setState(() &#123;<br>              element[<span class="hljs-string">&quot;checked&quot;</span>] = value;<br>            &#125;);<br>          &#125;));<br>    &#125;<br>    <span class="hljs-keyword">return</span> temp;<br>  &#125;<br><br>  <span class="hljs-comment">//è·å–æ»‘å— Widget</span><br>  Slider _slider()&#123;<br>    <span class="hljs-keyword">return</span> Slider(<br>      value: sliderValue,<br>      max: <span class="hljs-number">100</span>, <span class="hljs-comment">//æœ€å¤§å€¼ä¸º 100</span><br>      label: <span class="hljs-string">&quot;é¢œå€¼ï¼š<span class="hljs-subst">$sliderValue</span>åˆ†&quot;</span>, <span class="hljs-comment">//æ°”æ³¡æ–‡æœ¬</span><br>      divisions: <span class="hljs-number">10</span>, <span class="hljs-comment">//åˆ»åº¦</span><br>      onChanged: (value)&#123; <span class="hljs-comment">//æ­£åœ¨æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ï¼Œæœªæ¾æ‰‹</span><br>        updateSlider(value);<br>      &#125;,<br>      onChangeStart: (value)&#123; <span class="hljs-comment">//åˆšå¼€å§‹ç‚¹å‡»</span><br>        updateSlider(value);<br>      &#125;,<br>      onChangeEnd: (value)&#123; <span class="hljs-comment">//æ»‘åŠ¨æˆ–è€…ç‚¹å‡»ç»“æŸï¼Œå·²æ¾æ‰‹</span><br>        updateSlider(value);<br>      &#125;,<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»äº†ï¼š</p><p>1ã€Flutter ä¸­å¸¸ç”¨çš„è¡¨å• Widget ï¼šTextFieldï¼ŒCheckBoxï¼ŒRadioï¼ŒSwitchï¼ŒCheckboxListTileï¼ŒRadioListTileï¼ŒSwitchListTileï¼ŒSlider çš„å¸¸ç”¨å±æ€§å’Œä½¿ç”¨ï¼Œä»¥åŠå®ƒä»¬çš„æ˜¾ç¤ºæ•ˆæœ</p><p>2ã€é€šè¿‡è¡¨å• Widget ç»„åˆå®ç°äº†ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ç™»è®°ç³»ç»Ÿ</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>åç»­ä¸ä¼šèŠ±å¤§ç¯‡å¹…å»ä»‹ç» Widgetï¼Œæˆ‘ä¼šç©¿æ’åœ¨å…¶å®ƒçŸ¥è¯†ç‚¹ä¸­ç®€å•ä»‹ç»ä¸‹ï¼ŒFlutter ä¸­æœ‰ 400 å¤šä¸ª Widgetï¼Œä¸å¯èƒ½æ¯ä¸ªéƒ½å»å­¦ï¼Œæˆ‘çš„å»ºè®®ï¼šæŒæ¡å¸¸ç”¨çš„ï¼Œå…¶å®ƒç”¨åˆ°æ—¶åœ¨å»å®˜ç½‘æŸ¥è¯¢ã€‚</p><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®² Flutter ä¸­çš„è·¯ç”±ä»¥åŠå®é™…å¼€å‘ä¸­è¯·æ±‚ Http æ¥å£æ¸²æŸ“é¡µé¢ï¼Œå°½è¯·æœŸå¾…å§ğŸº</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://www.bilibili.com/video/BV1S4411E7LY?p=19&vd_source=d0b24cb21c438ff4a9ac2e589eacb3d9">Flutter æ•™ç¨‹</a>ï¼šé€šä¿—æ˜“æ‡‚çš„ Flutter å…¥é—¨æ•™ç¨‹</p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆäº”ï¼‰ï¼šFlutter å¸¸ç”¨æŒ‰é’® Widget</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%E6%8C%89%E9%92%AE%20Widget/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%E6%8C%89%E9%92%AE%20Widget/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101701772.jpeg" alt="hintersee-3601004_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ï¼šæ•ˆæœå±•ç¤º -&gt; Widget ä»‹ç» -&gt; ä»£ç å®ç°çš„æ–¹å¼å¯¹ Imageï¼ŒListViewï¼ŒGridViewï¼ŒStack è¿›è¡Œäº†ä»‹ç»ï¼Œå¹¶ç©¿æ’è®²è§£äº†ä¸€äº›å…¶å®ƒ Widget ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹å¯¹å­¦ä¹ çš„ Widget è¿›è¡Œäº†ç»„åˆä½¿ç”¨ã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7135827895993237541">Flutter ç³»åˆ—ï¼ˆå››ï¼‰ï¼šFlutter å¸¸ç”¨ Widget äºŒ</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ Flutter æŒ‰é’® Widget è¿›è¡Œå­¦ä¹ </p><p>Flutter ä¸­çš„æŒ‰é’® Widget æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æŒ‰é’® Widget æœ‰ï¼šRaisedButtonï¼ŒFlatButtonï¼ŒIconButtonï¼ŒOutlineButtonï¼ŒButtonBarï¼ŒFloatingActionButton ç­‰ï¼Œä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹è¿™äº›å¸¸ç”¨çš„ Widget</p><h2 id="ä¸€ã€Flutter-å¸¸ç”¨æŒ‰é’®-Widget-ä»‹ç»"><a href="#ä¸€ã€Flutter-å¸¸ç”¨æŒ‰é’®-Widget-ä»‹ç»" class="headerlink" title="ä¸€ã€Flutter å¸¸ç”¨æŒ‰é’® Widget ä»‹ç»"></a>ä¸€ã€Flutter å¸¸ç”¨æŒ‰é’® Widget ä»‹ç»</h2><h3 id="1-1ã€Flutter-æŒ‰é’®-Widget-é€šç”¨å±æ€§"><a href="#1-1ã€Flutter-æŒ‰é’®-Widget-é€šç”¨å±æ€§" class="headerlink" title="1.1ã€Flutter æŒ‰é’® Widget é€šç”¨å±æ€§"></a>1.1ã€Flutter æŒ‰é’® Widget é€šç”¨å±æ€§</h3><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹ï¼ŒæŒ‰é’® Widget éƒ½æœ‰çš„ä¸€äº›å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>onPressed</td><td>VoidCallback</td><td>æ­¤é¡¹ä¸ºå¿…å¡«å‚æ•°ï¼ŒæŒ‰ä¸‹æŒ‰é’®æ—¶è§¦å‘çš„å›è°ƒï¼Œæ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ï¼Œä¼  null è¡¨ç¤ºæŒ‰é’®ç¦ç”¨ï¼Œä¼šæ˜¾ç¤ºç¦ç”¨ç›¸å…³æ ·å¼</td></tr><tr><td>child</td><td>Widget</td><td>å­æ§ä»¶ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šä½¿ç”¨æ–‡æœ¬ Widget æ¥å¡«å……</td></tr><tr><td>textColor</td><td>Color</td><td>æ–‡æœ¬é¢œè‰²</td></tr><tr><td>color</td><td>Color</td><td>æŒ‰é’®èƒŒæ™¯é¢œè‰²</td></tr><tr><td>disabledColor</td><td>Color</td><td>æŒ‰é’®ç¦ç”¨æ—¶çš„èƒŒæ™¯é¢œè‰²</td></tr><tr><td>disabledTextColor</td><td>Color</td><td>æŒ‰é’®ç¦ç”¨æ—¶çš„æ–‡æœ¬é¢œè‰²</td></tr><tr><td>splashColor</td><td>Color</td><td>ç‚¹å‡»æŒ‰é’®æ—¶çš„æ°´æ³¢çº¹é¢œè‰²</td></tr><tr><td>highlightColor</td><td>Color</td><td>é•¿æŒ‰æŒ‰é’®åæŒ‰é’®çš„èƒŒæ™¯é¢œè‰²</td></tr><tr><td>elevation</td><td>double</td><td>æŒ‰é’®é˜´å½±çš„èŒƒå›´ï¼Œå€¼è¶Šå¤§é˜´å½±èŒƒå›´è¶Šå¤§</td></tr><tr><td>padding</td><td>EdgeInsetsGeometry</td><td>å…§è¾¹è·</td></tr><tr><td>shape</td><td>ShapeBorder</td><td>è®¾ç½®æŒ‰é’®çš„å½¢çŠ¶ï¼ŒShapeBorder å®ç°ç±»æœ‰ï¼š<br>RoundedRectangleBorderï¼šåœ†è§’å½¢çŠ¶<br>CircleBorderï¼šåœ†å½¢å½¢çŠ¶</td></tr></tbody></table><p>ä»‹ç»å®Œäº†æŒ‰é’® Widget çš„é€šç”¨å±æ€§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹æ¯ä¸ªæŒ‰é’®åˆå§‹å½¢æ€çš„ä¸€ä¸ªæ•ˆæœï¼Œåœ¨ç»“åˆè¿™äº›æŒ‰é’®åšä¸€ä¸ªç»¼åˆæ¡ˆä¾‹</p><h3 id="1-2ã€RaisedButton"><a href="#1-2ã€RaisedButton" class="headerlink" title="1.2ã€RaisedButton"></a>1.2ã€RaisedButton</h3><p>RaisedButton è§åçŸ¥æ„ï¼šå‡¸èµ·çš„æŒ‰é’®ï¼Œå…¶å®å°±æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„ Material Design é£æ ¼çš„æŒ‰é’®ï¼š</p><p>è¿è¡Œå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Button Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-comment">//ä½¿ç”¨ ListView è®©æŒ‰é’®è‡ªé€‚åº”å±å¹•å®½åº¦</span><br>    <span class="hljs-keyword">return</span> ListView(<br>      <span class="hljs-comment">//å†…é—´è· 20</span><br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      children: [<br>        <span class="hljs-comment">//RaisedButton å‡¸èµ·æŒ‰é’®</span><br>        RaisedButton(<br>          onPressed:()&#123;&#125;,<br>          child: Text(<span class="hljs-string">&quot;RaisedButton&quot;</span>),<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤ºï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/426f79d2652f4d379394b8cc28902bd9~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828103722122" width="50%" /><p>é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªç°è‰²èƒŒæ™¯çš„å‡¸èµ·æŒ‰é’®</p><h3 id="1-3ã€FlatButton"><a href="#1-3ã€FlatButton" class="headerlink" title="1.3ã€FlatButton"></a>1.3ã€FlatButton</h3><p>FlatButton è§åçŸ¥æ„ï¼šæ‰å¹³çš„æŒ‰é’®ï¼Œå’Œ RaiseButton åˆšå¥½ç›¸åï¼Œæ²¡æœ‰å‡¸èµ·çš„æ•ˆæœã€‚å°†ä¸Šè¿° RaiseButton æ¢æˆ FlatButton æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/326cfc9abf8c421e842ba8c5cfc7131d~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828110640212" width="50%" /><p>å¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ²¡æœ‰èƒŒæ™¯ï¼Œå°±åƒä¸€ä¸ªæ–‡æœ¬ Widget ä¸€æ ·</p><h3 id="1-4ã€OutlineButton"><a href="#1-4ã€OutlineButton" class="headerlink" title="1.4ã€OutlineButton"></a>1.4ã€OutlineButton</h3><p>OutlineButton è§åçŸ¥æ„ï¼šå¸¦çº¿æ¡†çš„æŒ‰é’®ï¼Œå®ƒå°±åƒæ˜¯ FlatButton åŠ äº†ä¸€ä¸ªè¾¹æ¡†ã€‚å°†ä¸Šè¿° RaiseButton æ¢æˆ OutlineButton æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dee2a6a1417a4396b12500861737a30e~tplv-k3u1fbpfcp-watermark.image?" alt="outlinebutton.png" width="50%" /><h3 id="1-5ã€IconButton"><a href="#1-5ã€IconButton" class="headerlink" title="1.5ã€IconButton"></a>1.5ã€IconButton</h3><p>IconButton è§åçŸ¥æ„ï¼šå¸¦ Icon çš„æŒ‰é’®ã€‚å°†ä¸Šè¿° RaiseButton æ¢æˆ IconButton å¹¶åšå±æ€§çš„è°ƒæ•´ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dart">IconButton(<br>   icon: Icon(Icons.home),<br>   onPressed:()&#123;&#125;,<br>)<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fcf789f83b5248c3910ed88306c43099~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828111723913" width="50%" /><h3 id="1-6ã€ButtonBar"><a href="#1-6ã€ButtonBar" class="headerlink" title="1.6ã€ButtonBar"></a>1.6ã€ButtonBar</h3><p>ButtonBar æ˜¯ä¸€ä¸ªæŒ‰é’®ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒçš„ children å±æ€§ä¸­æ”¾å…¥å¤šä¸ªæŒ‰é’®ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Button Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ButtonBar(<br>      <span class="hljs-comment">//æŒ‰é’®ç»„</span><br>      children: [<br>        RaisedButton( <span class="hljs-comment">//RaisedButton</span><br>          onPressed: () &#123;&#125;,<br>          child: Text(<span class="hljs-string">&quot;RaisedButton&quot;</span>),<br>        ),<br>        FlatButton( <span class="hljs-comment">//FlatButton</span><br>          onPressed: () &#123;&#125;,<br>          child: Text(<span class="hljs-string">&quot;FlatButton&quot;</span>),<br>        ),<br>        OutlineButton( <span class="hljs-comment">//OutlineButton</span><br>          onPressed: () &#123;&#125;,<br>          child: Text(<span class="hljs-string">&quot;OutlineButton&quot;</span>),<br>        ),<br>        IconButton( <span class="hljs-comment">//IconButton</span><br>          icon: Icon(Icons.home),<br>          onPressed: () &#123;&#125;,<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c49b50b9684249e18c84c942c80e6af5~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828112553805" width="50%" /><h3 id="1-7ã€FloatingActionButton"><a href="#1-7ã€FloatingActionButton" class="headerlink" title="1.7ã€FloatingActionButton"></a>1.7ã€FloatingActionButton</h3><p>FloatingActionButton ç®€ç§° FABï¼Œå¯ä»¥å®ç°æµ®åŠ¨æŒ‰é’®ã€‚å®ƒå¸¸ç”¨çš„ä¸€äº›å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>onPressed</td><td>VoidCallback</td><td>æ­¤é¡¹ä¸ºå¿…å¡«å‚æ•°ï¼ŒæŒ‰ä¸‹æŒ‰é’®æ—¶è§¦å‘çš„å›è°ƒï¼Œæ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ï¼Œä¼  null è¡¨ç¤ºæŒ‰é’®ç¦ç”¨ï¼Œä¼šæ˜¾ç¤ºç¦ç”¨ç›¸å…³æ ·å¼</td></tr><tr><td>child</td><td>Widget</td><td>å­æ§ä»¶ï¼Œä¸€èˆ¬ä¸º Iconï¼Œä¸æ¨èä½¿ç”¨æ–‡å­—</td></tr><tr><td>backgroundColor</td><td>Color</td><td>èƒŒæ™¯é¢œè‰²</td></tr><tr><td>elevation</td><td>double</td><td>æœªç‚¹å‡»æ—¶å€™çš„é˜´å½±</td></tr><tr><td>highlightElevation</td><td>double</td><td>ç‚¹å‡»æ—¶çš„é˜´å½±å€¼ï¼Œé»˜è®¤ä¸ºï¼š12.0</td></tr><tr><td>shape</td><td>ShapeBorder</td><td>å®šä¹‰ FAB çš„å½¢çŠ¶</td></tr><tr><td>mini</td><td>bool</td><td>æ˜¯å¦æ˜¯ mini ç±»å‹ï¼Œé»˜è®¤ä¸ºï¼šfalse</td></tr></tbody></table><p>å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Button Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ListView(<br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      children: [<br>        FloatingActionButton( <span class="hljs-comment">//FloatingActionButton æŒ‰é’®</span><br>          onPressed: ()&#123;&#125;,<br>          child: Icon(Icons.search),<br>          backgroundColor: Colors.lightGreen,<br>          elevation: <span class="hljs-number">20</span>,<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac14d2bb83594441b8d07bf8e131beb7~tplv-k3u1fbpfcp-watermark.image?" alt="floatingactionbutton.png" width="50%" /><h2 id="äºŒã€Flutter-2-x-æŒ‰é’®-Widget-çš„å˜åŒ–"><a href="#äºŒã€Flutter-2-x-æŒ‰é’®-Widget-çš„å˜åŒ–" class="headerlink" title="äºŒã€Flutter 2.x æŒ‰é’® Widget çš„å˜åŒ–"></a>äºŒã€Flutter 2.x æŒ‰é’® Widget çš„å˜åŒ–</h2><p>å¦‚æœä½ æ˜¯ Flutter 2.x çš„ç‰ˆæœ¬ï¼Œä½ ä¼šå‘ç°ä¹‹å‰çš„ä¸€äº›æŒ‰é’® Widget è¢«åºŸå¼ƒäº†ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e65c7518c914c4d82361cd1228732d4~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828114616994" style="zoom:70%;" width="50%"/><p>ä¸»è¦æ˜¯ä¸Šé¢è¿™ä¸‰ä¸ªæŒ‰é’®çš„å˜åŒ–ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼š</p><table><thead><tr><th>Flutter 1.x ä¸­çš„æŒ‰é’® Widget</th><th>Flutter 2.x ä¸­çš„æŒ‰é’® Widget</th></tr></thead><tbody><tr><td>RaisedButton å‡¸èµ·æŒ‰é’®</td><td>ElevatedButton å‡¸èµ·æŒ‰é’®</td></tr><tr><td>FlatButton æ‰å¹³æŒ‰é’®</td><td>TextButton æ‰å¹³æŒ‰é’®</td></tr><tr><td>OutlinedButton çº¿æ¡†æŒ‰é’®</td><td>OutlinedButton çº¿æ¡†æŒ‰é’®</td></tr></tbody></table><p>å¦å¤–åœ¨ 1.x ä¸­è®¾ç½®çš„ä¸€ç³»åˆ—å±æ€§ï¼Œå¦‚ï¼šcolorï¼ŒtextColorï¼Œelevationï¼Œshapeç­‰åœ¨ 2.x ä¸­éƒ½è¢«å°è£…åˆ°äº† style å±æ€§ä¸­ï¼Œstyle å±æ€§æ¥æ”¶ä¸€ä¸ª ButtonStyle ç±»å‹çš„å¯¹è±¡ï¼Œä»‹ç»ä¸€ä¸‹ ButtonStyle ä¸­çš„å¸¸ç”¨å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>textStyle</td><td>MaterialStateProperty<TextStyle></td><td>æ–‡æœ¬çš„æ ·å¼ ä½†æ˜¯å¯¹äºé¢œè‰²æ˜¯ä¸èµ·ä½œç”¨çš„</td></tr><tr><td>backgroundColor</td><td>MaterialStateProperty<Color></td><td>æŒ‰é’®èƒŒæ™¯è‰²</td></tr><tr><td>foregroundColor</td><td>MaterialStateProperty<Color></td><td>æ–‡æœ¬åŠå›¾æ ‡é¢œè‰²</td></tr><tr><td>overlayColor</td><td>MaterialStateProperty<Color></td><td>é«˜äº®è‰²ï¼ŒæŒ‰é’®å¤„äº focusedï¼Œhovered or pressed æ—¶çš„é¢œè‰²</td></tr><tr><td>shadowColor</td><td>MaterialStateProperty<Color></td><td>é˜´å½±é¢œè‰²</td></tr><tr><td>elevation</td><td>MaterialStateProperty<double></td><td>æŒ‰é’®é˜´å½±çš„èŒƒå›´ï¼Œå€¼è¶Šå¤§é˜´å½±èŒƒå›´è¶Šå¤§</td></tr><tr><td>padding</td><td>MaterialStateProperty<EdgeInsetsGeometry></td><td>æŒ‰é’®å†…è¾¹è·</td></tr><tr><td>minimumSize</td><td>MaterialStateProperty<Size></td><td>æŒ‰é’®æœ€å°å€¼</td></tr><tr><td>fixedSize</td><td>MaterialStateProperty<Size></td><td>æŒ‰é’®å¤§å°</td></tr><tr><td>maximumSize</td><td>MaterialStateProperty<Size></td><td>æŒ‰é’®æœ€å¤§å€¼</td></tr><tr><td>side</td><td>MaterialStateProperty<BorderSide></td><td>è¾¹æ¡†</td></tr><tr><td>shape</td><td>MaterialStateProperty<OutlinedBorder></td><td>è®¾ç½®æŒ‰é’®çš„å½¢çŠ¶</td></tr><tr><td>alignment</td><td>AlignmentGeometry</td><td>æŒ‰é’®å­ Widget å¯¹é½æ–¹å¼</td></tr></tbody></table><p>å®è·µå¯¹æ¯”ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Button Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ListView(<br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      children: [<br>        RaisedButton( <span class="hljs-comment">//RaisedButton</span><br>          onPressed: ()&#123;&#125;,<br>          child: Text(<span class="hljs-string">&quot;RaisedButton&quot;</span>),<br>          textColor: Colors.white, <span class="hljs-comment">//æ–‡æœ¬é¢œè‰²</span><br>          color: Colors.green, <span class="hljs-comment">//æŒ‰é’®èƒŒæ™¯é¢œè‰²</span><br>          splashColor: Colors.red, <span class="hljs-comment">//æ°´æ³¢çº¹é¢œè‰²</span><br>          elevation: <span class="hljs-number">20</span>, <span class="hljs-comment">//é˜´å½±çš„èŒƒå›´</span><br>          shape: RoundedRectangleBorder( <span class="hljs-comment">//è®¾ç½® 20 çš„åœ†è§’</span><br>            borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>)<br>          )<br>        ),<br>        SizedBox(height: <span class="hljs-number">40</span>),<br>        ElevatedButton( <span class="hljs-comment">//ElevatedButton</span><br>            onPressed: ()&#123;&#125;,<br>            child: Text(<span class="hljs-string">&quot;ElevatedButton&quot;</span>),<br>            style: ButtonStyle(<br>              foregroundColor: MaterialStateProperty.all(Colors.white), <span class="hljs-comment">//æ–‡æœ¬é¢œè‰²</span><br>              backgroundColor: MaterialStateProperty.all(Colors.green), <span class="hljs-comment">//æŒ‰é’®èƒŒæ™¯é¢œè‰²</span><br>              overlayColor: MaterialStateProperty.all(Colors.red), <span class="hljs-comment">//æ°´æ³¢çº¹é¢œè‰²</span><br>              elevation: MaterialStateProperty.all(<span class="hljs-number">20</span>), <span class="hljs-comment">//é˜´å½±çš„èŒƒå›´</span><br>              shape: MaterialStateProperty.all(<span class="hljs-comment">//è®¾ç½® 20 çš„åœ†è§’</span><br>                  RoundedRectangleBorder(<br>                      borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>)<br>                  )<br>              )<br>            ),<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f82277a9e354bf18e7249a66b799c94~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220828134202212" width="50%" /><h2 id="ä¸‰ã€æŒ‰é’®-Widget-ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹"><a href="#ä¸‰ã€æŒ‰é’®-Widget-ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ä¸‰ã€æŒ‰é’® Widget ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹"></a>ä¸‰ã€æŒ‰é’® Widget ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹</h2><p>åœ¨è®²ç»¼åˆæ¡ˆä¾‹ä¹‹å‰æˆ‘ä»¬å…ˆå­¦ä¹ ä¸‹ BottomNavigationBar ï¼Œä¸€ä¼šä¼šç”¨åˆ°</p><h3 id="3-1ã€BottomNavigationBar-ä»‹ç»"><a href="#3-1ã€BottomNavigationBar-ä»‹ç»" class="headerlink" title="3.1ã€BottomNavigationBar ä»‹ç»"></a>3.1ã€BottomNavigationBar ä»‹ç»</h3><p>BottomNavigationBar æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„åº•éƒ¨å¯¼èˆªæ  Widgetï¼Œä¸€èˆ¬ç”¨åœ¨ Scaffold çš„ bottomNavigationBar å±æ€§ä¸­</p><p>BottomNavigationBar å¸¸ç”¨å±æ€§ä»‹ç»ï¼š</p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>items</td><td>List<BottomNavigationBarItem></td><td>å¿…é¡»å±æ€§ï¼Œæœ€å°‘è¦æœ‰ä¸¤ä¸ªå­ Widget</td></tr><tr><td>onTap</td><td>ValueChanged</td><td>Widget ç‚¹å‡»äº‹ä»¶</td></tr><tr><td>currentIndex</td><td>int</td><td>å½“å‰æ˜¾ç¤ºçš„æ˜¯å“ªä¸ª Widget</td></tr><tr><td>elevation</td><td>double</td><td>é˜´å½±èŒƒå›´</td></tr><tr><td>type</td><td>BottomNavigationBarType</td><td>BottomNavigationBarType.fixedï¼šå›ºå®š<br>BottomNavigationBarType.shiftingï¼šå¯æ»‘åŠ¨</td></tr><tr><td>fixedColor</td><td>Color</td><td>ç›¸å½“äº selectedItemColorï¼Œä½†æ˜¯ä¸èƒ½è·Ÿ selectedItemColor åŒæ—¶å­˜åœ¨</td></tr><tr><td>backgroundColor</td><td>Color</td><td>èƒŒæ™¯é¢œè‰²</td></tr><tr><td>iconSize</td><td>double</td><td>è®¾ç½®å›¾æ ‡å¤§å°</td></tr><tr><td>selectedItemColor</td><td>Color</td><td>è®¾ç½® Widget é€‰ä¸­çš„é¢œè‰²</td></tr><tr><td>unselectedItemColor</td><td>Color</td><td>è®¾ç½® Widget æœªé€‰ä¸­çš„é¢œè‰²</td></tr><tr><td>selectedFontSize</td><td>double</td><td>è®¾ç½® Widget é€‰ä¸­æ—¶æ–‡å­—çš„å¤§å°</td></tr><tr><td>unselectedFontSize</td><td>double</td><td>è®¾ç½® Widget æœªé€‰ä¸­æ—¶æ–‡å­—çš„å¤§å°</td></tr></tbody></table><p>è¿è¡Œä¸‹é¢ä»£ç ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Button Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        ),<br>        bottomNavigationBar: MyBottomNavigationBar(),<br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBottomNavigationBar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> BottomNavigationBar(<br>        iconSize: <span class="hljs-number">35</span>, <span class="hljs-comment">//å›¾æ ‡å¤§å° 35</span><br>        fixedColor: Colors.green, <span class="hljs-comment">//å›¾ç‰‡é¢œè‰²ç»¿è‰²</span><br>        type: BottomNavigationBarType.fixed, <span class="hljs-comment">//item å›ºå®šæ˜¾ç¤º</span><br>        items: [ <span class="hljs-comment">//è®¾ç½®äº† 3 ä¸ª å­ item</span><br>          BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="hljs-string">&quot;é¦–é¡µ&quot;</span>),<br>          BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="hljs-string">&quot;åˆ†ç±»&quot;</span>),<br>          BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="hljs-string">&quot;è®¾ç½®&quot;</span>)<br>        ]);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/492432dd8d8e497a838565e7b619a70b~tplv-k3u1fbpfcp-zoom-1.image" width="30%"/><h3 id="3-2ã€ç»¼åˆæ¡ˆä¾‹"><a href="#3-2ã€ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="3.2ã€ç»¼åˆæ¡ˆä¾‹"></a>3.2ã€ç»¼åˆæ¡ˆä¾‹</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä½¿ç”¨æŒ‰é’® Widget ç»„åˆæ¥å®ç°å¦‚ä¸‹æ•ˆæœï¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf7e80059f054488a3cf02691ed3521f~tplv-k3u1fbpfcp-watermark.image?" alt="button_together.png" width="30%" /><p>ç®€å•çš„åˆ†æä¸‹è¿™ä¸ªé¡µé¢ï¼šæœ€å¤–å±‚æœ‰ä¸ªå†…é—´è·ï¼ˆPaddingï¼‰ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸€ä¸ªä»ä¸Šå¾€ä¸‹æ’åˆ—çš„å‚ç›´å¸ƒå±€ï¼ˆColumnï¼‰ï¼Œå‚ç›´å¸ƒå±€é‡Œé¢æœ‰ä¸€ç³»åˆ—ä½¿ç”¨ button å®ç°çš„æŒ‰é’®ï¼Œç®€å•èµ·è§ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ Flutter 1.x ç³»åˆ—çš„ Button å»å®ç°ï¼Œæœ€ååº•éƒ¨æœ‰ä¸€ä¸ª BottomNavigationBarï¼ŒBottomNavigationBar ä¸­é—´æœ‰ä¸€ä¸ªå‡¸èµ·çš„ FloatingActionButtonï¼Œç±»ä¼¼å’¸é±¼ä¸­é—´å‘å¸ƒæŒ‰é’®çš„æ•ˆæœã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ç”¨ä»£ç å®ç°ä¸€ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Button Practice&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>      ),<br>      body: MyBodyPage(), <span class="hljs-comment">//è‡ªå®šä¹‰ body Wdiget</span><br>      bottomNavigationBar: MyBottomNavigationBar(), <span class="hljs-comment">//è‡ªå®šä¹‰ bottomNavigationBar Widget</span><br>      floatingActionButton: MyFloatingActionButton(), <span class="hljs-comment">//è‡ªå®šä¹‰ floatingActionButton Widget</span><br>      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked, <span class="hljs-comment">//floatingActionButton åœ¨åº•éƒ¨ä¸­å¿ƒåœé </span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰ BottomNavigationBar</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBottomNavigationBar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> BottomNavigationBar(<br>        iconSize: <span class="hljs-number">35</span>, <span class="hljs-comment">//å›¾æ ‡å¤§å° 35</span><br>        fixedColor: Colors.green, <span class="hljs-comment">//é€‰ä¸­é¢œè‰²ä¸ºç»¿è‰²</span><br>        type: BottomNavigationBarType.fixed, <span class="hljs-comment">//item å›ºå®šæ˜¾ç¤º</span><br>        items: [ <span class="hljs-comment">//è®¾ç½®äº† 3 ä¸ª å­ item</span><br>          BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="hljs-string">&quot;é¦–é¡µ&quot;</span>),<br>          BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="hljs-string">&quot;åˆ†ç±»&quot;</span>),<br>          BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="hljs-string">&quot;è®¾ç½®&quot;</span>)<br>        ]);<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰ FloatingActionButton</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFloatingActionButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-comment">//ä½¿ç”¨ Container åŒ…è£¹ FloatingActionButton åœ¨å¤–å±‚åŠ ä¸€ä¸ªç™½è‰²çš„è¾¹æ¡†</span><br>    <span class="hljs-keyword">return</span>  Container(<br>      width: <span class="hljs-number">80</span>,<br>      height: <span class="hljs-number">80</span>,<br>      padding: EdgeInsets.all(<span class="hljs-number">8</span>),<br>      decoration: BoxDecoration(<br>          color: Colors.white,<br>          borderRadius: BorderRadius.circular(<span class="hljs-number">40</span>)<br>      ),<br>      child: FloatingActionButton(<br>        backgroundColor: Colors.yellow,<br>        onPressed: ()&#123;&#125;,<br>        child: Icon(Icons.add),<br>      ),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Padding(<span class="hljs-comment">//Padding å®ç°å†…é—´è· 20</span><br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>      child: Column(<br>        children: [<br>          Row( <span class="hljs-comment">//ç¬¬ä¸€æ’ï¼šæ™®é€šæŒ‰é’® + çº¢è‰²æŒ‰é’® + å¸¦é˜´å½±çš„æŒ‰é’®</span><br>            children: [<br>              RaisedButton(<br>                onPressed: ()&#123;&#125;,<br>                child: Text(<span class="hljs-string">&quot;æ™®é€šæŒ‰é’®&quot;</span>),<br>              ),<br>              SizedBox(width: <span class="hljs-number">20</span>),<br>              RaisedButton(<br>                onPressed: ()&#123;&#125;,<br>                child: Text(<span class="hljs-string">&quot;çº¢è‰²æŒ‰é’®&quot;</span>),<br>                color: Colors.red,<br>                textColor: Colors.white,<br>              ),<br>              SizedBox(width: <span class="hljs-number">20</span>),<br>              RaisedButton(<br>                onPressed: ()&#123;&#125;,<br>                child: Text(<span class="hljs-string">&quot;å¸¦é˜´å½±çš„æŒ‰é’®&quot;</span>),<br>                color: Colors.blue,<br>                textColor: Colors.white,<br>                elevation: <span class="hljs-number">20</span>,<br>              )<br>            ],<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Container( <span class="hljs-comment">//ç¬¬äºŒæ’ï¼šè‡ªé€‚åº”æŒ‰é’®</span><br>            height: <span class="hljs-number">60</span>,<br>            width: <span class="hljs-built_in">double</span>.infinity,<br>            child: RaisedButton(<br>              onPressed: () &#123;&#125;,<br>              child: Text(<span class="hljs-string">&quot;è‡ªé€‚åº”æŒ‰é’®&quot;</span>),<br>              textColor: Colors.white,<br>              color: Colors.blue,<br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Row(children: [ <span class="hljs-comment">//ç¬¬ä¸‰æ’ï¼šicon æŒ‰é’® + æœ‰å®½é«˜çš„æŒ‰é’®</span><br>            RaisedButton.icon(<br>              onPressed: ()&#123;&#125;,<br>              icon: Icon(Icons.home),<br>              label: Text(<span class="hljs-string">&quot; Icon æŒ‰é’®&quot;</span>),<br>              color: Colors.yellow,<br>              textColor: Colors.green,<br>            ),<br>            SizedBox(width: <span class="hljs-number">20</span>),<br>            Container(<br>              height: <span class="hljs-number">60</span>,<br>              width: <span class="hljs-number">200</span>,<br>              child: RaisedButton(<br>                onPressed: () &#123;&#125;,<br>                child: Text(<span class="hljs-string">&quot;æœ‰å®½é«˜çš„æŒ‰é’®&quot;</span>),<br>                textColor: Colors.white,<br>                color: Colors.orange,<br>              ),<br>            )<br>          ]),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Container( <span class="hljs-comment">//ç¬¬å››æ’ï¼šè‡ªé€‚åº”å¸¦åœ†è§’çš„æŒ‰é’®</span><br>            height: <span class="hljs-number">60</span>,<br>            width: <span class="hljs-built_in">double</span>.infinity,<br>            child: RaisedButton(<br>              onPressed: () &#123;&#125;,<br>              child: Text(<span class="hljs-string">&quot;è‡ªé€‚åº”å¸¦åœ†è§’çš„æŒ‰é’®&quot;</span>),<br>              textColor: Colors.white,<br>              color: Colors.blue,<br>              shape: RoundedRectangleBorder(<br>                  borderRadius: BorderRadius.circular(<span class="hljs-number">100</span>)<br>              ),<br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Container( <span class="hljs-comment">//ç¬¬äº”æ’ï¼šåœ†å½¢æŒ‰é’®</span><br>            height: <span class="hljs-number">100</span>,<br>            width: <span class="hljs-number">150</span>,<br>            child: RaisedButton(<br>              onPressed: () &#123;&#125;,<br>              child: Text(<span class="hljs-string">&#x27;åœ†å½¢æŒ‰é’®&#x27;</span>),<br>              textColor: Colors.white,<br>              color: Colors.lightGreen,<br>              elevation: <span class="hljs-number">20</span>,<br>              splashColor: Colors.green,<br>              shape: CircleBorder(side: BorderSide(color: Colors.white)),<br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Container( <span class="hljs-comment">//ç¬¬å…­æ’ï¼šæ³¨å†ŒæŒ‰é’®</span><br>            width: <span class="hljs-built_in">double</span>.infinity,<br>            height: <span class="hljs-number">50</span>,<br>            margin: EdgeInsets.fromLTRB(<span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>),<br>            child:  OutlineButton(<br>              child: Text(<span class="hljs-string">&quot;æ³¨å†Œ&quot;</span>),<br>              onPressed: ()&#123;&#125;,<br>              borderSide: BorderSide(<br>                  width: <span class="hljs-number">1</span>,<br>                  color: Colors.red<br>              ),<br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">20</span>),<br>          Container( <span class="hljs-comment">//ç¬¬ä¸ƒæ’ï¼šç™»é™†æŒ‰é’®</span><br>            width: <span class="hljs-built_in">double</span>.infinity,<br>            height: <span class="hljs-number">50</span>,<br>            margin: EdgeInsets.fromLTRB(<span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>),<br>            child:  RaisedButton(<br>              child: Text(<span class="hljs-string">&quot;ç™»é™†&quot;</span>),<br>              onPressed: ()&#123;&#125;,<br>              color: Colors.blue,<br>              textColor: Colors.white,<br>            ),<br>          )<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬ç¯‡æˆ‘ä»¬è®²äº†ï¼š</p><p>1ã€Flutter ä¸­å¸¸ç”¨çš„æŒ‰é’® Widget ï¼šRaisedButtonï¼ŒFlatButtonï¼ŒIconButtonï¼ŒOutlineButtonï¼ŒButtonBarï¼ŒFloatingActionButton</p><p>2ã€ä»‹ç»äº† Flutter 1.x å’Œ Flutter 2.x æŒ‰é’®ç›¸å…³çš„å˜åŒ–åŠä½¿ç”¨</p><blockquote><p>Flutter 2.x ä¸­å¸¸ç”¨çš„å±æ€§éƒ½è¢«å°è£…åˆ°äº† style å±æ€§ä¸­</p></blockquote><p>3ã€ä»‹ç»äº† BottomNavigationBarï¼Œå¹¶é€šè¿‡ Flutter 1.x ç›¸å…³ Button + BottomNavigationBar + FloatingActionButton å®ç°äº†ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šä»‹ç» Flutter è¡¨å•ç›¸å…³ Widget ï¼Œå°½è¯·æœŸå¾…å§ğŸ˜„</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://www.bilibili.com/video/BV1S4411E7LY?p=19&vd_source=d0b24cb21c438ff4a9ac2e589eacb3d9">Flutter æ•™ç¨‹</a>ï¼šé€šä¿—æ˜“æ‡‚çš„ Flutter å…¥é—¨æ•™ç¨‹</p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆå››ï¼‰ï¼šFlutter å¸¸ç”¨ Widget äºŒ</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%20Widget%20%E4%BA%8C/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9AFlutter%20%E5%B8%B8%E7%94%A8%20Widget%20%E4%BA%8C/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101659599.jpeg" alt="sea-gfd0f885c2_1920"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Flutter ç‰¹ç‚¹ä»¥åŠä¸€äº›å¸¸ç”¨çš„ Widgetï¼šMaterialAppï¼ŒScaffoldï¼ŒAppBarï¼ŒCenterï¼ŒContainerï¼ŒTextã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7134343543975313445">Flutter ç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šFlutter ç‰¹ç‚¹åŠå¸¸ç”¨ Widget ä»‹ç»</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å¯¹ Flutter Widget è¿›è¡Œå­¦ä¹ </p><p>ä¸‹é¢æˆ‘ä¼šé€šè¿‡ï¼šæ•ˆæœå±•ç¤º -&gt; Widget è®²è§£ -&gt; ä»£ç å®ç°çš„æ–¹å¼å¯¹ Widget è¿›è¡Œä»‹ç»ï¼Œæœ€ååœ¨é€šè¿‡ Widget ç»„åˆç¼–å†™ä¸€ä¸ªç»¼åˆçš„æ¡ˆä¾‹</p><h2 id="ä¸€ã€Flutter-Widget-ä¹‹-Image"><a href="#ä¸€ã€Flutter-Widget-ä¹‹-Image" class="headerlink" title="ä¸€ã€Flutter Widget ä¹‹ Image"></a>ä¸€ã€Flutter Widget ä¹‹ Image</h2><p>Image æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›æ˜¾ç¤ºå›¾ç‰‡çš„ Widget</p><p>å…ˆçœ‹ä¸€çœ¼ä½¿ç”¨ Image å®ç°çš„æ•ˆæœ</p><h3 id="1-1ã€Image-æ•ˆæœå±•ç¤º"><a href="#1-1ã€Image-æ•ˆæœå±•ç¤º" class="headerlink" title="1.1ã€Image æ•ˆæœå±•ç¤º"></a>1.1ã€Image æ•ˆæœå±•ç¤º</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9c9d4e9e7b94ef0bb5299fd62faa8ae~tplv-k3u1fbpfcp-watermark.image" alt="flutter_01 (2).png"></p><p>åˆ˜äº¦è²çš„åœ†å½¢å›¾ç‰‡ğŸ˜„ï¼Œç¾çˆ†äº†ã€‚è¨€å½’æ­£ä¼ ï¼Œå¤§å®¶å¯ä»¥å…ˆæƒ³ä¸€ä¸‹æ€ä¹ˆå»å®ç°ï¼Ÿ</p><h3 id="1-2ã€Image-ä»‹ç»"><a href="#1-2ã€Image-ä»‹ç»" class="headerlink" title="1.2ã€Image ä»‹ç»"></a>1.2ã€Image ä»‹ç»</h3><p>Image ç»„ä»¶æœ‰å¾ˆå¤šæ„é€ æ–¹æ³•ï¼Œè¿™é‡Œç»™å¤§å®¶è®²ä¸¤ä¸ªå¸¸ç”¨çš„ï¼š</p><p>1ã€Image.network ï¼šåŠ è½½è¿œç¨‹å›¾ç‰‡</p><p>2ã€Image.asset ï¼šåŠ è½½æœ¬åœ°å›¾ç‰‡</p><p>ä¸Šé¢è¿™ä¸¤ä¸ªå±äº Image çš„å‘½åæ„é€ æ–¹æ³•ï¼Œå¯¹å‘½åæ„é€ æ–¹æ³•è¿˜ä¸ç†Ÿæ‚‰çš„èµ¶ç´§å…ˆå»çœ‹ä¸€ä¸‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7130647339294785549#heading-0">ä¼ é€é—¨</a></p><h4 id="1-2-1ã€Image-network-åŠ è½½è¿œç¨‹å›¾ç‰‡"><a href="#1-2-1ã€Image-network-åŠ è½½è¿œç¨‹å›¾ç‰‡" class="headerlink" title="1.2.1ã€Image.network åŠ è½½è¿œç¨‹å›¾ç‰‡"></a>1.2.1ã€Image.network åŠ è½½è¿œç¨‹å›¾ç‰‡</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Image Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Image.network(<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨ Image.network ä¼ å…¥ä¸€å¼ å›¾ç‰‡ url ï¼Œè¿™æ ·å°±å¯ä»¥å°†è¿™å¼ ç½‘ç»œå›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥äº†ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4f8ebf9c4034f23b4a52a59984b046d~tplv-k3u1fbpfcp-watermark.image" alt="flutter_02.png"></p><h4 id="1-2-2ã€Image-asset-åŠ è½½æœ¬åœ°å›¾ç‰‡"><a href="#1-2-2ã€Image-asset-åŠ è½½æœ¬åœ°å›¾ç‰‡" class="headerlink" title="1.2.2ã€Image.asset åŠ è½½æœ¬åœ°å›¾ç‰‡"></a>1.2.2ã€Image.asset åŠ è½½æœ¬åœ°å›¾ç‰‡</h4><p>åŠ è½½æœ¬åœ°å›¾ç‰‡ç¨å¾®å¤æ‚ä¸€äº›</p><p>1ã€æ–°å»ºå›¾ç‰‡ç›®å½•ï¼Œå¼•å…¥å›¾ç‰‡èµ„æº</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3315fbd5066448f7b8c87109f2e3db22~tplv-k3u1fbpfcp-watermark.image" alt="flutter_03 (2).png"></p><p>æˆ‘ä»¬æ–°å»ºäº† images æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨ images ä¸‹æ”¾å…¥äº†å›¾ç‰‡èµ„æºï¼Œåˆæ–°å»ºäº† 2.0x å’Œ 3.0x æ–‡ä»¶å¤¹åˆ†åˆ«å¯¹åº” 2 å€å›¾å’Œ 3 å€å›¾ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä¸åŒæ‰‹æœºåˆ†è¾¨ç‡çš„æ‰‹æœºåŠ è½½å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡èµ„æº</p><p>2ã€æ‰“å¼€ pubspec.yaml é…ç½®æ–‡ä»¶å£°æ˜ä¸€ä¸‹æˆ‘ä»¬æ·»åŠ çš„å›¾ç‰‡</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2466b29935204ef0960cb4fa29be8cb2~tplv-k3u1fbpfcp-watermark.image" alt="flutter_04 (1).png"></p><p>3ã€æœ€ååœ¨ä»£ç ä¸­ä½¿ç”¨å°±å¯ä»¥äº†</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Image Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Image.asset(<span class="hljs-string">&quot;images/ic_launcher_round.png&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2105bb0b41846a88d69143a14eb4cda~tplv-k3u1fbpfcp-watermark.image" alt="flutter_05.png"></p><h4 id="1-2-3ã€Image-å¸¸ç”¨å±æ€§"><a href="#1-2-3ã€Image-å¸¸ç”¨å±æ€§" class="headerlink" title="1.2.3ã€Image å¸¸ç”¨å±æ€§"></a>1.2.3ã€Image å¸¸ç”¨å±æ€§</h4><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>alignment</td><td>Alignment</td><td>å›¾ç‰‡çš„å¯¹é½æ–¹å¼</td></tr><tr><td>color å’Œ colorBlendMode</td><td></td><td>è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²ï¼Œé€šå¸¸å’Œ colorBlendMode é…åˆä¸€èµ·ä½¿ç”¨ï¼Œè¿™æ ·å¯ä»¥ä½¿å›¾ç‰‡é¢œè‰²å’ŒèƒŒæ™¯è‰²æ··åˆ</td></tr><tr><td>fit</td><td>BoxFit</td><td>fit å±æ€§ç”¨æ¥æ§åˆ¶å›¾ç‰‡çš„æ‹‰ä¼¸å’ŒæŒ¤å‹ï¼Œè¿™éƒ½æ˜¯æ ¹æ®çˆ¶å®¹å™¨æ¥çš„ï¼š<br/>BoxFit.fillï¼šå…¨å›¾æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¼šè¢«æ‹‰ä¼¸ï¼Œå¹¶å……æ»¡çˆ¶å®¹å™¨<br/>BoxFit.containï¼šå…¨å›¾æ˜¾ç¤ºï¼Œæ˜¾ç¤ºåŸæ¯”ä¾‹ï¼Œå¯èƒ½ä¼šæœ‰ç©ºéš™<br/>BoxFit.coverï¼šæ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ï¼Œå……æ»¡ï¼ˆå›¾ç‰‡è¦å……æ»¡æ•´ä¸ªå®¹å™¨ï¼Œè¿˜ä¸å˜å½¢ï¼‰<br/>BoxFit.fitWidthï¼šå®½åº¦å……æ»¡(æ¨ªå‘å……æ»¡)ï¼Œæ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œ å¯èƒ½è£åˆ‡<br/>BoxFit.fitHeightï¼šé«˜åº¦å……æ»¡(ç«–å‘å……æ»¡),æ˜¾ç¤ºå¯èƒ½æ‹‰ ä¼¸ï¼Œå¯èƒ½è£åˆ‡<br/>BoxFit.scaleDownï¼šæ•ˆæœå’Œ contain å·®ä¸å¤šï¼Œä½†æ˜¯æ­¤å±æ€§ä¸å…è®¸æ˜¾ç¤ºè¶…è¿‡åŸå›¾ç‰‡å¤§å°ï¼Œå¯å°ä¸å¯å¤§</td></tr><tr><td>width</td><td></td><td>å®½åº¦ï¼Œä¸€èˆ¬ç»“åˆ ClipOval Widget æ‰èƒ½çœ‹åˆ°æ•ˆæœ</td></tr><tr><td>height</td><td></td><td>é«˜åº¦ï¼Œä¸€èˆ¬ç»“åˆ ClipOval Widget æ‰èƒ½çœ‹åˆ°æ•ˆæœ</td></tr></tbody></table><p>æ›´å¤šå±æ€§å‚è€ƒï¼š<a href="https://api.flutter.dev/flutter/widgets/Image-class.html">https://api.flutter.dev/flutter/widgets/Image-class.html</a></p><p><strong>PS</strong>ï¼šClipOval æ˜¯ä¸€ä¸ªè£å‰ªå­ Widget ä¸ºæ¤­åœ†çš„ Widgetï¼Œå¸¸ç”¨äºåœ†å½¢ï¼Œåœ†è§’å›¾ç‰‡ç­‰</p><h3 id="1-3ã€æ•ˆæœå®ç°"><a href="#1-3ã€æ•ˆæœå®ç°" class="headerlink" title="1.3ã€æ•ˆæœå®ç°"></a>1.3ã€æ•ˆæœå®ç°</h3><p>å›é¡¾ 1.1 çš„æ•ˆæœï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªå±…ä¸­å±•ç¤ºçš„åœ†å½¢å›¾ç‰‡</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Center è¿›è¡Œå±…ä¸­ï¼Œç„¶åä½¿ç”¨ Image + ClipOval é…åˆç›¸å…³å±æ€§å®ç°åœ†å½¢å›¾ç‰‡ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Image Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Center(<br>      child: ClipOval(<br>        child: Image.network(<br>          <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>          width: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„å®½åº¦ä¸º 300</span><br>          height: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„é«˜åº¦ä¸º 300</span><br>          fit: BoxFit.cover, <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡ç­‰æ¯”æ”¾å¤§ï¼Œå……æ»¡çˆ¶å®¹å™¨</span><br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å°±å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</p><h2 id="äºŒã€Flutter-Widget-ä¹‹-ListView"><a href="#äºŒã€Flutter-Widget-ä¹‹-ListView" class="headerlink" title="äºŒã€Flutter Widget ä¹‹ ListView"></a>äºŒã€Flutter Widget ä¹‹ ListView</h2><p>åˆ—è¡¨æ˜¯æˆ‘ä»¬é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§å¸ƒå±€æ–¹å¼ï¼ŒFlutter ç»™æˆ‘ä»¬æä¾›äº† ListView æ¥å®šä¹‰åˆ—è¡¨ï¼Œå®ƒæ”¯æŒå‚ç›´å’Œæ°´å¹³æ–¹å‘å±•ç¤ºï¼Œé€šè¿‡ä¸€ä¸ªå±æ€§å°±å¯ä»¥æ§åˆ¶åˆ—è¡¨çš„æ˜¾ç¤ºæ–¹å‘</p><h3 id="2-1ã€æ•ˆæœå±•ç¤º"><a href="#2-1ã€æ•ˆæœå±•ç¤º" class="headerlink" title="2.1ã€æ•ˆæœå±•ç¤º"></a>2.1ã€æ•ˆæœå±•ç¤º</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71e5730aaec645d9b0652dc6e8c77b9c~tplv-k3u1fbpfcp-watermark.image" alt="flutter_06.png"></p><h3 id="2-2ã€ListView-ä»‹ç»"><a href="#2-2ã€ListView-ä»‹ç»" class="headerlink" title="2.2ã€ListView ä»‹ç»"></a>2.2ã€ListView ä»‹ç»</h3><h4 id="2-2-1ã€å¸¸ç”¨å±æ€§ä»‹ç»"><a href="#2-2-1ã€å¸¸ç”¨å±æ€§ä»‹ç»" class="headerlink" title="2.2.1ã€å¸¸ç”¨å±æ€§ä»‹ç»"></a>2.2.1ã€å¸¸ç”¨å±æ€§ä»‹ç»</h4><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>scrollDirection</td><td>Axis</td><td>Axis.horizontal æ°´å¹³åˆ—è¡¨ <br/>Axis.vertical å‚ç›´åˆ—è¡¨</td></tr><tr><td>padding</td><td>EdgeInsetsGeometry</td><td>å…§è¾¹è·</td></tr><tr><td>resolve</td><td>bool</td><td>ç»„ä»¶åå‘æ’åº</td></tr><tr><td>children</td><td>List<Widget></td><td>åˆ—è¡¨å…ƒç´ </td></tr></tbody></table><p>æ›´å¤šå±æ€§å‚è€ƒï¼š<a href="https://api.flutter.dev/flutter/widgets/ListView-class.html">https://api.flutter.dev/flutter/widgets/ListView-class.html</a></p><p>ListView çš„ children èƒ½åµŒå¥—å„ç§ Widget å»å®ç°åˆ—è¡¨ UI æ•ˆæœ</p><h4 id="2-2-2ã€ListTile-ä»‹ç»"><a href="#2-2-2ã€ListTile-ä»‹ç»" class="headerlink" title="2.2.2ã€ListTile ä»‹ç»"></a>2.2.2ã€ListTile ä»‹ç»</h4><p>ListTile æ˜¯ä¸€ä¸ªåˆ—è¡¨ item Widget ï¼Œé€šå¸¸ç”¨äºå„ç§åˆ—è¡¨ä¸­ï¼Œå…¶å¸¸ç”¨çš„å±æ€§æœ‰ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>leading</td><td>Widget</td><td>å·¦ä¾§ç»„ä»¶</td></tr><tr><td>title</td><td>Widget</td><td>æ ‡é¢˜</td></tr><tr><td>subtitle</td><td>Widget</td><td>å‰¯æ ‡é¢˜</td></tr><tr><td>trailing</td><td>Widget</td><td>å³ä¾§ç»„ä»¶</td></tr><tr><td>onTap</td><td></td><td>ç‚¹å‡»äº‹ä»¶å›è°ƒ</td></tr><tr><td>onLongPress</td><td></td><td>é•¿æŒ‰äº‹ä»¶å›è°ƒ</td></tr></tbody></table><p>æ›´å¤šå±æ€§å‚è€ƒï¼š<a href="https://api.flutter.dev/flutter/material/ListTile-class.html">https://api.flutter.dev/flutter/material/ListTile-class.html</a></p><p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ ListView + ListTile å®ç°ä¸€ä¸ªæ•ˆæœï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br><br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter ListView Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ListView(<br>      children: [<br>        ListTile(<br>          leading: Icon(Icons.search),<br>          title: Text(<span class="hljs-string">&quot;æ ‡é¢˜1&quot;</span>),<br>          subtitle: Text(<span class="hljs-string">&quot;æè¿°1&quot;</span>),<br>          trailing: Icon(Icons.home),<br>        ),<br>        ListTile(<br>          leading: Icon(Icons.search),<br>          title: Text(<span class="hljs-string">&quot;æ ‡é¢˜2&quot;</span>),<br>          subtitle: Text(<span class="hljs-string">&quot;æè¿°2&quot;</span>),<br>          trailing: Icon(Icons.home)<br>        ),<br>        ListTile(<br>          leading: Icon(Icons.search),<br>          title: Text(<span class="hljs-string">&quot;æ ‡é¢˜3&quot;</span>),<br>          subtitle: Text(<span class="hljs-string">&quot;æè¿°3&quot;</span>),<br>          trailing: Icon(Icons.home)<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c02d016436184879a7d8871bdfb2e904~tplv-k3u1fbpfcp-watermark.image" alt="flutter_07.png"></p><h3 id="2-3ã€æ•ˆæœå®ç°"><a href="#2-3ã€æ•ˆæœå®ç°" class="headerlink" title="2.3ã€æ•ˆæœå®ç°"></a>2.3ã€æ•ˆæœå®ç°</h3><p>ä¸Šé¢ 2.1 å±•ç¤ºçš„æ•ˆæœå°±æ˜¯ï¼šListTile + æ¨ªçº¿ä½œä¸ºä¸€ä¸ª item è¿›è¡Œæ’åˆ—ï¼Œå¦‚ä½•å°†è¿™ä¸¤ä¸ª Widget åŒ…è£…ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œæˆ‘ä»¬å°±è¦å­¦ä¹ ä¸‹ Column </p><p>1ã€Column ä»‹ç»</p><p>Column æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„å‚ç›´å¸ƒå±€ Widgetï¼Œå…¶å¸¸ç”¨å±æ€§æœ‰ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>mainAxisAlignment</td><td>MainAxisAlignment</td><td>ä¸»è½´çš„æ’åºæ–¹å¼</td></tr><tr><td>crossAxisAlignment</td><td>CrossAxisAlignment</td><td>æ¬¡è½´çš„æ’åºæ–¹å¼</td></tr><tr><td>children</td><td>List<Widget></td><td>ç»„ä»¶å­å…ƒç´ </td></tr></tbody></table><p>æ›´å¤šå±æ€§å‚è€ƒï¼š<a href="https://api.flutter.dev/flutter/widgets/Column-class.html">https://api.flutter.dev/flutter/widgets/Column-class.html</a></p><p>åŒæ · Flutter ç»™æˆ‘ä»¬æä¾›äº†æ°´å¹³å¸ƒå±€ Widget Rowï¼Œå¸¸ç”¨å±æ€§å’Œ Column ä¸€æ ·</p><p>2ã€æ¨ªçº¿æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ Divider</p><p>okï¼Œç°åœ¨å°±å¯ä»¥å»å®ç°æ•ˆæœå›¾äº†ï¼Œä¸Šé¢ 2.2 çš„ä¾‹å­ ListView é‡Œé¢çš„æ•°æ®éƒ½æ˜¯å†™æ­»çš„ï¼Œä¸çµæ´»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ ListView çš„å‘½åæ„é€ æ–¹æ³• ListView.Builder æ¥å®ç°åŠ¨æ€åŠ è½½ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br><br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter ListView Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-comment">//mock æ•°æ®ï¼šç›¸å½“äº List&lt;Map&gt;</span><br>  <span class="hljs-keyword">var</span> mDataList = [<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜1&quot;</span>,<br>      <span class="hljs-string">&quot;desc&quot;</span>:<span class="hljs-string">&quot;æè¿°1&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜2&quot;</span>,<br>      <span class="hljs-string">&quot;desc&quot;</span>:<span class="hljs-string">&quot;æè¿°2&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜3&quot;</span>,<br>      <span class="hljs-string">&quot;desc&quot;</span>:<span class="hljs-string">&quot;æè¿°3&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜4&quot;</span>,<br>      <span class="hljs-string">&quot;desc&quot;</span>:<span class="hljs-string">&quot;æè¿°4&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜5&quot;</span>,<br>      <span class="hljs-string">&quot;desc&quot;</span>:<span class="hljs-string">&quot;æè¿°6&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>  ];<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> ListView.builder(<span class="hljs-comment">//é€šè¿‡ ListView.builder å®ç°æ•°æ®çš„åŠ¨æ€åŠ è½½</span><br>        itemCount: mDataList.length, <span class="hljs-comment">//item çš„ä¸ªæ•°</span><br>        itemBuilder: (context, index) &#123; <span class="hljs-comment">//é€šè¿‡ itemBuilder æ„å»º Widget</span><br>          <span class="hljs-keyword">return</span> Column(<br>            children: [ <span class="hljs-comment">//Column é‡Œé¢åŒ…è£…äº† ListTile + Divider</span><br>              ListTile(<br>                leading: ClipOval( <span class="hljs-comment">//åœ†å½¢å›¾ç‰‡</span><br>                  child: Image.network(<br>                    mDataList[index][<span class="hljs-string">&quot;image&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>,<br>                    width: <span class="hljs-number">50</span>,<br>                    height: <span class="hljs-number">50</span>,<br>                    fit: BoxFit.cover,<br>                  ),<br>                ),<br>                title: Text(mDataList[index][<span class="hljs-string">&quot;title&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>), <span class="hljs-comment">//æ ‡é¢˜</span><br>                subtitle: Text(mDataList[index][<span class="hljs-string">&quot;desc&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>), <span class="hljs-comment">//å‰¯æ ‡é¢˜</span><br>              ),<br>              Divider() <span class="hljs-comment">//æ¨ªçº¿</span><br>            ],<br>          );<br>        &#125;);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å°±å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</p><h2 id="ä¸‰ã€Flutter-Widget-ä¹‹-GridView"><a href="#ä¸‰ã€Flutter-Widget-ä¹‹-GridView" class="headerlink" title="ä¸‰ã€Flutter Widget ä¹‹ GridView"></a>ä¸‰ã€Flutter Widget ä¹‹ GridView</h2><p>GridView æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„ç½‘æ ¼å¸ƒå±€ Widgetï¼Œæˆ‘ä»¬å¿«é€Ÿè¿‡ä¸€ä¸‹ï¼Œç„¶åå®ç°ä¸€äº›æ•ˆæœï¼š</p><p>GridView åˆ›å»ºç½‘æ ¼åˆ—è¡¨æœ‰å¤šç§æ–¹å¼ï¼Œä¸»è¦ä»‹ç»ä¸¤ç§ï¼š</p><p>1ã€é€šè¿‡ GridView.count å®ç°ç½‘æ ¼å¸ƒå±€</p><p>2ã€é€šè¿‡ GridView.builder å®ç°ç½‘æ ¼å¸ƒå±€</p><p><strong>å¸¸ç”¨å±æ€§</strong>ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>scrollDirection</td><td>Axis</td><td>Axis.horizontal æ°´å¹³åˆ—è¡¨ <br/>Axis.vertical å‚ç›´åˆ—è¡¨</td></tr><tr><td>padding</td><td>EdgeInsetsGeometry</td><td>å…§è¾¹è·</td></tr><tr><td>resolve</td><td>bool</td><td>ç»„ä»¶åå‘æ’åº</td></tr><tr><td>children</td><td>List<Widget></td><td>åˆ—è¡¨å…ƒç´ </td></tr><tr><td>crossAxisSpacing</td><td>double</td><td>æ°´å¹³å­ Widget ä¹‹é—´é—´è·</td></tr><tr><td>mainAxisSpacing</td><td>double</td><td>å‚ç›´å­ Widget ä¹‹é—´é—´è·</td></tr><tr><td>crossAxisCount</td><td>int</td><td>ä¸€è¡Œçš„ Widget æ•°é‡</td></tr><tr><td>childAspectRatio</td><td>double</td><td>å­ Widget å®½é«˜æ¯”ä¾‹</td></tr><tr><td>gridDelegate</td><td>SliverGridDelegate</td><td>æ§åˆ¶å¸ƒå±€ä¸»è¦ç”¨åœ¨ GridView.builder é‡Œé¢</td></tr></tbody></table><h3 id="3-1ã€Flutter-GridView-count-å®ç°ç½‘æ ¼å¸ƒå±€"><a href="#3-1ã€Flutter-GridView-count-å®ç°ç½‘æ ¼å¸ƒå±€" class="headerlink" title="3.1ã€Flutter GridView.count å®ç°ç½‘æ ¼å¸ƒå±€"></a>3.1ã€Flutter GridView.count å®ç°ç½‘æ ¼å¸ƒå±€</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br><br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter ListView Widget&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br><br>  <span class="hljs-comment">//mock æ•°æ®</span><br>  <span class="hljs-keyword">var</span> mDataList = [<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜1&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜2&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜3&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜4&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æ ‡é¢˜5&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>:<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>  ];<br><br>  <span class="hljs-built_in">List</span>&lt;Widget&gt; _getListWidget() &#123;<br>    <span class="hljs-keyword">var</span> listWidget = mDataList.map((value) &#123;<br>      <span class="hljs-keyword">return</span> Container(<br>        decoration: <span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªå®½åº¦ä¸º 1 ç»¿è‰²çš„è¾¹æ¡†</span><br>          BoxDecoration(border: Border.all(color: Colors.green, width: <span class="hljs-number">1.0</span>)),<br>        child: Column( <span class="hljs-comment">//å‚ç›´å¸ƒå±€é‡Œé¢åµŒå¥—ï¼šExpanded + SizedBox + Text + SizedBox</span><br>          children: [<br>            Expanded( <span class="hljs-comment">//å±•å¼€ Widgetï¼Œç±»ä¼¼ Android é‡Œé¢ Linearlayout è®¾ç½®æƒé‡ï¼Œç”¨åœ¨è¿™æ˜¯è®©å›¾ç‰‡è‡ªé€‚åº”å±•å¼€</span><br>              child: Image.network(<span class="hljs-comment">// å›¾ç‰‡</span><br>                value[<span class="hljs-string">&quot;image&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>,<br>                fit: BoxFit.cover,<br>                width: <span class="hljs-built_in">double</span>.infinity, <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„å®½åº¦ä¸ºå±å¹•çš„å®½åº¦</span><br>              ),<br>            ),<br>            SizedBox(height: <span class="hljs-number">12</span>),<span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªé«˜åº¦ä¸º 12 çš„ç©ºç™½é—´è·</span><br>            Text( <span class="hljs-comment">// è®¾ç½®æ–‡æœ¬</span><br>                value[<span class="hljs-string">&quot;title&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>,<br>                textAlign: TextAlign.center,<br>                style: TextStyle(<br>                    fontSize: <span class="hljs-number">20</span><br>                )<br>            ),<br>            SizedBox(height: <span class="hljs-number">12</span>),<span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªé«˜åº¦ä¸º 12 çš„ç©ºç™½é—´è·</span><br>          ],<br>        ),<br>      );<br>    &#125;);<br>    <span class="hljs-keyword">return</span> listWidget.toList();<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> GridView.count(<br>      crossAxisCount: <span class="hljs-number">2</span>,<span class="hljs-comment">// è®¾ç½®ä¸€è¡Œæ˜¾ç¤º Widget æ•°é‡ä¸º 2</span><br>      padding: EdgeInsets.all(<span class="hljs-number">20</span>), <span class="hljs-comment">//è®¾ç½® GridView å…§è¾¹è·ä¸º 20</span><br>      crossAxisSpacing: <span class="hljs-number">20</span>, <span class="hljs-comment">//è®¾ç½®æ°´å¹³å­ Widget ä¹‹é—´çš„é—´è·ä¸º 20</span><br>      mainAxisSpacing: <span class="hljs-number">20</span>,  <span class="hljs-comment">//è®¾ç½®å‚ç›´å­ Widget ä¹‹é—´çš„é—´è·ä¸º 20</span><br>      children: _getListWidget() <span class="hljs-comment">//è®¾ç½®å­ Widget</span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ªæ–° Widgetï¼šExpandedï¼ŒSizeBox</p><p>1ã€Expanded æ˜¯ç”¨äºå±•å¼€å­ Widget çš„ Widgetï¼Œå¸¸ç”¨äº Rowï¼ŒColumn ä¸­ï¼Œå…¶ flex å±æ€§å°±æ˜¯ç”¨æ¥è®¾ç½®æƒé‡çš„ï¼Œç±»ä¼¼äº Android çš„ LinearLayout è®¾ç½®æƒé‡</p><p>2ã€SizeBox ä¸»è¦æ˜¯ç”¨æ¥æŒ‡å®šä¸€æ®µé—´è·çš„ï¼Œå…¶æœ‰ä¸¤ä¸ªå±æ€§ï¼Œwidthï¼Œheightã€‚å¦‚æœè®¾ç½® width å°±æ˜¯æŒ‡å®šå®½åº¦ï¼Œå¦‚æœè®¾ç½® height å°±æ˜¯æŒ‡å®šé«˜åº¦</p><p>å®ç°æ•ˆæœï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ed5babf3a7642069893a05e1afe3240~tplv-k3u1fbpfcp-watermark.image" alt="flutter_08.png"></p><h3 id="3-2ã€Flutter-GridView-builder-å®ç°ç½‘æ ¼å¸ƒå±€"><a href="#3-2ã€Flutter-GridView-builder-å®ç°ç½‘æ ¼å¸ƒå±€" class="headerlink" title="3.2ã€Flutter GridView.builder å®ç°ç½‘æ ¼å¸ƒå±€"></a>3.2ã€Flutter GridView.builder å®ç°ç½‘æ ¼å¸ƒå±€</h3><p>åŒæ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨ GridView.builder æ¥å®ç°</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter GridView Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>          elevation: <span class="hljs-number">30</span>, <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>        ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-comment">//mock æ•°æ®</span><br>  <span class="hljs-keyword">var</span> mDataList = [<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜1&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜2&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜3&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜4&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜5&quot;</span>,<br>      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span><br>    &#125;,<br>  ];<br><br>  Widget _getListWidget(context, index) &#123;<br>    <span class="hljs-keyword">return</span> Container(<br>      decoration: <span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªå®½åº¦ä¸º 1 ç»¿è‰²çš„è¾¹æ¡†</span><br>          BoxDecoration(border: Border.all(color: Colors.green, width: <span class="hljs-number">1.0</span>)),<br>      child: Column(<br>        <span class="hljs-comment">//å‚ç›´å¸ƒå±€é‡Œé¢åµŒå¥—ï¼šExpanded + SizedBox + Text + SizedBox</span><br>        children: [<br>          Expanded(<br>            <span class="hljs-comment">//æ‰©å±• Widgetï¼Œç±»ä¼¼ Android é‡Œé¢ Linearlayout è®¾ç½®æƒé‡ï¼Œç”¨åœ¨è¿™æ˜¯è®©å›¾ç‰‡è‡ªé€‚åº”</span><br>            child: Image.network(<br>              <span class="hljs-comment">// å›¾ç‰‡</span><br>              mDataList[index][<span class="hljs-string">&quot;image&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>,<br>              fit: BoxFit.cover,<br>              width: <span class="hljs-built_in">double</span>.infinity, <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„å®½åº¦ä¸ºå±å¹•çš„å®½åº¦</span><br>            ),<br>          ),<br>          SizedBox(height: <span class="hljs-number">12</span>), <span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªé«˜åº¦ä¸º 12 çš„ç©ºç™½é—´è·</span><br>          Text(<br>              <span class="hljs-comment">// è®¾ç½®æ–‡æœ¬</span><br>              mDataList[index][<span class="hljs-string">&quot;title&quot;</span>] ?? <span class="hljs-string">&quot;&quot;</span>,<br>              textAlign: TextAlign.center,<br>              style: TextStyle(fontSize: <span class="hljs-number">20</span>)),<br>          SizedBox(height: <span class="hljs-number">12</span>), <span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªé«˜åº¦ä¸º 12 çš„ç©ºç™½é—´è·</span><br>        ],<br>      ),<br>    );<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> GridView.builder(<br>        itemCount: mDataList.length,<br>        padding: EdgeInsets.all(<span class="hljs-number">20</span>),<br>        gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(<br>          crossAxisCount: <span class="hljs-number">2</span>, <span class="hljs-comment">//è®¾ç½®ä¸€è¡Œæœ‰ä¸¤ä¸ª Widget</span><br>          crossAxisSpacing: <span class="hljs-number">20</span>, <span class="hljs-comment">//è®¾ç½®æ°´å¹³å­ Widget ä¹‹é—´çš„é—´è·ä¸º 20</span><br>          mainAxisSpacing: <span class="hljs-number">20</span>, <span class="hljs-comment">//è®¾ç½®å‚ç›´å­ Widget ä¹‹é—´çš„é—´è·ä¸º 20</span><br>          childAspectRatio: <span class="hljs-number">1</span>, <span class="hljs-comment">//è®¾ç½®å­ç»„ä»¶å®½é«˜æ¯”ä¾‹ä¸º 1</span><br>        ),<br>        itemBuilder: _getListWidget <span class="hljs-comment">//å°†æ–¹æ³•ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥</span><br>        );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€Flutter-Widget-ä¹‹-Stack"><a href="#å››ã€Flutter-Widget-ä¹‹-Stack" class="headerlink" title="å››ã€Flutter Widget ä¹‹ Stack"></a>å››ã€Flutter Widget ä¹‹ Stack</h2><p>Stack æ˜¯ Fluter æä¾›çš„å å±‚ Widget ï¼Œç±»ä¼¼ Android çš„ FrameLayout</p><p><strong>å¸¸ç”¨å±æ€§</strong>ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>alignment</td><td>AlignmentGeometry</td><td>é…ç½®æ‰€æœ‰å­å…ƒç´ çš„æ˜¾ç¤ºä½ç½®</td></tr><tr><td>children</td><td>List<Widget></td><td>å­ç»„ä»¶</td></tr></tbody></table><p>é€šå¸¸å®ƒä¼šé…åˆ Align æˆ– Positioned å®ç°å®šä½å¸ƒå±€</p><p><strong>Align å¸¸ç”¨å±æ€§</strong></p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>alignment</td><td>AlignmentGeometry</td><td>é…ç½®å­å…ƒç´ çš„æ˜¾ç¤ºä½ç½®</td></tr><tr><td>child</td><td>Widget</td><td>å­ç»„ä»¶</td></tr></tbody></table><p><strong>Positioned å¸¸ç”¨å±æ€§</strong></p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>top</td><td>double</td><td>å­å…ƒç´ è·ç¦»é¡¶éƒ¨çš„è·ç¦»</td></tr><tr><td>bottom</td><td>double</td><td>å­å…ƒç´ è·ç¦»åº•éƒ¨çš„è·ç¦»</td></tr><tr><td>left</td><td>double</td><td>å­å…ƒç´ è·ç¦»å·¦ä¾§è·ç¦»</td></tr><tr><td>right</td><td>double</td><td>å­å…ƒç´ è·ç¦»å³ä¾§è·ç¦»</td></tr><tr><td>child</td><td>Widget</td><td>å­ç»„ä»¶</td></tr></tbody></table><p>ä¸‹é¢æˆ‘ä»¬å®ç°å¦‚ä¸‹æ•ˆæœï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65d60dd3b5ee487e89e6abc3f3265e13~tplv-k3u1fbpfcp-watermark.image" alt="flutter_09.png"></p><h3 id="4-1ã€Stack-Align-å®ç°å®šä½å¸ƒå±€"><a href="#4-1ã€Stack-Align-å®ç°å®šä½å¸ƒå±€" class="headerlink" title="4.1ã€Stack + Align å®ç°å®šä½å¸ƒå±€"></a>4.1ã€Stack + Align å®ç°å®šä½å¸ƒå±€</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Stack Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>          elevation: <span class="hljs-number">30</span>, <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>        ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Stack(<br>      children: [<br>        Align(<br>          alignment: Alignment.topLeft,<span class="hljs-comment">//å·¦ä¸Š</span><br>          child: Container(<br>            width: <span class="hljs-number">100</span>,<br>            height: <span class="hljs-number">100</span>,<br>            color: Colors.red,<br>          ),<br>        ),<br>        Align(<br>          alignment: Alignment.topRight,<span class="hljs-comment">//å³ä¸Š</span><br>          child: Container(<br>            width: <span class="hljs-number">100</span>,<br>            height: <span class="hljs-number">100</span>,<br>            color: Colors.orange,<br>          ),<br>        ),<br>        Align(<br>          alignment: Alignment.center,<span class="hljs-comment">//ä¸­é—´</span><br>          child: Container(<br>            width: <span class="hljs-number">100</span>,<br>            height: <span class="hljs-number">100</span>,<br>            color: Colors.yellow,<br>          ),<br>        ),<br>        Align(<br>          alignment: Alignment.bottomLeft,<span class="hljs-comment">//å·¦ä¸‹</span><br>          child: Container(<br>            width: <span class="hljs-number">100</span>,<br>            height: <span class="hljs-number">100</span>,<br>            color: Colors.green,<br>          ),<br>        ),<br>        Align(<br>          alignment: Alignment.bottomRight,<span class="hljs-comment">//å³ä¸‹</span><br>          child: Container(<br>            width: <span class="hljs-number">100</span>,<br>            height: <span class="hljs-number">100</span>,<br>            color: Colors.blue,<br>          ),<br>        )<br>      ],<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-2ã€Stack-Positioned-å®ç°å®šä½å¸ƒå±€"><a href="#4-2ã€Stack-Positioned-å®ç°å®šä½å¸ƒå±€" class="headerlink" title="4.2ã€Stack + Positioned å®ç°å®šä½å¸ƒå±€"></a>4.2ã€Stack + Positioned å®ç°å®šä½å¸ƒå±€</h3><p>è¿™ç§æ–¹å¼å¿…é¡»æŒ‡å®šç²¾ç¡®çš„å®½é«˜ï¼Œåœ¨ä¸åŒåˆ†è¾¨ç‡çš„æ‰‹æœºï¼Œå¯èƒ½æ˜¾ç¤ºä¼šæœ‰ç‚¹é—®é¢˜ï¼Œä¼˜å…ˆè¿˜æ˜¯ä½¿ç”¨ Stack + Align å®ç°å®šä½å¸ƒå±€ï¼Œå¦‚æœå¯¹ UI çš„å°åå·®èƒ½å¿½ç•¥ä¸è®¡ï¼Œç”¨è¿™ä¸ªä¹Ÿå¯ä»¥</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Stack Widget&quot;</span>), <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>          elevation: <span class="hljs-number">30</span>, <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>        ),<br>        body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>        ),<br>  ));<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">final</span> size = MediaQuery.of(context).size;<br>    <span class="hljs-keyword">final</span> screenWidth = size.width; <span class="hljs-comment">//è·å–å±å¹•å®½åº¦</span><br>    <span class="hljs-keyword">final</span> screenHeight = size.height; <span class="hljs-comment">//è·å–å±å¹•é«˜åº¦</span><br>    <span class="hljs-keyword">return</span> Container(<br>      width: <span class="hljs-built_in">double</span>.infinity,<br>      height: <span class="hljs-built_in">double</span>.infinity,<br>      child: Stack(<br>        children: [<br>          Positioned(<span class="hljs-comment">//å·¦ä¸Š</span><br>            child: Container(<br>              width: <span class="hljs-number">100</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.red,<br>            ),<br>          ),<br>          Positioned(<span class="hljs-comment">//å³ä¸Š</span><br>            left: screenWidth - <span class="hljs-number">100</span>,<br>            child: Container(<br>              width: <span class="hljs-number">100</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.orange,<br>            ),<br>          ),<br>          Positioned(<span class="hljs-comment">//ä¸­é—´</span><br>            left: screenWidth / <span class="hljs-number">2</span> - <span class="hljs-number">50</span>,<br>            top: screenHeight / <span class="hljs-number">2</span> - <span class="hljs-number">90</span>,<br>            child: Container(<br>              width: <span class="hljs-number">100</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.yellow,<br>            ),<br>          ),<br>          Positioned(<span class="hljs-comment">//å·¦ä¸‹</span><br>            top: screenHeight - <span class="hljs-number">180</span>,<br>            child: Container(<br>              width: <span class="hljs-number">100</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.green,<br>            ),<br>          ),<br>          Positioned(<span class="hljs-comment">//å³ä¸‹</span><br>            left: screenWidth - <span class="hljs-number">100</span>,<br>            top: screenHeight - <span class="hljs-number">180</span>,<br>            child: Container(<br>              width: <span class="hljs-number">100</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.blue,<br>            ),<br>          )<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äº”ã€Widget-ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹"><a href="#äº”ã€Widget-ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="äº”ã€Widget ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹"></a>äº”ã€Widget ç»„åˆä¹‹ç»¼åˆæ¡ˆä¾‹</h2><p>è®²ç»¼åˆæ¡ˆä¾‹ä¹‹å‰æˆ‘ä»¬ä»‹ç»ä¸‹ Paddingï¼š</p><p>Padding æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›å±•ç¤ºå†…é—´è·çš„ Widgetï¼Œä¸ºå•¥è¦æä¾›è¿™ä¸ª Widget å‘¢ï¼Ÿå› ä¸ºå¾ˆå¤š Widget éƒ½æ²¡æœ‰ padding å±æ€§ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨ Padding å¤„ç†ä¸å­ Widget çš„å…§é—´è·ï¼Œå…¶å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>padding</td><td>EdgeInsetsGeometry</td><td>padding å€¼, EdgeInsets è®¾ç½®å¡«å……çš„å€¼</td></tr><tr><td>child</td><td>Widget</td><td>å­ç»„ä»¶</td></tr></tbody></table><p>okï¼Œæ¥ä¸‹æ¥çœ‹ä¸‹ç»¼åˆæ¡ˆä¾‹è¦å®ç°çš„æ•ˆæœï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c8b90e40d5ce42aa95c1a6be5bf0a1c1~tplv-k3u1fbpfcp-watermark.image" alt="flutter_10.png"></p><p>å…ˆæ‹ä¸€æ‹å®ç°çš„æ€è·¯ï¼šé¦–é¡µæˆ‘ä»¬çœ‹åˆ°è¿™ä¸ªé¡µé¢æ•´ä½“æœ‰ä¸€ä¸ªå†…é—´è·ï¼ˆPaddingï¼‰ï¼Œå…ƒç´ åˆ’åˆ†ä¸º 4 å—ï¼Œä»ä¸Šåˆ°ä¸‹å‚ç›´æ’åˆ—ï¼Œå¯ä»¥ä½¿ç”¨ Columnï¼Œåœ¨çœ‹å…·ä½“çš„æ¯ä¸€å—ï¼š</p><p>ç¬¬ä¸€å—ï¼šä¸€ä¸ªé»‘è‰²çš„é•¿æ–¹å½¢ï¼Œå¯ä»¥ä½¿ç”¨ Container å®ç°</p><p>ç¬¬äºŒå—ï¼šå·¦è¾¹ä¸€å¼ é•¿å›¾ï¼Œå³è¾¹å…ˆæ•´ä½“ä¹Ÿçœ‹æˆä¸€å¼ å›¾ç‰‡ï¼Œå·¦å³æ¯”ä¾‹ 2 : 1ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Row + Expanded å®ç°ï¼Œåœ¨çœ‹å³è¾¹è¿™å—æ•´ä½“åˆåˆ†ä¸Šä¸‹ä¸¤å¼ å›¾ç‰‡ï¼Œä¸ºäº†è®©è¿™ä¸¤å¼ å›¾ç‰‡è‡ªé€‚åº”å®½åº¦ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ListView åµŒå¥—ä¸¤ä¸ª Image</p><p>ç¬¬ä¸‰å—ï¼šå·¦ä¸­å³ä¸‰å¼ å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Stack + Align å®šä½å¸ƒå±€å®ç°</p><p>ç¬¬å››å—ï¼šç›´æ¥ä½¿ç”¨ ListTile å®ç°ï¼ŒListTile çš„ leading ä¸ºä¸€ä¸ªåœ†å½¢å›¾ç‰‡</p><p>å¦å¤–è¿˜æœ‰ä¸€äº›å°å°çš„ç»†èŠ‚ï¼Œå¦‚æ¯ä¸€å—ä¹‹é—´çš„é—´è·ï¼Œæ¨ªçº¿ï¼Œæ¯ä¸€å—å†…éƒ¨çš„é—´è·ï¼Œè¿™äº›æˆ‘ä»¬ä½¿ç”¨ SizedBoxï¼ŒDivider å®ç°</p><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘æ•´ç†å‡ºäº†ä¸€å¼ ç»“æ„å›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a63bcb7778c42c6bcfef99a9bb3c81e~tplv-k3u1fbpfcp-watermark.image" alt="flutter_11 (2).png"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ç”¨ä»£ç å®ç°ä¸€ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MyApp());<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&quot;Flutter Widget Combine Pricetice&quot;</span>),<br>          elevation: <span class="hljs-number">30</span>, <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜é˜´å½±</span><br>        ),<br>        body: MyHome(),<br>      ),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHome</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Padding( <span class="hljs-comment">//Padding å®ç°é¡µé¢å…§é—´è·</span><br>      padding: EdgeInsets.all(<span class="hljs-number">10</span>),<br>      child: Column( <span class="hljs-comment">//Column å®ç°å¸ƒå±€å‚ç›´æ’åˆ—</span><br>        children: [<br>          Container( <span class="hljs-comment">//Container å®ç°é»‘è‰²é•¿æ–¹å½¢</span><br>              color: Colors.black,<br>              height: <span class="hljs-number">180</span><br>          ),<br>          SizedBox(height: <span class="hljs-number">10</span>), <span class="hljs-comment">//é«˜åº¦ä¸º 10 çš„é—´è·</span><br>          Row( <span class="hljs-comment">// Row + Expanded å®ç°æ¨ªå‘å¸ƒå±€çš„ç­‰æ¯”åˆ†é…</span><br>            children: [<br>              Expanded(<br>                  flex: <span class="hljs-number">2</span>,<br>                  child: Container( <span class="hljs-comment">//Container åµŒå¥— Image å®ç°å·¦è¾¹é•¿å›¾</span><br>                    child: Image.network(<br>                        <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                        fit: BoxFit.cover,<br>                        height: <span class="hljs-number">100</span>),<br>                  )),<br>              SizedBox(width: <span class="hljs-number">10</span>), <span class="hljs-comment">//é«˜åº¦ä¸º 10 çš„é—´è·</span><br>              Expanded(<br>                flex: <span class="hljs-number">1</span>,<br>                child: Container( <span class="hljs-comment">//Container åµŒå¥— ListView å®ç°å³è¾¹ä¸Šä¸‹ä¸¤å¼ è‡ªé€‚åº”å›¾</span><br>                  height: <span class="hljs-number">100</span>,<br>                  child: ListView(<br>                    children: [<br>                      Image.network(<br>                          <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                          fit: BoxFit.cover,<br>                          height: <span class="hljs-number">45</span>),<br>                      SizedBox(height: <span class="hljs-number">10</span>), <span class="hljs-comment">//é«˜åº¦ä¸º 10 çš„é—´è·</span><br>                      Image.network(<br>                          <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                          fit: BoxFit.cover,<br>                          height: <span class="hljs-number">45</span>),<br>                    ],<br>                  ),<br>                ),<br>              )<br>            ],<br>          ),<br>          Divider(), <span class="hljs-comment">//æ¨ªçº¿</span><br>          Stack( <span class="hljs-comment">// Stack + Align å®ç°å®šä½å¸ƒå±€</span><br>            children: [<br>              Align(<br>                  alignment: Alignment.topLeft,<br>                  child: Image.network(<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                      width: <span class="hljs-number">70</span>,<br>                      height: <span class="hljs-number">70</span>,<br>                      fit: BoxFit.cover)<br>              ),<br>              Align(<br>                  alignment: Alignment.topCenter,<br>                  child: Image.network(<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                      width: <span class="hljs-number">70</span>,<br>                      height: <span class="hljs-number">70</span>,<br>                      fit: BoxFit.cover)<br>              ),<br>              Align(<br>                  alignment: Alignment.topRight,<br>                  child: Image.network(<span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                      width: <span class="hljs-number">70</span>,<br>                      height: <span class="hljs-number">70</span>,<br>                      fit: BoxFit.cover)<br>              )<br>            ],<br>          ),<br>          Divider(), <span class="hljs-comment">//æ¨ªçº¿</span><br>          ListTile( <span class="hljs-comment">// ListTile å®ç° item</span><br>            leading: ClipOval( <span class="hljs-comment">//åœ†å½¢å›¾ç‰‡</span><br>              child: Image.network(<br>                <span class="hljs-string">&quot;https://img.lianzhixiu.com/uploads/210106/37-21010609363aS.jpg&quot;</span>,<br>                width: <span class="hljs-number">50</span>,<br>                height: <span class="hljs-number">50</span>,<br>                fit: BoxFit.cover,<br>              ),<br>            ),<br>            title: Text(<br>              <span class="hljs-string">&quot;ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜äº¦è²&quot;</span>,<span class="hljs-comment">//æ ‡é¢˜</span><br>              style: TextStyle(<br>                  color: Colors.green,<br>                  fontWeight: FontWeight.bold<br>              )<br>            ),<br>            subtitle: Text(<br>                <span class="hljs-string">&quot;å¾ˆé«˜å…´è®¤è¯†ä½ &quot;</span>,<span class="hljs-comment">//å‰¯æ ‡é¢˜</span><br>                style: TextStyle(<br>                  color: Colors.orange,<br>                )<br>            ),<br>          )<br>        ],<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>æœ¬æ–‡é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€é‡‡ç”¨ æ•ˆæœ -&gt; Widget ä»‹ç» -&gt; ä»£ç å®ç°çš„æ–¹å¼å¯¹ Imageï¼ŒListViewï¼ŒGridViewï¼ŒStack è¿›è¡Œäº†ä»‹ç»</p><p>2ã€åœ¨ä»‹ç»ä¸Šé¢ Widget çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆç©¿æ’äº†å…¶å®ƒä¸€äº› Widget çš„è®²è§£ï¼šClipOvalï¼ŒListTileï¼ŒExpandedï¼ŒSizedBoxï¼ŒDividerï¼ŒAlignï¼ŒPositionedï¼ŒPadding</p><p>3ã€æœ€åé€šè¿‡ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹å¯¹ä»‹ç»çš„ Widget è¿›è¡Œç»„åˆä½¿ç”¨</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šä»‹ç» Flutter Button ç›¸å…³ Widgetï¼Œä»¥åŠ Flutter 2.x Button çš„å˜åŒ–</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://api.flutter.dev/flutter/dart-ui/dart-ui-library.html">Flutter å®˜æ–¹ API æ–‡æ¡£</a></p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šFlutter ç‰¹ç‚¹åŠå¸¸ç”¨ Widget ä»‹ç»</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9AFlutter%20%E7%89%B9%E7%82%B9%E5%8F%8A%E5%B8%B8%E7%94%A8%20Widget%20%E4%BB%8B%E7%BB%8D/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9AFlutter%20%E7%89%B9%E7%82%B9%E5%8F%8A%E5%B8%B8%E7%94%A8%20Widget%20%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101651486.jpeg" alt="konstantin-tretyak-JBvIUIFVzjo-unsplash"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å…¨é¢ä»‹ç»äº† Dart è¯­æ³•ï¼Œå†…å®¹å¾ˆå¤šï¼Œæ–‡å­—+ä»£ç æœ‰ä¸‰ä¸‡å¤šå­—ï¼Œå¦‚æœä½ èƒ½å¤Ÿè€å¿ƒçœ‹å®Œå¹¶æ‰‹æ•²é‡Œé¢çš„ç¤ºä¾‹ï¼Œä½ ä¸€å®šä¼šæ”¶è·å¾ˆå¤§ã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯» <a href="https://juejin.cn/post/7130647339294785549#heading-0">Flutter ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šDart è¯­æ³•ç­‘åŸº</a>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥ Flutter çš„å­¦ä¹ ã€‚</p><h2 id="ä¸€ã€Flutter-ç‰¹ç‚¹ä»‹ç»"><a href="#ä¸€ã€Flutter-ç‰¹ç‚¹ä»‹ç»" class="headerlink" title="ä¸€ã€Flutter ç‰¹ç‚¹ä»‹ç»"></a>ä¸€ã€Flutter ç‰¹ç‚¹ä»‹ç»</h2><p>å­¦ä¹ ä¸€ä¸ªæ¡†æ¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦äº†è§£è¿™ä¸ªæ¡†æ¶çš„ç‰¹ç‚¹ï¼Œå°±å¥½æ¯”ä½ å­¦å¼€è½¦ä¸€æ ·ï¼Œä½ è¦çŸ¥é“è¿™ä¸ªè½¦æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œä½ æ‰èƒ½å¿«é€Ÿçš„å»ä¸Šæ‰‹å®ƒã€‚Flutter ç‰¹ç‚¹ä»‹ç»ï¼š</p><h3 id="1-1ã€åœ¨-Flutter-ä¸­ï¼Œä¸‡ç‰©çš†-Widgetï¼ˆç»„ä»¶ï¼‰"><a href="#1-1ã€åœ¨-Flutter-ä¸­ï¼Œä¸‡ç‰©çš†-Widgetï¼ˆç»„ä»¶ï¼‰" class="headerlink" title="1.1ã€åœ¨ Flutter ä¸­ï¼Œä¸‡ç‰©çš† Widgetï¼ˆç»„ä»¶ï¼‰"></a>1.1ã€åœ¨ Flutter ä¸­ï¼Œä¸‡ç‰©çš† Widgetï¼ˆç»„ä»¶ï¼‰</h3><p>æˆ‘ä»¬åœ¨å†™ Flutter æ—¶ï¼Œä¸€å®šè¦æœ‰è¿™æ ·çš„æ„è¯†ã€‚è¿™æ ·æˆ‘ä»¬æ‰èƒ½æ›´å¥½åœ°ä¸Šæ‰‹å­¦ä¹ ã€‚åœ¨ Flutter ä¸­ï¼Œå‡ ä¹ä»»ä½•ä¸œè¥¿éƒ½æ˜¯ Widgetï¼Œä¸ä»…æ˜¯å¸¸è§çš„ UI ç»„ä»¶ï¼Œç”šè‡³æ˜¯å¸ƒå±€æ–¹å¼ï¼Œæ ·å¼ï¼ŒåŠ¨ç”»ç­‰éƒ½æ˜¯ Widget</p><h3 id="1-2ã€Widget-åµŒå¥—"><a href="#1-2ã€Widget-åµŒå¥—" class="headerlink" title="1.2ã€Widget åµŒå¥—"></a>1.2ã€Widget åµŒå¥—</h3><p>å†™ Android æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨ Xml æ–‡ä»¶ä¸­ç¼–å†™å¸ƒå±€åŠ View åµŒå¥—ï¼Œç„¶ååœ¨ Java æˆ– Kotlin æ–‡ä»¶ä¸­è¿›è¡Œ View é€»è¾‘ç¼–å†™ã€‚ä½†å†™ Flutterï¼Œæ— è®ºæ˜¯ Widget åµŒå¥—ï¼Œè¿˜æ˜¯ Widget é€»è¾‘ç¼–å†™ï¼Œéƒ½æ˜¯åœ¨ Dart æ–‡ä»¶ä¸­è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜ï¼š</p><blockquote><p>1ã€å¤æ‚ç•Œé¢å‡ºç°å„ç§æ·±å±‚ Widget åµŒå¥—</p><p>2ã€ä»£ç é€»è¾‘æ··ä¹±ï¼Œå¯è¯»æ€§å·®</p></blockquote><p>ä½œä¸º Android å¼€å‘ï¼Œæˆ‘ä¸€å¼€å§‹çœŸçš„å¾ˆä¸ä¹ æƒ¯ï¼Œä½†æ˜¯éšç€ä½ å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹é¡¹ç›®è¿›è¡Œåˆç†çš„æ¶æ„è®¾è®¡ï¼ŒåŒ…ç»“æ„è®¾è®¡ï¼Œæ¸…æ™°çš„ä»£ç æ³¨é‡Šï¼Œä¸Šé¢çš„é—®é¢˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¾—åˆ°äº†è§£å†³</p><h3 id="1-3ã€Widget-çŠ¶æ€"><a href="#1-3ã€Widget-çŠ¶æ€" class="headerlink" title="1.3ã€Widget çŠ¶æ€"></a>1.3ã€Widget çŠ¶æ€</h3><p>åœ¨ Flutter ä¸­ï¼ŒWidget åˆ†ä¸ºä¸¤ç§ï¼š</p><blockquote><p>1ã€æ— çŠ¶æ€ Widget</p><p>2ã€æœ‰çŠ¶æ€ Widget</p></blockquote><p>æ— çŠ¶æ€ Widget (ç»§æ‰¿è‡ª StatelessWidget)ï¼šåˆå§‹åŒ–åæ— æ³•ä¿®æ”¹å…¶çŠ¶æ€å’Œ UIï¼Œå¦‚ï¼šTextï¼ŒScrollView</p><p>æœ‰çŠ¶æ€ Widget (ç»§æ‰¿è‡ª StatefulWidget)ï¼šå…¶çŠ¶æ€å¯èƒ½åœ¨ Widget ç”Ÿå‘½å‘¨æœŸä¸­å‘ç”Ÿå˜åŒ–ã€‚å¦‚ Imageï¼Œ Scrollable ç­‰ã€‚åœ¨è°ƒç”¨ setState æ–¹æ³•åï¼ŒWidget ä¼šé‡æ–°ç»˜åˆ¶ï¼Œåˆ›å»ºå…¶æ–°çš„ Widget</p><p>StatelessWidget å’Œ StatefulWidget éƒ½ç»§æ‰¿è‡ªWidget</p><p><strong>å° Tips</strong>ï¼š</p><p>1ã€åœ¨ä½ ç¼–å†™è‡ªå®šä¹‰ Widget æ—¶ï¼Œä½ é¦–å…ˆåˆ¤æ–­å®ƒæ˜¯æœ‰çŠ¶æ€çš„è¿˜æ˜¯æ— çŠ¶æ€çš„ï¼Œå¦‚æœ Widget éœ€è¦æ ¹æ®ç”¨æˆ·äº¤äº’æˆ–å…¶ä»–å› ç´ è¿›è¡Œæ›´æ”¹ï¼Œåˆ™è¯¥ Widget æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå¦åˆ™å°±æ˜¯æ— çŠ¶æ€çš„</p><p>2ã€å½“ä½ éœ€è¦æ”¹å˜ Widget çŠ¶æ€æ—¶ï¼Œå¿…é¡»è°ƒç”¨ setState æ–¹æ³•æ¥é€šçŸ¥ Flutter æ¥æ›´æ–°åˆ›å»ºæ–°çš„ Widget</p><p><strong>æ³¨æ„</strong>ï¼šä¸Šé¢ä¸€äº›ç‰¹ç‚¹å¯èƒ½ä¸€å¼€å§‹ä¸èƒ½ç†è§£ï¼Œæ¥ç€å¾€ä¸‹çœ‹ï¼Œæœ‰äº›é—®é¢˜éšç€ä½ çŸ¥è¯†çš„ç§¯ç´¯ä¾¿è¿åˆƒè€Œè§£äº†</p><h2 id="äºŒã€Flutter-å¸¸ç”¨-Widget-ä»‹ç»"><a href="#äºŒã€Flutter-å¸¸ç”¨-Widget-ä»‹ç»" class="headerlink" title="äºŒã€Flutter å¸¸ç”¨ Widget ä»‹ç»"></a>äºŒã€Flutter å¸¸ç”¨ Widget ä»‹ç»</h2><p>å…ˆçœ‹ä¸€å¼ æ•ˆæœå›¾ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/963be24804034c308ba042a9fe6c6aac~tplv-k3u1fbpfcp-watermark.image" alt="1661082533405.jpg"></p><p>é—®é¢˜ï¼šä¸Šé¢çš„æ•ˆæœæ€ä¹ˆå®ç°çš„å‘¢ğŸ¤”ï¸ï¼Ÿ</p><p>å¦‚æœä½ æ˜¯å°ç™½ï¼Œé‚£ä¹ˆå°±è·Ÿç€æˆ‘çš„æ­¥ä¼ç»§ç»­å¾€ä¸‹å­¦ä¹ ã€‚å¦‚æœä¸æ˜¯ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹å¯ä»¥ä½¿ç”¨å“ªäº› Widget åµŒå¥—æ¥å®ç°ï¼Œä»¥åŠå®ç°çš„ä¸€äº›ç»†èŠ‚ã€‚</p><p>å¾…æˆ‘ä»¬å­¦ä¹ å®Œä¸‹é¢çš„ Widget åï¼Œåœ¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p><h3 id="2-1ã€MaterialApp"><a href="#2-1ã€MaterialApp" class="headerlink" title="2.1ã€MaterialApp"></a>2.1ã€MaterialApp</h3><p>è§åçŸ¥ä¹‰ï¼ŒMaterialApp å°±æ˜¯ä¸€ä¸ªå¸¦ Material Design è®¾è®¡é£æ ¼çš„ Widgetï¼Œä¸€èˆ¬ä½œä¸ºé¡¶å±‚ Widget æ¥ä½¿ç”¨</p><h4 id="2-1-1ã€å±æ€§"><a href="#2-1-1ã€å±æ€§" class="headerlink" title="2.1.1ã€å±æ€§"></a>2.1.1ã€å±æ€§</h4><p>æˆ‘ä»¬å¦‚æœè¦æŸ¥çœ‹ä¸€ä¸ª Widget æœ‰å“ªäº›å±æ€§ï¼Œå¯ä»¥é€šè¿‡ IDE ç›´æ¥ç‚¹å‡»è¿™ä¸ª Widget çš„æºç å»æŸ¥çœ‹ï¼Œä½ ä¼šå‘ç°æ¯ä¸ª Widget éƒ½åŒ…å«è®¸å¤šå±æ€§ï¼Œè¿™ä¹ˆå¤šå±æ€§ä¸å¯èƒ½æ¯ä¸ªéƒ½å»çœ‹ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š<strong>æŒæ¡åŸºç¡€å¸¸ç”¨çš„ï¼Œå…¶å®ƒç”¨åˆ°æ—¶ï¼Œçœ‹æºç æŒ‰éœ€å»å–</strong></p><p>MaterialApp æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">const</span> MaterialApp(&#123;<br>    Key? key,<br>    <span class="hljs-keyword">this</span>.navigatorKey,<br>    <span class="hljs-keyword">this</span>.scaffoldMessengerKey,<br>    <span class="hljs-keyword">this</span>.home,<br>    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, WidgetBuilder&gt; <span class="hljs-keyword">this</span>.routes = <span class="hljs-keyword">const</span> &lt;<span class="hljs-built_in">String</span>, WidgetBuilder&gt;&#123;&#125;,<br>    <span class="hljs-keyword">this</span>.initialRoute,<br>    <span class="hljs-keyword">this</span>.onGenerateRoute,<br>    <span class="hljs-keyword">this</span>.onGenerateInitialRoutes,<br>    <span class="hljs-keyword">this</span>.onUnknownRoute,<br>    <span class="hljs-built_in">List</span>&lt;NavigatorObserver&gt; <span class="hljs-keyword">this</span>.navigatorObservers = <span class="hljs-keyword">const</span> &lt;NavigatorObserver&gt;[],<br>    <span class="hljs-keyword">this</span>.builder,<br>    <span class="hljs-keyword">this</span>.title = <span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-keyword">this</span>.onGenerateTitle,<br>    <span class="hljs-keyword">this</span>.color,<br>    <span class="hljs-keyword">this</span>.theme,<br>    <span class="hljs-keyword">this</span>.darkTheme,<br>    <span class="hljs-keyword">this</span>.highContrastTheme,<br>    <span class="hljs-keyword">this</span>.highContrastDarkTheme,<br>    <span class="hljs-keyword">this</span>.themeMode = ThemeMode.system,<br>    <span class="hljs-keyword">this</span>.locale,<br>    <span class="hljs-keyword">this</span>.localizationsDelegates,<br>    <span class="hljs-keyword">this</span>.localeListResolutionCallback,<br>    <span class="hljs-keyword">this</span>.localeResolutionCallback,<br>    <span class="hljs-keyword">this</span>.supportedLocales = <span class="hljs-keyword">const</span> &lt;Locale&gt;[Locale(<span class="hljs-string">&#x27;en&#x27;</span>, <span class="hljs-string">&#x27;US&#x27;</span>)],<br>    <span class="hljs-keyword">this</span>.debugShowMaterialGrid = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.showPerformanceOverlay = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.checkerboardRasterCacheImages = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.checkerboardOffscreenLayers = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.showSemanticsDebugger = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.debugShowCheckedModeBanner = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.shortcuts,<br>    <span class="hljs-keyword">this</span>.actions,<br>    <span class="hljs-keyword">this</span>.restorationScopeId,<br>    <span class="hljs-keyword">this</span>.scrollBehavior,<br>    <span class="hljs-keyword">this</span>.useInheritedMediaQuery = <span class="hljs-keyword">false</span>,<br>  &#125;) : <span class="hljs-keyword">assert</span>(routes != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(navigatorObservers != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(title != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(debugShowMaterialGrid != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(showPerformanceOverlay != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(checkerboardRasterCacheImages != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(checkerboardOffscreenLayers != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(showSemanticsDebugger != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(debugShowCheckedModeBanner != <span class="hljs-keyword">null</span>),<br>       routeInformationProvider = <span class="hljs-keyword">null</span>,<br>       routeInformationParser = <span class="hljs-keyword">null</span>,<br>       routerDelegate = <span class="hljs-keyword">null</span>,<br>       backButtonDispatcher = <span class="hljs-keyword">null</span>,<br>       <span class="hljs-keyword">super</span>(key: key);<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸‹é¢ä»‹ç»çš„å±æ€§ä»…æ˜¯ç”¨äºå®ç°ä¸Šé¢çš„æ•ˆæœå›¾</p><p>MaterialApp å¸¸ç”¨å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>home</td><td>é…ç½® App ä¸»é¡µ</td></tr></tbody></table><p>MaterialApp æ›´å¤šå±æ€§ä»‹ç»ï¼š<a href="https://segmentfault.com/a/1190000040552453">https://segmentfault.com/a/1190000040552453</a></p><h3 id="2-2ã€Scaffold"><a href="#2-2ã€Scaffold" class="headerlink" title="2.2ã€Scaffold"></a>2.2ã€Scaffold</h3><p>Scaffold æ˜¯ä¸€ä¸ª Material Design è®¾è®¡é£æ ¼çš„è„šæ‰‹æ¶ Widgetï¼Œä¸€èˆ¬åµŒå¥—åœ¨ MaterialApp çš„ home å±æ€§ä¸­</p><h4 id="2-2-1ã€å±æ€§"><a href="#2-2-1ã€å±æ€§" class="headerlink" title="2.2.1ã€å±æ€§"></a>2.2.1ã€å±æ€§</h4><p>Scaffold æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">const</span> Scaffold(&#123;<br>    Key? key,<br>    <span class="hljs-keyword">this</span>.appBar,<br>    <span class="hljs-keyword">this</span>.body,<br>    <span class="hljs-keyword">this</span>.floatingActionButton,<br>    <span class="hljs-keyword">this</span>.floatingActionButtonLocation,<br>    <span class="hljs-keyword">this</span>.floatingActionButtonAnimator,<br>    <span class="hljs-keyword">this</span>.persistentFooterButtons,<br>    <span class="hljs-keyword">this</span>.drawer,<br>    <span class="hljs-keyword">this</span>.onDrawerChanged,<br>    <span class="hljs-keyword">this</span>.endDrawer,<br>    <span class="hljs-keyword">this</span>.onEndDrawerChanged,<br>    <span class="hljs-keyword">this</span>.bottomNavigationBar,<br>    <span class="hljs-keyword">this</span>.bottomSheet,<br>    <span class="hljs-keyword">this</span>.backgroundColor,<br>    <span class="hljs-keyword">this</span>.resizeToAvoidBottomInset,<br>    <span class="hljs-keyword">this</span>.primary = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.drawerDragStartBehavior = DragStartBehavior.start,<br>    <span class="hljs-keyword">this</span>.extendBody = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.extendBodyBehindAppBar = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.drawerScrimColor,<br>    <span class="hljs-keyword">this</span>.drawerEdgeDragWidth,<br>    <span class="hljs-keyword">this</span>.drawerEnableOpenDragGesture = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.endDrawerEnableOpenDragGesture = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.restorationId,<br>  &#125;) : <span class="hljs-keyword">assert</span>(primary != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(extendBody != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(extendBodyBehindAppBar != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(drawerDragStartBehavior != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">super</span>(key: key);<br></code></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>appBar</td><td>é…ç½®æ˜¾ç¤ºåœ¨ç•Œé¢é¡¶éƒ¨çš„ä¸€ä¸ª AppBar</td></tr><tr><td>body</td><td>é…ç½®å½“å‰ç•Œé¢æ‰€æ˜¾ç¤ºçš„ä¸»è¦å†…å®¹ Widget</td></tr></tbody></table><p>Scaffold æ›´å¤šå±æ€§ä»‹ç»ï¼š<a href="https://segmentfault.com/a/1190000040554948">https://segmentfault.com/a/1190000040554948</a></p><p>ä»¥ä¸Šä¸¤ä¸ª Widget å°±èƒ½æ­å»ºèµ·é¡µé¢çš„åŸºæœ¬æ¡†æ¶äº†ï¼Œä½†æ˜¯çœ‹åˆ°çš„ä¼šæ˜¯ä¸€ä¸ªç©ºç™½çš„é¡µé¢ã€‚å›åˆ°ä¸Šé¢é‚£å¼ å›¾ï¼Œæˆ‘ä»¬çœ‹åˆ°é¡¶éƒ¨æœ‰ä¸€ä¸ªæ ‡é¢˜æ ï¼Œè€Œä¸”è¿˜æœ‰é˜´å½±ï¼ŒFlutter ç»™æˆ‘ä»¬æä¾›äº† AppBar æ¥å®ç°</p><h3 id="2-3ã€AppBar"><a href="#2-3ã€AppBar" class="headerlink" title="2.3ã€AppBar"></a>2.3ã€AppBar</h3><p>AppBar æ˜¯åŸºäº Material Design è®¾è®¡é£æ ¼çš„æ ‡é¢˜æ  Widgetï¼Œä¸€èˆ¬åœ¨ Scaffold çš„ appBar å±æ€§ä¸­ä½¿ç”¨ï¼Œä½œä¸ºé¡¶éƒ¨æ ‡é¢˜æ </p><h4 id="2-3-1ã€å±æ€§"><a href="#2-3-1ã€å±æ€§" class="headerlink" title="2.3.1ã€å±æ€§"></a>2.3.1ã€å±æ€§</h4><p>AppBar æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs dart">AppBar(&#123;<br>    Key? key,<br>    <span class="hljs-keyword">this</span>.leading,<br>    <span class="hljs-keyword">this</span>.automaticallyImplyLeading = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.title,<br>    <span class="hljs-keyword">this</span>.actions,<br>    <span class="hljs-keyword">this</span>.flexibleSpace,<br>    <span class="hljs-keyword">this</span>.bottom,<br>    <span class="hljs-keyword">this</span>.elevation,<br>    <span class="hljs-keyword">this</span>.shadowColor,<br>    <span class="hljs-keyword">this</span>.shape,<br>    <span class="hljs-keyword">this</span>.backgroundColor,<br>    <span class="hljs-keyword">this</span>.foregroundColor,<br>    <span class="hljs-meta">@Deprecated</span>(<br>      <span class="hljs-string">&#x27;This property is no longer used, please use systemOverlayStyle instead. &#x27;</span><br>      <span class="hljs-string">&#x27;This feature was deprecated after v2.4.0-0.0.pre.&#x27;</span>,<br>    )<br>    <span class="hljs-keyword">this</span>.brightness,<br>    <span class="hljs-keyword">this</span>.iconTheme,<br>    <span class="hljs-keyword">this</span>.actionsIconTheme,<br>    <span class="hljs-meta">@Deprecated</span>(<br>      <span class="hljs-string">&#x27;This property is no longer used, please use toolbarTextStyle and titleTextStyle instead. &#x27;</span><br>      <span class="hljs-string">&#x27;This feature was deprecated after v2.4.0-0.0.pre.&#x27;</span>,<br>    )<br>    <span class="hljs-keyword">this</span>.textTheme,<br>    <span class="hljs-keyword">this</span>.primary = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.centerTitle,<br>    <span class="hljs-keyword">this</span>.excludeHeaderSemantics = <span class="hljs-keyword">false</span>,<br>    <span class="hljs-keyword">this</span>.titleSpacing,<br>    <span class="hljs-keyword">this</span>.toolbarOpacity = <span class="hljs-number">1.0</span>,<br>    <span class="hljs-keyword">this</span>.bottomOpacity = <span class="hljs-number">1.0</span>,<br>    <span class="hljs-keyword">this</span>.toolbarHeight,<br>    <span class="hljs-keyword">this</span>.leadingWidth,<br>    <span class="hljs-meta">@Deprecated</span>(<br>      <span class="hljs-string">&#x27;This property is obsolete and is false by default. &#x27;</span><br>      <span class="hljs-string">&#x27;This feature was deprecated after v2.4.0-0.0.pre.&#x27;</span>,<br>    )<br>    <span class="hljs-keyword">this</span>.backwardsCompatibility,<br>    <span class="hljs-keyword">this</span>.toolbarTextStyle,<br>    <span class="hljs-keyword">this</span>.titleTextStyle,<br>    <span class="hljs-keyword">this</span>.systemOverlayStyle,<br>  &#125;) : <span class="hljs-keyword">assert</span>(automaticallyImplyLeading != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(elevation == <span class="hljs-keyword">null</span> || elevation &gt;= <span class="hljs-number">0.0</span>),<br>       <span class="hljs-keyword">assert</span>(primary != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(toolbarOpacity != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(bottomOpacity != <span class="hljs-keyword">null</span>),<br>       preferredSize = _PreferredAppBarSize(toolbarHeight, bottom?.preferredSize.height),<br>       <span class="hljs-keyword">super</span>(key: key);<br></code></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>title</td><td>é…ç½®æ ‡é¢˜æ çš„æ ‡é¢˜</td></tr><tr><td>elevation</td><td>é…ç½®æ ‡é¢˜æ ä¸‹æ–¹çš„é˜´å½±å¤§å°</td></tr></tbody></table><p>AppBar æ›´å¤šå±æ€§ä»‹ç»ï¼š<a href="https://segmentfault.com/a/1190000040562147">https://segmentfault.com/a/1190000040562147</a></p><p>æ ‡é¢˜æ å®ç°äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ body ä¸»ä½“éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨æ¥åˆ†æä¸€ä¸‹ï¼šå¯ä»¥çœ‹åˆ°ï¼Œä¸»ä½“éƒ¨åˆ†æ˜¯ä¸€ä¸ª<strong>å±…ä¸­</strong>æ˜¾ç¤ºçš„<strong>åœ†å½¢</strong>å›¾åƒï¼ŒèƒŒæ™¯æ˜¯è“è‰²ï¼Œæœ‰ä¸ªçº¢è‰²çš„è¾¹æ¡†ã€‚åœ†å½¢å›¾åƒé‡Œé¢æœ‰ä¸€è¡Œ<strong>æ–‡æœ¬</strong>ï¼Œæ–‡æœ¬çš„é¢œè‰²æ˜¯ç™½è‰²ï¼Œå­—ä½“æœ‰ç‚¹å€¾æ–œï¼Œå­—é—´è·åå¤§ï¼Œåªæ˜¾ç¤ºäº†ä¸€è¡Œï¼Œè¶…å‡ºéƒ¨åˆ† â€¦ ï¼Œè€Œä¸”æ–‡æœ¬çš„ä¸­é—´æœ‰ä¸€ä¸ªçº¢è‰²çš„è™šåˆ é™¤çº¿</p><p>ä¸Šé¢åŠ ç²—çš„æ–‡å­—å°±æ˜¯ç”¨äºå®ç°è¯¥æ•ˆæœçš„ Widgetï¼šCenterï¼ŒContainerï¼ŒText</p><h3 id="2-4ã€Center"><a href="#2-4ã€Center" class="headerlink" title="2.4ã€Center"></a>2.4ã€Center</h3><p>Center å°±æ˜¯å°†å­ Widget è¿›è¡Œä¸€ä¸ªå±…ä¸­å±•ç¤ºçš„ Widgetï¼Œå®ƒç»§æ‰¿è‡ª Alignï¼Œå› ä¸º Align é»˜è®¤çš„å¯¹é½æ–¹å¼æ˜¯å±…ä¸­çš„ï¼Œæ‰€ä»¥å®ƒèƒ½å®ç°å±…ä¸­æ•ˆæœï¼Œå¦‚æœ Center çš„å°ºå¯¸æ²¡æœ‰å—åˆ°é™åˆ¶ï¼Œé‚£ä¹ˆå®ƒå°†å……æ»¡æ•´ä¸ªå±å¹•</p><h4 id="2-4-1ã€å±æ€§"><a href="#2-4-1ã€å±æ€§" class="headerlink" title="2.4.1ã€å±æ€§"></a>2.4.1ã€å±æ€§</h4><p>Center æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">const</span> Center(&#123; Key? key, <span class="hljs-built_in">double?</span> widthFactor, <span class="hljs-built_in">double?</span> heightFactor, Widget? child &#125;)<br>    : <span class="hljs-keyword">super</span>(key: key, widthFactor: widthFactor, heightFactor: heightFactor, child: child);<br></code></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>child</td><td>é…ç½®å±…ä¸­æ˜¾ç¤ºçš„å­ Widget</td></tr></tbody></table><h3 id="2-5ã€Container"><a href="#2-5ã€Container" class="headerlink" title="2.5ã€Container"></a>2.5ã€Container</h3><p>Container æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ªå¤šåŠŸèƒ½ Widgetï¼Œå¦‚æœå­ Widget éœ€è¦ä¸€äº›èƒŒæ™¯æ ·å¼ã€å½¢çŠ¶ã€å°ºå¯¸é™åˆ¶ç­‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ Container æ¥è¿›è¡ŒåŒ…è£¹ï¼Œä¸Šé¢çš„åœ†å½¢å›¾åƒå°±æ˜¯ä½¿ç”¨ Container æ¥å®ç°çš„</p><h4 id="2-5-1ã€å±æ€§"><a href="#2-5-1ã€å±æ€§" class="headerlink" title="2.5.1ã€å±æ€§"></a>2.5.1ã€å±æ€§</h4><p>Container æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs dart">Container(&#123;<br>    Key? key,<br>    <span class="hljs-keyword">this</span>.alignment,<br>    <span class="hljs-keyword">this</span>.padding,<br>    <span class="hljs-keyword">this</span>.color,<br>    <span class="hljs-keyword">this</span>.decoration,<br>    <span class="hljs-keyword">this</span>.foregroundDecoration,<br>    <span class="hljs-built_in">double?</span> width,<br>    <span class="hljs-built_in">double?</span> height,<br>    BoxConstraints? constraints,<br>    <span class="hljs-keyword">this</span>.margin,<br>    <span class="hljs-keyword">this</span>.transform,<br>    <span class="hljs-keyword">this</span>.transformAlignment,<br>    <span class="hljs-keyword">this</span>.child,<br>    <span class="hljs-keyword">this</span>.clipBehavior = Clip.none,<br>  &#125;) : <span class="hljs-keyword">assert</span>(margin == <span class="hljs-keyword">null</span> || margin.isNonNegative),<br>       <span class="hljs-keyword">assert</span>(padding == <span class="hljs-keyword">null</span> || padding.isNonNegative),<br>       <span class="hljs-keyword">assert</span>(decoration == <span class="hljs-keyword">null</span> || decoration.debugAssertIsValid()),<br>       <span class="hljs-keyword">assert</span>(constraints == <span class="hljs-keyword">null</span> || constraints.debugAssertIsValid()),<br>       <span class="hljs-keyword">assert</span>(clipBehavior != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(decoration != <span class="hljs-keyword">null</span> || clipBehavior == Clip.none),<br>       <span class="hljs-keyword">assert</span>(color == <span class="hljs-keyword">null</span> || decoration == <span class="hljs-keyword">null</span>,<br>         <span class="hljs-string">&#x27;Cannot provide both a color and a decoration\n&#x27;</span><br>         <span class="hljs-string">&#x27;To provide both, use &quot;decoration: BoxDecoration(color: color)&quot;.&#x27;</span>,<br>       ),<br>       constraints =<br>        (width != <span class="hljs-keyword">null</span> || height != <span class="hljs-keyword">null</span>)<br>          ? constraints?.tighten(width: width, height: height)<br>            ?? BoxConstraints.tightFor(width: width, height: height)<br>          : constraints,<br>       <span class="hljs-keyword">super</span>(key: key);<br></code></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>child</td><td>é…ç½®æ˜¾ç¤ºçš„å­ Widget</td></tr><tr><td>color</td><td>é…ç½® Container èƒŒæ™¯é¢œè‰²</td></tr><tr><td>width</td><td>é…ç½® Container æ˜¾ç¤ºçš„å®½åº¦</td></tr><tr><td>height</td><td>é…ç½® Container æ˜¾ç¤ºçš„é«˜åº¦</td></tr><tr><td>alignment</td><td>é…ç½®å­ Widget çš„å¯¹é½æ–¹å¼</td></tr><tr><td>padding</td><td>é…ç½® Container å…§è¾¹è·</td></tr><tr><td>decoration</td><td>é…ç½® Container è£…é¥°</td></tr></tbody></table><p>decoration æ¥æ”¶ä¸€ä¸ª Decoration ç±»å‹çš„å‚æ•°ï¼Œå…¶å®ç°ç±»ï¼šBoxDecorationï¼ŒBoxDecoration çš„å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>color</td><td>é…ç½® Container èƒŒæ™¯é¢œè‰²</td></tr><tr><td>border</td><td>é…ç½® Container æ˜¾ç¤ºçš„è¾¹æ¡†</td></tr><tr><td>borderRadius</td><td>é…ç½® Container æ˜¾ç¤ºçš„åœ†è§’</td></tr></tbody></table><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœ BoxDecoration è®¾ç½®äº† color å±æ€§ï¼Œå°±ä¸èƒ½è®¾ç½® Container çš„ color å±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶åœ¨ BoxDecoration ä¸­è®¾ç½® color å³å¯</p><p>Container æ›´å¤šå±æ€§ä»‹ç»ï¼š<a href="https://www.liujunmin.com/flutter/container.html">https://www.liujunmin.com/flutter/container.html</a></p><h3 id="2-6ã€Text"><a href="#2-6ã€Text" class="headerlink" title="2.6ã€Text"></a>2.6ã€Text</h3><p>Text æ˜¯ Flutter ç»™æˆ‘ä»¬æä¾›çš„æ–‡æœ¬ Widgetï¼Œæœ€å¸¸ç”¨çš„ Widget ä¹‹ä¸€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥å®ç°å„ç§æ–‡æœ¬æ•ˆæœ</p><h4 id="2-6-1ã€å±æ€§"><a href="#2-6-1ã€å±æ€§" class="headerlink" title="2.6.1ã€å±æ€§"></a>2.6.1ã€å±æ€§</h4><p>Text æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">const</span> Text(<br>    <span class="hljs-built_in">String</span> <span class="hljs-keyword">this</span>.data, &#123;<br>    Key? key,<br>    <span class="hljs-keyword">this</span>.style,<br>    <span class="hljs-keyword">this</span>.strutStyle,<br>    <span class="hljs-keyword">this</span>.textAlign,<br>    <span class="hljs-keyword">this</span>.textDirection,<br>    <span class="hljs-keyword">this</span>.locale,<br>    <span class="hljs-keyword">this</span>.softWrap,<br>    <span class="hljs-keyword">this</span>.overflow,<br>    <span class="hljs-keyword">this</span>.textScaleFactor,<br>    <span class="hljs-keyword">this</span>.maxLines,<br>    <span class="hljs-keyword">this</span>.semanticsLabel,<br>    <span class="hljs-keyword">this</span>.textWidthBasis,<br>    <span class="hljs-keyword">this</span>.textHeightBehavior,<br>  &#125;) : <span class="hljs-keyword">assert</span>(<br>         data != <span class="hljs-keyword">null</span>,<br>         <span class="hljs-string">&#x27;A non-null String must be provided to a Text widget.&#x27;</span>,<br>       ),<br>       textSpan = <span class="hljs-keyword">null</span>,<br>       <span class="hljs-keyword">super</span>(key: key);<br></code></pre></td></tr></table></figure><p>TextStyle æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">const</span> TextStyle(&#123;<br>    <span class="hljs-keyword">this</span>.inherit = <span class="hljs-keyword">true</span>,<br>    <span class="hljs-keyword">this</span>.color,<br>    <span class="hljs-keyword">this</span>.backgroundColor,<br>    <span class="hljs-keyword">this</span>.fontSize,<br>    <span class="hljs-keyword">this</span>.fontWeight,<br>    <span class="hljs-keyword">this</span>.fontStyle,<br>    <span class="hljs-keyword">this</span>.letterSpacing,<br>    <span class="hljs-keyword">this</span>.wordSpacing,<br>    <span class="hljs-keyword">this</span>.textBaseline,<br>    <span class="hljs-keyword">this</span>.height,<br>    <span class="hljs-keyword">this</span>.leadingDistribution,<br>    <span class="hljs-keyword">this</span>.locale,<br>    <span class="hljs-keyword">this</span>.foreground,<br>    <span class="hljs-keyword">this</span>.background,<br>    <span class="hljs-keyword">this</span>.shadows,<br>    <span class="hljs-keyword">this</span>.fontFeatures,<br>    <span class="hljs-keyword">this</span>.decoration,<br>    <span class="hljs-keyword">this</span>.decorationColor,<br>    <span class="hljs-keyword">this</span>.decorationStyle,<br>    <span class="hljs-keyword">this</span>.decorationThickness,<br>    <span class="hljs-keyword">this</span>.debugLabel,<br>    <span class="hljs-built_in">String?</span> fontFamily,<br>    <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt;? fontFamilyFallback,<br>    <span class="hljs-built_in">String?</span> package,<br>    <span class="hljs-keyword">this</span>.overflow,<br>  &#125;) : fontFamily = package == <span class="hljs-keyword">null</span> ? fontFamily : <span class="hljs-string">&#x27;packages/<span class="hljs-subst">$package</span>/<span class="hljs-subst">$fontFamily</span>&#x27;</span>,<br>       _fontFamilyFallback = fontFamilyFallback,<br>       _package = package,<br>       <span class="hljs-keyword">assert</span>(inherit != <span class="hljs-keyword">null</span>),<br>       <span class="hljs-keyword">assert</span>(color == <span class="hljs-keyword">null</span> || foreground == <span class="hljs-keyword">null</span>, _kColorForegroundWarning),<br>       <span class="hljs-keyword">assert</span>(backgroundColor == <span class="hljs-keyword">null</span> || background == <span class="hljs-keyword">null</span>, _kColorBackgroundWarning);<br></code></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>data</td><td>é…ç½® Text è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»é…ç½®</td></tr><tr><td>maxLines</td><td>é…ç½® Text èƒ½æ˜¾ç¤ºçš„æœ€å¤§è¡Œæ•°</td></tr><tr><td>overflow</td><td>é…ç½® Text æ–‡å­—è¶…å‡ºå±å¹•åçš„å¤„ç†æ–¹å¼ï¼ˆclipï¼šè£å‰ªï¼Œfadeï¼šæ¸éšï¼Œellipsisï¼šâ€¦çœç•¥ï¼‰</td></tr><tr><td>style</td><td>é…ç½® Text æ˜¾ç¤ºçš„æ ·å¼</td></tr></tbody></table><p>style æ¥æ”¶ä¸€ä¸ª TextStyle ç±»å‹çš„å‚æ•°ï¼Œå®ƒçš„å±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>fontSize</td><td>é…ç½® Text æ˜¾ç¤ºçš„å­—ä½“å¤§å°</td></tr><tr><td>fontWeight</td><td>é…ç½® Text æ˜¾ç¤ºçš„å­—ä½“ç²—ç»†ï¼ˆboldï¼šç²—ä½“ï¼Œnormalï¼šæ­£å¸¸ä½“ï¼‰</td></tr><tr><td>color</td><td>é…ç½® Text æ˜¾ç¤ºçš„æ–‡å­—é¢œè‰²</td></tr><tr><td>decoration</td><td>é…ç½® text æ˜¾ç¤ºçš„è£…é¥°çº¿ï¼ˆnoneï¼šæ²¡æœ‰çº¿ï¼ŒlineThroughï¼šåˆ é™¤çº¿ï¼Œoverlineï¼šä¸Šåˆ’çº¿ï¼Œunderlineï¼šä¸‹åˆ’çº¿ï¼‰</td></tr><tr><td>decorationColor</td><td>é…ç½® Text æ˜¾ç¤ºçš„è£…é¥°çº¿é¢œè‰²</td></tr><tr><td>decorationStyle</td><td>é…ç½® Text æ˜¾ç¤ºçš„è£…é¥°çº¿é£æ ¼ï¼ˆdashedï¼šé•¿è™šçº¿ï¼Œdottedï¼šç‚¹è™šçº¿ï¼Œdoubleï¼šä¸¤æ ¹çº¿ï¼Œsolidï¼šä¸€æ ¹å®çº¿ï¼Œwavyï¼šæ³¢æµªçº¿ï¼‰</td></tr><tr><td>wordSpacing</td><td>é…ç½® Text æ˜¾ç¤ºçš„å•è¯é—´éš™</td></tr><tr><td>letterSpacing</td><td>é…ç½® Text æ˜¾ç¤ºçš„å­—æ¯é—´éš™</td></tr><tr><td>fontStyle</td><td>é…ç½® Text æ˜¾ç¤ºçš„æ–‡å­—æ ·å¼ï¼ˆitalicï¼šæ–œä½“ï¼Œnormalï¼šæ­£å¸¸ä½“ï¼‰</td></tr></tbody></table><p>Text æ›´å¤šå±æ€§ä»‹ç»ï¼š<a href="https://juejin.cn/post/6844903724846972942">https://juejin.cn/post/6844903724846972942</a></p><p>ä¸Šé¢ä»‹ç»çš„ Widget å°±å¯ä»¥å®ç°æ•ˆæœå›¾äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°ä¸€ä¸‹å®ƒå§</p><h2 id="ä¸‰ã€æ•ˆæœå›¾å®ç°"><a href="#ä¸‰ã€æ•ˆæœå›¾å®ç°" class="headerlink" title="ä¸‰ã€æ•ˆæœå›¾å®ç°"></a>ä¸‰ã€æ•ˆæœå›¾å®ç°</h2><p>ä¸€ä¸ªæ¸…æ™°çš„æ€è·¯å¾ˆé‡è¦ï¼Œæˆ‘ä»¬å…ˆæ‹ä¸€æ‹ï¼š</p><p>1ã€ä½¿ç”¨ MaterialApp å’Œ Scaffold æ­å»ºé¡µé¢çš„åŸºæœ¬æ¡†æ¶</p><p>2ã€ä½¿ç”¨ AppBar å®ç°å¸¦é˜´å½±çš„é¡¶éƒ¨æ ‡é¢˜æ </p><p>3ã€ä½¿ç”¨ Center åµŒå¥—ä¸€ä¸ª Container å±…ä¸­æ˜¾ç¤ºï¼Œç„¶åé€šè¿‡ Container å±æ€§é…ç½®å°† Container è®¾ç½®ä¸ºå¸¦çº¢è‰²è¾¹æ¡†çš„åœ†å½¢å›¾åƒï¼ŒContainer åµŒå¥—ä¸€ä¸ª Text ï¼Œåœ¨å¯¹ Text è¿›è¡Œå±æ€§é…ç½®å³å¯</p><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Widget Learning&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: Center(<br>        child: Container( <span class="hljs-comment">// Center åµŒå¥—ä¸€ä¸ª Container</span><br>          width: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½® Container å®½åº¦ä¸º 300</span><br>          height: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½® Container é«˜åº¦ä¸º 300</span><br>          alignment: Alignment.center, <span class="hljs-comment">//è®¾ç½®å­ Widget å±…ä¸­</span><br>          padding: EdgeInsets.all(<span class="hljs-number">20</span>), <span class="hljs-comment">//è®¾ç½® Container å…§è¾¹è·ä¸º 20</span><br>          decoration: BoxDecoration( <span class="hljs-comment">//è®¾ç½® Container è£…é¥°</span><br>            color: Colors.blue, <span class="hljs-comment">//è®¾ç½® Container èƒŒæ™¯é¢œè‰²ä¸ºè“è‰²</span><br>            border: Border.all(<br>              color: Colors.red, <span class="hljs-comment">//è®¾ç½® Container è¾¹æ¡†é¢œè‰²ä¸ºçº¢è‰²</span><br>              width: <span class="hljs-number">2</span> <span class="hljs-comment">//è®¾ç½® Container è¾¹æ¡†çš„å®½åº¦ä¸º 2</span><br>            ),<br>            borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number">200</span>)), <span class="hljs-comment">//è®¾ç½® Container çš„å½¢çŠ¶ä¸ºä¸€ä¸ªåœ†å½¢</span><br>          ),<br>          child: Text( <span class="hljs-comment">//Container åµŒå¥—ä¸€ä¸ª Text</span><br>            <span class="hljs-string">&quot;Hello erdai str&quot;</span>, <span class="hljs-comment">// è®¾ç½® Text è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²</span><br>            maxLines: <span class="hljs-number">1</span>, <span class="hljs-comment">//è®¾ç½® Text æœ€å¤§æ˜¾ç¤ºä¸€è¡Œ</span><br>            overflow: TextOverflow.ellipsis, <span class="hljs-comment">//è®¾ç½® Text æ–‡æœ¬è¶…è¿‡ä¸€è¡Œ ... æ˜¾ç¤º</span><br>            style: TextStyle( <span class="hljs-comment">//é…ç½® Text æ ·å¼</span><br>                fontSize: <span class="hljs-number">28</span>, <span class="hljs-comment">//è®¾ç½® Text çš„å­—ä½“å¤§å°ä¸º 28</span><br>                fontWeight: FontWeight.bold, <span class="hljs-comment">//è®¾ç½® Text æ˜¾ç¤ºä¸ºç²—ä½“</span><br>                color: Colors.white, <span class="hljs-comment">//è®¾ç½® Text æ–‡å­—é¢œè‰²ä¸ºç™½è‰²</span><br>                decoration: TextDecoration.lineThrough, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿</span><br>                decorationColor: Colors.red, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿é¢œè‰²ä¸ºçº¢è‰²</span><br>                decorationStyle: TextDecorationStyle.dashed, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿ä¸ºè™šçº¿</span><br>                wordSpacing: <span class="hljs-number">20</span>, <span class="hljs-comment">//è®¾ç½® Text å•è¯ä¹‹é—´é—´è·ä¸º 20</span><br>                letterSpacing: <span class="hljs-number">6</span>, <span class="hljs-comment">//è®¾ç½® Text å­—æ¯é—´è·ä¸º 6</span><br>                fontStyle: FontStyle.italic <span class="hljs-comment">//è®¾ç½® Text å­—ä½“æ ·å¼ä¸ºæ–œä½“</span><br>            ),<br>          ),<br>        ),<br>      ),<br>    ),<br>  ));<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å°±å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ç‚¹ç‘•ç–µï¼Œé‚£å°±æ˜¯ä»£ç éƒ½å†™åœ¨ main æ–¹æ³•ä¸­ï¼Œå¯¼è‡´ main æ–¹æ³•æ¯”è¾ƒè‡ƒè‚¿ï¼Œé‚£æ˜¯å¦æœ‰åŠæ³•å¯¹ main æ–¹æ³•ä¸­çš„é€»è¾‘è¿›è¡ŒæŠ½ç¦»å‘¢ï¼Ÿ</p><p>ç­”ï¼šæœ‰çš„ï¼Œè‡ªå®šä¹‰ Widget å¯¹ main æ–¹æ³•é€»è¾‘è¿›è¡ŒæŠ½ç¦»ä¼˜åŒ–</p><h2 id="å››ã€è‡ªå®šä¹‰-Widget"><a href="#å››ã€è‡ªå®šä¹‰-Widget" class="headerlink" title="å››ã€è‡ªå®šä¹‰ Widget"></a>å››ã€è‡ªå®šä¹‰ Widget</h2><p>ä¸Šé¢è®²è¿‡ï¼Œè‡ªå®šä¹‰ Widget å…ˆè¦å¯¹ Widget çš„çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼Œæˆ‘ä»¬è¿™é‡Œæ— éœ€ç”¨æˆ·äº¤äº’ä»¥åŠå…¶ä»–å› ç´ è¿›è¡Œæ›´æ”¹ï¼Œå› æ­¤æ˜¯æ— çŠ¶æ€çš„ï¼Œç»§æ‰¿ StatelessWidget å³å¯</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ body éƒ¨åˆ†çš„é€»è¾‘è¿›è¡ŒæŠ½ç¦»ï¼Œå°è£…ä¸ºä¸€ä¸ªè‡ªå®šä¹‰ Widgetï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBodyPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> Center(<br>      child: Container( <span class="hljs-comment">// Center åµŒå¥—ä¸€ä¸ª Container</span><br>        width: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½® Container å®½åº¦ä¸º 300</span><br>        height: <span class="hljs-number">300</span>, <span class="hljs-comment">//è®¾ç½® Container é«˜åº¦ä¸º 300</span><br>        alignment: Alignment.center, <span class="hljs-comment">//è®¾ç½®å­ Widget å±…ä¸­</span><br>        padding: EdgeInsets.all(<span class="hljs-number">20</span>), <span class="hljs-comment">//è®¾ç½® Container å…§è¾¹è·ä¸º 20</span><br>        decoration: BoxDecoration( <span class="hljs-comment">//è®¾ç½® Container è£…é¥°</span><br>          color: Colors.blue, <span class="hljs-comment">//è®¾ç½® Container èƒŒæ™¯é¢œè‰²ä¸ºè“è‰²</span><br>          border: Border.all(<br>              color: Colors.red, <span class="hljs-comment">//è®¾ç½® Container è¾¹æ¡†é¢œè‰²ä¸ºçº¢è‰²</span><br>              width: <span class="hljs-number">2</span> <span class="hljs-comment">//è®¾ç½® Container è¾¹æ¡†çš„å®½åº¦ä¸º 2</span><br>          ),<br>          borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number">200</span>)), <span class="hljs-comment">//è®¾ç½® Container çš„å½¢çŠ¶ä¸ºä¸€ä¸ªåœ†å½¢</span><br>        ),<br>        child: Text( <span class="hljs-comment">//Container åµŒå¥—ä¸€ä¸ª Text</span><br>          <span class="hljs-string">&quot;Hello erdai str&quot;</span>, <span class="hljs-comment">// è®¾ç½® Text è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²</span><br>          maxLines: <span class="hljs-number">1</span>, <span class="hljs-comment">//è®¾ç½® Text æœ€å¤§æ˜¾ç¤ºä¸€è¡Œ</span><br>          overflow: TextOverflow.ellipsis, <span class="hljs-comment">//è®¾ç½® Text æ–‡æœ¬è¶…è¿‡ä¸€è¡Œ ... æ˜¾ç¤º</span><br>          style: TextStyle( <span class="hljs-comment">//é…ç½® Text æ ·å¼</span><br>              fontSize: <span class="hljs-number">28</span>, <span class="hljs-comment">//è®¾ç½® Text çš„å­—ä½“å¤§å°ä¸º 28</span><br>              fontWeight: FontWeight.bold, <span class="hljs-comment">//è®¾ç½® Text æ˜¾ç¤ºä¸ºç²—ä½“</span><br>              color: Colors.white, <span class="hljs-comment">//è®¾ç½® Text æ–‡å­—é¢œè‰²ä¸ºç™½è‰²</span><br>              decoration: TextDecoration.lineThrough, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿</span><br>              decorationColor: Colors.red, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿é¢œè‰²ä¸ºçº¢è‰²</span><br>              decorationStyle: TextDecorationStyle.dashed, <span class="hljs-comment">//è®¾ç½® Text åˆ é™¤çº¿ä¸ºè™šçº¿</span><br>              wordSpacing: <span class="hljs-number">20</span>, <span class="hljs-comment">//è®¾ç½® Text å•è¯ä¹‹é—´é—´è·ä¸º 20</span><br>              letterSpacing: <span class="hljs-number">6</span>, <span class="hljs-comment">//è®¾ç½® Text å­—æ¯é—´è·ä¸º 6</span><br>              fontStyle: FontStyle.italic <span class="hljs-comment">//è®¾ç½® Text å­—ä½“æ ·å¼ä¸ºæ–œä½“</span><br>          ),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®åˆ™å°±æ˜¯å°† body éƒ¨åˆ†çš„ä»£ç ç§»è¿‡æ¥ğŸ˜‚ï¼ŒæŒæ¡è‡ªå®šä¹‰ Widget çš„æ€è·¯å³å¯ï¼Œé‚£ä¹ˆ main æ–¹æ³•çš„ä»£ç å°±ç®€åŒ–äº†å¾ˆå¤šï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(MaterialApp(<br>    home: Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flutter Widget Learning&quot;</span>),<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span><br>        elevation: <span class="hljs-number">30</span>,<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ é˜´å½±</span><br>      ),<br>      body: MyBodyPage() <span class="hljs-comment">//è‡ªå®šä¹‰ Widget</span><br>    ),<br>  ));<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>æœ¬æ–‡é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€Flutter çš„ç‰¹ç‚¹ï¼Œäº†è§£å®ƒï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å­¦ä¹  Flutter</p><p>2ã€ä»‹ç»äº†å®ç°æ•ˆæœå›¾ç”¨åˆ°çš„ Widgetï¼šMaterialAppï¼ŒScaffoldï¼ŒAppBarï¼ŒCenterï¼ŒContainerï¼ŒText</p><p>3ã€å­¦ä¹  Widget å®åˆ™å°±æ˜¯è¦é‡ç‚¹æŒæ¡å®ƒæœ‰å“ªäº›å±æ€§ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼šæŒæ¡å¸¸ç”¨çš„ï¼Œå…¶å®ƒçš„ç”¨åˆ°æ—¶æŸ¥çœ‹æºç å³<br>å¯ã€‚å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šå½“ä½ ä¸çŸ¥é“å±æ€§æ€ä¹ˆèµ‹å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æºç äº†è§£å±æ€§çš„ç±»å‹ï¼Œç„¶åè¿›è¡Œç›¸åº”çš„èµ‹å€¼</p><p>4ã€ä»‹ç»äº†è‡ªå®šä¹‰å±æ€§ï¼Œæ ¹æ®çŠ¶æ€åˆ¤æ–­æ˜¯ç»§æ‰¿ StatelessWidget è¿˜æ˜¯ StatefulWidget</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>Flutter Widget æœ‰å¾ˆå¤šï¼Œä»Šå¤©æˆ‘ä»¬åªæ˜¯å­¦ä¹ äº†ç®€å•çš„å‡ ä¸ªï¼Œæ¥ä¸‹æ¥æˆ‘è¿˜ä¼šç»§ç»­å¯¹ Flutter Widget è¿›è¡Œä»‹ç»</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://www.bilibili.com/video/BV1S4411E7LY?p=19&vd_source=d0b24cb21c438ff4a9ac2e589eacb3d9">Flutter æ•™ç¨‹</a>ï¼šé€šä¿—æ˜“æ‡‚çš„ Flutter å…¥é—¨æ•™ç¨‹</p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong>  <a href="https://link.juejin.cn/?target=http://m6z.cn/6jwi7b" title="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šDart è¯­æ³•ç­‘åŸº</title>
    <link href="/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9ADart%20%E8%AF%AD%E6%B3%95%E7%AD%91%E5%9F%BA/"/>
    <url>/2022/10/10/Flutter%20%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9ADart%20%E8%AF%AD%E6%B3%95%E7%AD%91%E5%9F%BA/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101643723.jpeg" alt="arjun-mj-KRB2m_nLQQA-unsplash"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆé«˜å…´é‡è§ä½ ~</p><p>åœ¨æœ¬ç³»åˆ—çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Flutter å¼€å‘ç¯å¢ƒæ­å»ºï¼Œä»¥åŠä½¿ç”¨ AndroidStudio è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª Flutter é¡¹ç›®ï¼Œä½“éªŒäº†çƒ­é‡è½½ã€‚è¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„æœ‹å‹ï¼Œå»ºè®®å…ˆå»é˜…è¯»<a href="https://juejin.cn/post/7057420846863745031">Flutter ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šè¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª Flutter åº”ç”¨</a>ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼ŒDart åœ¨è®¾è®¡æ—¶åº”è¯¥æ˜¯å€Ÿé‰´äº†ç™¾å®¶è¯­è¨€ä¹‹æ‰€é•¿ğŸ˜„ï¼šJavaï¼ŒKotlinç­‰ï¼š</p><p>1ã€åœ¨é™æ€è¯­æ³•æ–¹é¢ï¼Œå¦‚ï¼šç±»å‹å®šä¹‰ï¼Œæ–¹æ³•å£°æ˜ï¼Œæ³›å‹ç­‰ï¼Œå’Œ Java éå¸¸ç›¸ä¼¼</p><p>2ã€ä¸€äº›è¯­æ³•ç‰¹æ€§ï¼Œå¦‚ï¼šå‡½æ•°å¼ç‰¹æ€§ï¼Œç©ºå®‰å…¨ï¼Œå‡½æ•°é»˜è®¤å€¼ç­‰ï¼Œå’Œ Kotlin éå¸¸ç›¸ä¼¼</p><p>3ã€Dart è¿˜æœ‰ä¸€äº›è‡ªå·±ç‹¬åˆ›çš„è¯­æ³•ï¼Œå¦‚ï¼šå‘½åæ„é€ æ–¹æ³•ï¼Œçº§è”æ“ä½œç¬¦ç­‰</p><p>æ€»ä¹‹ï¼Œç†Ÿæ‚‰ä¹‹åï¼Œä½ ä¼šå‘ç° Dart æ˜¯ä¸€é—¨éå¸¸æœ‰æ„æ€çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸€èµ·è¿›å…¥ Dart çš„è¯­æ³•å­¦ä¹ å§</p><p><strong>æ³¨æ„</strong>ï¼š Dart è¯­æ³•å’Œ Javaï¼ŒKotlin çœŸçš„å¾ˆåƒï¼Œå°¤å…¶æ˜¯ Javaã€‚å¦å¤–å¦‚æœå¯¹ Kotlin è¯­æ³•ä¸ç†Ÿçš„ï¼Œå¯ä»¥å»çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6942251919662383134">â€œKotlinâ€ç³»åˆ—: ä¸€ã€Kotlinå…¥é—¨</a></p><h2 id="ä¸€ã€å˜é‡å’Œæ–¹æ³•"><a href="#ä¸€ã€å˜é‡å’Œæ–¹æ³•" class="headerlink" title="ä¸€ã€å˜é‡å’Œæ–¹æ³•"></a>ä¸€ã€å˜é‡å’Œæ–¹æ³•</h2><h3 id="1-1ã€å˜é‡"><a href="#1-1ã€å˜é‡" class="headerlink" title="1.1ã€å˜é‡"></a>1.1ã€å˜é‡</h3><p>1ï¼‰ã€Dart å¯ä»¥æ˜¾ç¤ºæŒ‡æ˜ç±»å‹æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ã€‚ä¸”æŒ‡æ˜çš„ç±»å‹åˆ†ä¸ºå¯ç©ºå’Œéç©º</p><p>2ï¼‰ã€Dart ä¹Ÿå¯ä»¥ä½¿ç”¨ var å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šæ ¹æ®å˜é‡åˆå§‹å€¼è‡ªåŠ¨æ¨æ–­ç±»å‹</p><p>3ï¼‰ã€Dart ä½¿ç”¨ final å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªä¸å¯å˜çš„å˜é‡ï¼Œä¸”å¯ä»¥æ›¿ä»£ var æˆ–åŠ åœ¨ç±»å‹å‰é¢</p><p>4ï¼‰ã€Dart ä¸­å˜é‡å¦‚æœæ˜¯éç©ºç±»å‹ï¼Œé‚£ä¹ˆå¿…é¡»ç»™ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦åˆ™æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚å¦‚æœæ˜¯å¯ç©ºç±»å‹ï¼Œé»˜è®¤å€¼éƒ½ä¸º null</p><p>5ï¼‰ã€Dart ä¸­æ¯ä¸€è¡Œä»£ç éƒ½è¦åŠ  ; ğŸ˜‚ï¼Œèµ°å›å¤´è·¯äº†ï¼Œæœ‰ç‚¹é¸¡è‚‹</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€Dart å¯ä»¥æ˜¾ç¤ºæŒ‡æ˜ç±»å‹æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ã€‚ä¸”æŒ‡æ˜çš„ç±»å‹åˆ†ä¸ºå¯ç©ºå’Œéç©º</span><br><span class="hljs-comment">//1.1ã€ç±»æ¯” Javaï¼Œæ˜¾ç¤ºæŒ‡æ˜ç±»å‹æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡</span><br><span class="hljs-comment">//dart å†™æ³•ï¼š</span><br><span class="hljs-built_in">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">bool</span> b = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//Java å†™æ³•</span><br><span class="hljs-built_in">int</span> a = <span class="hljs-number">10</span>;<br>boolean b = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//1.2ã€æŒ‡æ˜çš„ç±»å‹åˆ†ä¸ºå¯ç©ºå’Œéç©º</span><br><span class="hljs-comment">//dart å†™æ³•</span><br><span class="hljs-built_in">int?</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">bool?</span> b = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//kotlin å†™æ³•</span><br><span class="hljs-keyword">var</span> a: Int? = <span class="hljs-number">10</span><br><span class="hljs-keyword">var</span> b: Boolean? = <span class="hljs-keyword">true</span><br>  <br><span class="hljs-comment">//2ã€Dart ä¹Ÿå¯ä»¥ä½¿ç”¨ var å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šæ ¹æ®å˜é‡åˆå§‹å€¼è‡ªåŠ¨æ¨æ–­ç±»å‹</span><br><span class="hljs-comment">//dart å†™æ³•</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">var</span> b = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//kotlin å†™æ³•</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br><span class="hljs-keyword">var</span> b = <span class="hljs-keyword">true</span><br>  <br><span class="hljs-comment">//3ã€Dart ä½¿ç”¨ final å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªä¸å¯å˜çš„å˜é‡ï¼Œä¸”å¯ä»¥æ›¿ä»£ var æˆ–åŠ åœ¨ç±»å‹å‰é¢</span><br><span class="hljs-comment">//dart å†™æ³•</span><br><span class="hljs-keyword">final</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> aa = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">final</span> b = <span class="hljs-keyword">true</span>;<br><span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> bb = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//Java å†™æ³•</span><br><span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">final</span> boolean b = <span class="hljs-keyword">true</span>;<br><br><span class="hljs-comment">//5ã€Dart ä¸­å˜é‡å¦‚æœæ˜¯éç©ºç±»å‹ï¼Œé‚£ä¹ˆå¿…é¡»ç»™ä¸€ä¸ªé»˜è®¤å€¼ã€‚å¦‚æœæ˜¯å¯ç©ºç±»å‹ï¼Œé»˜è®¤å€¼éƒ½ä¸º null</span><br><span class="hljs-keyword">void</span> main() &#123;<br>  <span class="hljs-built_in">String</span> s = <span class="hljs-string">&quot;erdai&quot;</span>;<br>  <span class="hljs-built_in">int?</span> i;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;<span class="hljs-subst">$s</span> <span class="hljs-subst">$i</span>&#x27;</span>); <span class="hljs-comment">//æ‰“å°ç»“æœï¼šerdai null</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å°å»ºè®®</strong>ï¼šå®šä¹‰å˜é‡ï¼Œä¼˜å…ˆä½¿ç”¨è‡ªåŠ¨æ¨æ–­ï¼Œæ¥è‡ª Dart å®˜æ–¹çš„å»ºè®®</p><p><strong>æ³¨æ„</strong>ï¼š Dart å®Œå…¨æŠ›å¼ƒäº† Java ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå…¨éƒ¨éƒ½æ˜¯å¯¹è±¡æ•°æ®ç±»å‹</p><p>5ï¼‰ã€Dart ä¸­è¿˜å¯ä»¥ä½¿ç”¨ Object å’Œ dynamic å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå˜é‡</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs abnf">//<span class="hljs-number">1</span>ã€Dart ä¸­è¿˜å¯ä»¥ä½¿ç”¨ Object å’Œ dynamic å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå˜é‡<br>//<span class="hljs-number">1.1</span>ã€Object å£°æ˜å˜é‡ï¼Œè¿™ä¸€ç‚¹å’Œ Java æ²¡ä»»ä½•åŒºåˆ«<br>Object a <span class="hljs-operator">=</span> <span class="hljs-number">10</span><span class="hljs-comment">;</span><br>Object b <span class="hljs-operator">=</span> true<span class="hljs-comment">;</span><br>Object str <span class="hljs-operator">=</span> <span class="hljs-string">&quot;erdai666&quot;</span><span class="hljs-comment">;</span><br><br>//<span class="hljs-number">1.2</span>ã€dynamic å£°æ˜å˜é‡ï¼Œè¿™ä¸€ç‚¹æ˜¯ Java æ‰€æ²¡æœ‰çš„<br>dynamic a <span class="hljs-operator">=</span> <span class="hljs-number">10</span><span class="hljs-comment">;</span><br>dynamic b <span class="hljs-operator">=</span> true<span class="hljs-comment">;</span><br>dynamic str <span class="hljs-operator">=</span> <span class="hljs-string">&quot;erdai666&quot;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šObject å’Œ dynamic æœ‰å•¥åŒºåˆ«å‘¢ï¼ŸğŸ¤”ï¸</p><p>ç­”ï¼šObject æ˜¯æ‰€æœ‰ç±»çš„åŸºç±»ï¼Œç›¸å½“äºä¸€ä¸ªå¯ä»¥å…¼å®¹æ‰€æœ‰ç±»å‹çš„è¶…çº§ç±»å‹ï¼Œè¿™ç‚¹å’Œ Java ç±»ä¼¼ã€‚dynamic å°±æ˜¯ä¸€ä¸ªå®šä¹‰åŠ¨æ€ç±»å‹çš„å…³é”®å­—</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-comment">//1ã€å£°æ˜ä¸€ä¸ª Object ç±»å‹çš„å˜é‡è°ƒç”¨ substringï¼Œæ­¤æ—¶ä¼šç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸º Object æ²¡æœ‰ substring æ–¹æ³•</span><br><span class="hljs-built_in">Object</span> <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;erdai666&quot;</span>;<br><span class="hljs-built_in">str</span>.<span class="hljs-property">substring</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">//ç¼–è¯‘æŠ¥é”™ï¼šThe method &#x27;substring&#x27; isn&#x27;t defined for the type &#x27;Object&#x27;.</span><br><br><span class="hljs-comment">//2ã€ä½¿ç”¨ dynamic å®šä¹‰ä¸€ä¸ªå˜é‡è°ƒç”¨ substringï¼Œæ­¤æ—¶å¯ä»¥ç»•è¿‡ç¼–è¯‘æ£€æŸ¥</span><br>dynamic <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;erdai666&quot;</span>;<br><span class="hljs-built_in">str</span>.<span class="hljs-property">substring</span>(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨ dynamic å®šä¹‰çš„å˜é‡è°ƒç”¨ç›¸å…³æŒ‡å®šç±»å‹ api æ—¶ï¼Œå› ä¸ºä¼šç»•è¿‡ç¼–è¯‘å™¨æ£€æŸ¥ï¼Œæ‰€ä»¥åˆ«å†™é”™äº†ï¼Œå¦åˆ™è¿è¡Œæ—¶å°±ä¼šæŠ¥æ‰¾ä¸åˆ°æ­¤ apiï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56018a16767142e28c710727a2e9fa39~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç¼–è¯‘å™¨æç¤ºï¼š String ç±»æ²¡æœ‰ subString æ–¹æ³•ã€‚å°±æ˜¯å› ä¸ºæˆ‘ä»¬ api å†™é”™äº†ï¼Œå°† substring å†™æˆäº† subString å¯¼è‡´çš„</p><h3 id="1-2ã€å¸¸é‡"><a href="#1-2ã€å¸¸é‡" class="headerlink" title="1.2ã€å¸¸é‡"></a>1.2ã€å¸¸é‡</h3><p>1ï¼‰ã€Dart ä½¿ç”¨ const å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡</p><p>2ï¼‰ã€Dart å¯ä»¥ä½¿ç”¨ const å…³é”®å­—æ›¿ä»£ var æˆ–åŠ åœ¨ç±»å‹å‰é¢</p><p>3ï¼‰ã€Dart è¿˜å¯ä»¥ä½¿ç”¨ const å…³é”®å­—æ¥åˆ›å»ºä¸€ä¸ªå¸¸é‡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//1ã€Dart ä½¿ç”¨ const å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡</span><br><span class="hljs-comment">//2ã€Dart å¯ä»¥ä½¿ç”¨ const å…³é”®å­—æ›¿ä»£ var æˆ–åŠ åœ¨ç±»å‹å‰é¢</span><br><span class="hljs-keyword">const</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> b = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> aa = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-built_in">bool</span> bb = <span class="hljs-literal">true</span>;<br><br><span class="hljs-comment">//3ã€Dart è¿˜å¯ä»¥ä½¿ç”¨ const å…³é”®å­—æ¥åˆ›å»ºä¸€ä¸ªå¸¸é‡</span><br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå†…å®¹å’Œå¼•ç”¨éƒ½ä¸å¯å˜çš„ list æ•°ç»„</span><br><span class="hljs-keyword">var</span> list = <span class="hljs-keyword">const</span> [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå†…å®¹å’Œå¼•ç”¨éƒ½ä¸å¯å˜çš„ set é›†åˆ</span><br><span class="hljs-keyword">var</span> <span class="hljs-keyword">set</span> = <span class="hljs-keyword">const</span> &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼šé‚£ const å’Œ final æœ‰å•¥å¼‚åŒå‘¢ï¼Ÿ</p><p>ç­”ï¼š</p><p>å¼‚ï¼š</p><p>1ã€final å¯ä»¥ä¸€å¼€å§‹ä¸èµ‹å€¼ï¼Œå¦‚æœèµ‹å€¼äº†åˆ™ä¸å¯å˜ã€‚const ä¸€å¼€å§‹å°±éœ€è¦èµ‹å€¼ä¸”ä¸å¯å˜</p><p>2ã€const å¿…é¡»ç»™ä¸€ä¸ªæ˜ç¡®çš„ç¼–è¯‘å¸¸é‡å€¼ï¼ˆå³ç¼–è¯‘æœŸé—´å°±ç¡®å®šçš„å€¼ï¼‰</p><p>3ã€final å¯ä»¥é€šè¿‡è®¡ç®—æˆ–è€…æ–¹æ³•è·å–ä¸€ä¸ªå€¼ï¼ˆå³è¿è¡ŒæœŸé—´ç¡®å®šçš„å€¼ï¼‰</p><p>4ã€final è¡¨ç¤ºå¼•ç”¨ä¸å¯å˜ï¼Œä½†å†…å®¹æ˜¯å¯å˜çš„ã€‚const è¡¨ç¤ºå†…å®¹å’Œå¼•ç”¨éƒ½ä¸å¯å˜</p><p>åŒï¼š</p><p>1ã€finalï¼Œconst å…³é”®å­—éƒ½å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€final å¯ä»¥ä¸€å¼€å§‹ä¸èµ‹å€¼ï¼Œå¦‚æœèµ‹å€¼äº†åˆ™ä¸å¯å˜ã€‚const ä¸€å¼€å§‹å°±éœ€è¦èµ‹å€¼ä¸”ä¸å¯å˜<br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€const å¿…é¡»ç»™ä¸€ä¸ªæ˜ç¡®çš„ç¼–è¯‘å¸¸é‡å€¼ï¼ˆå³ç¼–è¯‘æœŸé—´å°±ç¡®å®šçš„å€¼ï¼‰<br><span class="hljs-regexp">//</span><span class="hljs-number">3</span>ã€final å¯ä»¥é€šè¿‡è®¡ç®—/æ–¹æ³•è·å–ä¸€ä¸ªå€¼ï¼ˆå³è¿è¡ŒæœŸé—´ç¡®å®šçš„å€¼ï¼‰<br><br>final a;<span class="hljs-regexp">//</span>ç¼–è¯‘é€šè¿‡<br>a = <span class="hljs-number">10</span>;<span class="hljs-regexp">//</span>ç¼–è¯‘é€šè¿‡<br><br>const b;<span class="hljs-regexp">//</span>ç¼–è¯‘æŠ¥é”™<br>b = <span class="hljs-number">10</span>;<span class="hljs-regexp">//</span>ç¼–è¯‘æŠ¥é”™<br><br><span class="hljs-regexp">//</span><span class="hljs-number">4</span>ã€final è¡¨ç¤ºå¼•ç”¨ä¸å¯å˜ï¼Œä½†å†…å®¹æ˜¯å¯å˜çš„ã€‚const è¡¨ç¤ºå†…å®¹å’Œå¼•ç”¨éƒ½ä¸å¯å˜<br>final set = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;;<br>set.add(<span class="hljs-number">4</span>);<br><br>var list = const [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br>list.add(<span class="hljs-number">4</span>);<span class="hljs-regexp">//</span>è¿è¡ŒæŠ¥é”™ï¼Œconst list ä¸å¯æ–°å¢å…ƒç´ <br></code></pre></td></tr></table></figure><h3 id="1-3ã€æ–¹æ³•"><a href="#1-3ã€æ–¹æ³•" class="headerlink" title="1.3ã€æ–¹æ³•"></a>1.3ã€æ–¹æ³•</h3><h4 id="1-3-1ã€æ–¹æ³•å®šä¹‰"><a href="#1-3-1ã€æ–¹æ³•å®šä¹‰" class="headerlink" title="1.3.1ã€æ–¹æ³•å®šä¹‰"></a>1.3.1ã€æ–¹æ³•å®šä¹‰</h4><p>1ï¼‰ã€æ–¹æ³•å’Œå‡½æ•°æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨ Java ä¸­æˆ‘ä»¬ä¹ æƒ¯å«æ–¹æ³• (method)ã€‚åœ¨ Kotlin ä¸­æˆ‘ä»¬ä¹ æƒ¯å«å‡½æ•° (function)ã€‚å›  Dart æ›´åƒ Java ï¼Œå› æ­¤è¿™é‡Œå»ºè®®å¤§å®¶ä¹Ÿå«æ–¹æ³• (method)</p><p>2ï¼‰ã€æ–¹æ³•æ˜¯è¿è¡Œä»£ç çš„è½½ä½“ï¼Œåƒæˆ‘ä»¬ä½¿ç”¨è¿‡çš„ main æ–¹æ³•å°±æ˜¯ä¸€ä¸ªæ–¹æ³•</p><p>Dart ä¸­å®šä¹‰æ–¹æ³•çš„è¯­æ³•è§„åˆ™ï¼š</p><blockquote><p>è¿”å›å‚æ•°ç±»å‹ æ–¹æ³•å(å‚æ•°1,å‚æ•°2,å‚æ•°3â€¦) {</p><p>æ–¹æ³•ä½“</p><p>}</p></blockquote><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//1ã€Dart å†™æ³•1ï¼šæ–¹æ³•çš„å‚æ•°ä½¿ç”¨ï¼švar å‚æ•°å</span><br>String <span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">var</span> <span class="hljs-params">name</span>,<span class="hljs-params">var</span> <span class="hljs-params">age</span>)</span>&#123;<br>  return <span class="hljs-string">&quot;erdai666&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">//2ã€Dart å†™æ³•2ï¼šæ–¹æ³•çš„å‚æ•°ä½¿ç”¨ï¼šç±»å‹ å‚æ•°å</span><br>String <span class="hljs-keyword">method</span><span class="hljs-constructor">Name(String <span class="hljs-params">name</span>,<span class="hljs-params">int</span> <span class="hljs-params">age</span>)</span>&#123;<br>  return <span class="hljs-string">&quot;erdai666&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">//3ã€Dart å†™æ³•3ï¼šæ–¹æ³•çš„è¿”å›ç±»å‹å¯çœç•¥ï¼Œæ ¹æ®æ–¹æ³•ä½“æœ€åä¸€è¡Œä»£ç è¿›è¡Œè¿”å›ç±»å‹æ¨æ–­</span><br><span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">var</span> <span class="hljs-params">name</span>,<span class="hljs-params">var</span> <span class="hljs-params">age</span>)</span>&#123;<br>  return <span class="hljs-string">&quot;erdai666&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">//4ã€å¦‚æœæ²¡æœ‰å†™è¿”å›ç±»å‹ï¼Œä¸”æ–¹æ³•ä½“æœ€åä¸€è¡Œä»£ç æ²¡æœ‰æ˜ç¡®å†™è¿”å›è¯­å¥ï¼Œé‚£ä¹ˆé»˜è®¤æ‰§è¡Œï¼šreturn null</span><br><span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">var</span> <span class="hljs-params">name</span>,<span class="hljs-params">var</span> <span class="hljs-params">age</span>)</span>&#123;<br>  <br>&#125;<br><br><span class="hljs-comment">//5ã€Dart å†™æ³•4ï¼šæ— è¿”å›å€¼ä½¿ç”¨ void å…³é”®å­—</span><br>void <span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">var</span> <span class="hljs-params">name</span>,<span class="hljs-params">var</span> <span class="hljs-params">age</span>)</span>&#123;<br>  <br>&#125;<br><br><span class="hljs-comment">//6ã€Dart å†™æ³•5ï¼šå¦‚æœæ–¹æ³•ä½“åªæœ‰ä¸€è¡Œè¡¨è¾¾å¼ï¼Œå¯å°†å…¶æ”¹æˆå•è¡Œæ–¹æ³•æ ·å¼ï¼Œæ–¹æ³•åå’Œæ–¹æ³•ä½“ç”¨ =&gt; è¿æ¥</span><br>String <span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">var</span> <span class="hljs-params">name</span>,<span class="hljs-params">var</span> <span class="hljs-params">age</span>)</span> =&gt; <span class="hljs-string">&quot;erdai666&quot;</span>;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•è¯­æ³•è§£é‡Šï¼š</p><ul><li><p>æ‰€æœ‰æ–¹æ³•éƒ½æœ‰è¿”å›å€¼ï¼Œå³ä½¿è¿”å›å€¼æ˜¯ void</p></li><li><p>æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œå¯å†™å¯ä¸å†™ã€‚å¦‚æœä¸å†™ï¼Œä¼šæ ¹æ®æ–¹æ³•ä½“é‡Œé¢æœ€åä¸€è¡Œä»£ç è¿›è¡Œç±»å‹æ¨æ–­</p></li><li><p>å¦‚æœæ²¡æœ‰å†™è¿”å›ç±»å‹ï¼Œä¸”æ–¹æ³•ä½“æœ€åä¸€è¡Œä»£ç æ²¡æœ‰æ˜ç¡®å†™è¿”å›è¯­å¥ï¼Œé‚£ä¹ˆé»˜è®¤æ‰§è¡Œï¼šreturn null</p></li><li><p>æ–¹æ³•åç§°å¯ä»¥éšä¾¿å–ï¼Œå°±åƒ Java ï¼ŒKotlin é‡Œé¢å®šä¹‰æ–¹æ³•åä¸€æ ·</p></li><li><p>æ–¹æ³•åé‡Œé¢çš„å‚æ•°å¯ä»¥æœ‰ä»»æ„å¤šä¸ªï¼Œå‚æ•°çš„å£°æ˜æ ¼å¼æœ‰ä¸¤ç§ï¼š</p><blockquote><p>1ã€var å‚æ•°å</p><p>2ã€ç±»å‹ å‚æ•°å</p></blockquote></li></ul><!----><ul><li>å¦‚æœæ–¹æ³•ä½“åªæœ‰ä¸€è¡Œè¡¨è¾¾å¼ï¼Œå¯å°†å…¶æ”¹æˆå•è¡Œæ–¹æ³•æ ·å¼ï¼Œæ–¹æ³•åå’Œæ–¹æ³•ä½“ç”¨ &#x3D;&gt; è¿æ¥</li></ul><p><strong>å°å»ºè®®</strong>ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå»ºè®®æŠŠè¿”å›ç±»å‹ç»™å†™å‡ºæ¥ï¼Œå¯è¯»æ€§å¼º</p><h4 id="1-3-2ã€å¯é€‰å‚æ•°-amp-å‘½åå‚æ•°-amp-é»˜è®¤å‚æ•°"><a href="#1-3-2ã€å¯é€‰å‚æ•°-amp-å‘½åå‚æ•°-amp-é»˜è®¤å‚æ•°" class="headerlink" title="1.3.2ã€å¯é€‰å‚æ•° &amp; å‘½åå‚æ•° &amp; é»˜è®¤å‚æ•°"></a>1.3.2ã€å¯é€‰å‚æ•° &amp; å‘½åå‚æ•° &amp; é»˜è®¤å‚æ•°</h4><h5 id="å¯é€‰å‚æ•°"><a href="#å¯é€‰å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°"></a>å¯é€‰å‚æ•°</h5><p>1ï¼‰ã€å¯é€‰å‚æ•°é¡¾åæ€ä¹‰å°±æ˜¯å¯ä»¥é€‰æ‹©çš„å‚æ•°ï¼Œä½¿ç”¨ [] è¡¨ç¤ºå¯é€‰çš„ä½ç½®å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">void</span> optionFunction(<span class="hljs-keyword">var</span> value1,[<span class="hljs-keyword">var</span> value2 = <span class="hljs-number">2</span>,<span class="hljs-keyword">var</span> value3 = <span class="hljs-number">3</span>])&#123;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;<span class="hljs-subst">$value1</span> <span class="hljs-subst">$value2</span> <span class="hljs-subst">$value3</span>&#x27;</span>);<br>&#125;<br><br><span class="hljs-keyword">void</span> main()&#123;<br>  optionFunction(<span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>ç–‘é—®ï¼šå¦‚æœæˆ‘åªæƒ³ç»™ value1 å’Œ value3 ä¼ å‚ï¼šå¯ä»¥åšåˆ°å—ï¼Ÿ</p><p>ç­”ï¼šä¸èƒ½ã€‚å¦‚æœæƒ³åšåˆ°ï¼Œå°±éœ€è¦ä½¿ç”¨å‘½åå‚æ•°</p><h5 id="å‘½åå‚æ•°"><a href="#å‘½åå‚æ•°" class="headerlink" title="å‘½åå‚æ•°"></a>å‘½åå‚æ•°</h5><p>1ï¼‰ã€å‘½åå‚æ•°é»˜è®¤éƒ½ä¸ºå¯é€‰å‚æ•°ã€‚å¦‚æœæ˜¯å¿…è¦å‚æ•°ï¼Œåˆ™éœ€è¦ç”¨ required å…³é”®å­—ï¼Œä¸”ä½¿ç”¨ required ä¿®é¥°çš„å‚æ•°ä¸èƒ½æä¾›é»˜è®¤å€¼</p><p>2ï¼‰ã€ä½¿ç”¨ {} æ¥æŒ‡å®šå‘½åå‚æ•°</p><p>3ï¼‰ã€å‘½åå‚æ•°å¿…é¡»ä»¥ key: value çš„å½¢å¼å»æŒ‡å®š</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1ã€ä½¿ç”¨ &#123;&#125; æ¥æŒ‡å®šå‘½åå‚æ•°</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">optionFunction</span>(<span class="hljs-params"><span class="hljs-keyword">var</span> value1,&#123;<span class="hljs-keyword">var</span> value2 = <span class="hljs-number">2</span>,<span class="hljs-keyword">var</span> value3 = <span class="hljs-number">3</span>&#125;</span>)&#123;<br>  <span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;$value1 $value2 $value3&#x27;</span>);<br>&#125;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">optionFunction</span>(<span class="hljs-number">1</span>,<span class="hljs-attr">value3</span>: <span class="hljs-number">4</span>);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span><br><br> <br><span class="hljs-comment">//2ã€å¦‚æœæ˜¯å¿…è¦å‚æ•°ï¼Œåˆ™éœ€è¦ç”¨ required å…³é”®å­—ï¼Œä¸”ä½¿ç”¨ required ä¿®é¥°çš„å‚æ•°ä¸èƒ½æä¾›é»˜è®¤å€¼</span><br><span class="hljs-comment">//æ­¤æ—¶ value2 ä¸ºå¿…ä¼ çš„å‚æ•°</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">optionFunction</span>(<span class="hljs-params"><span class="hljs-keyword">var</span> value1,&#123;required <span class="hljs-keyword">var</span> value2,<span class="hljs-keyword">var</span> value3 = <span class="hljs-number">3</span>&#125;</span>)&#123;<br>  <span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;$value1 $value2 $value3&#x27;</span>);<br>&#125;  <br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">optionFunction</span>(<span class="hljs-number">1</span>,<span class="hljs-attr">value2</span>: <span class="hljs-number">4</span>);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h5 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h5><p>å¦‚ä¸Šæˆ‘ä»¬åˆšæ‰ç»™å¯é€‰å‚æ•°å’Œå‘½åå‚æ•°æä¾›çš„é»˜è®¤å€¼</p><p>1ï¼‰ã€é»˜è®¤å‚æ•°å°±æ˜¯ç»™å¯é€‰å‚æ•°æä¾›é»˜è®¤å€¼ï¼Œä»¥ä¾¿åœ¨æœªæä¾›ç›¸åº”å®å‚æ—¶ä½¿ç”¨</p><p>2ï¼‰ã€é»˜è®¤å€¼å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸é‡</p><p>3ï¼‰ã€å¦‚æœå¯é€‰å‚æ•°æ²¡æœ‰æä¾›é»˜è®¤å€¼ï¼Œé‚£é»˜è®¤å€¼å°±ä¸º null</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1ã€å¦‚æœå¯é€‰å‚æ•°æ²¡æœ‰æä¾›é»˜è®¤å€¼ï¼Œé‚£é»˜è®¤å€¼å°±ä¸º null</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">optionFunction</span>(<span class="hljs-params"><span class="hljs-keyword">var</span> value1,&#123;<span class="hljs-keyword">var</span> value2 = <span class="hljs-number">2</span>,<span class="hljs-keyword">var</span> value3&#125;</span>)&#123;<br>  <span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;$value1 $value2 $value3&#x27;</span>);<br>&#125;<br> <br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">optionFunction</span>(<span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><h4 id="1-3-3ã€åŒ¿åæ–¹æ³•ï¼ˆåˆç§°é—­åŒ…ï¼‰"><a href="#1-3-3ã€åŒ¿åæ–¹æ³•ï¼ˆåˆç§°é—­åŒ…ï¼‰" class="headerlink" title="1.3.3ã€åŒ¿åæ–¹æ³•ï¼ˆåˆç§°é—­åŒ…ï¼‰"></a>1.3.3ã€åŒ¿åæ–¹æ³•ï¼ˆåˆç§°é—­åŒ…ï¼‰</h4><p>1ï¼‰ã€åŒ¿åæ–¹æ³•é¡¾åæ€ä¹‰å°±æ˜¯æ²¡æœ‰åå­—çš„æ–¹æ³•ï¼Œè¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-comment">//1ã€æ–¹å¼ä¸€ï¼š</span><br><span class="hljs-comment">(var å‚æ•°å)</span>&#123;<br>   æ–¹æ³•ä½“<br>&#125;<br><br><span class="hljs-comment">//2ã€æ–¹å¼äºŒï¼š</span><br><span class="hljs-comment">(ç±»å‹ å‚æ•°å)</span>&#123;<br>   æ–¹æ³•ä½“<br>&#125;<br><br><span class="hljs-comment">//3ã€æ–¹å¼ä¸‰ï¼šå¦‚æœæ–¹æ³•ä½“åªæœ‰ä¸€è¡Œä»£ç å¯ä»¥å°†åŒ¿åæ–¹æ³•ç”¨å•è¡Œè¡¨ç¤º</span><br><span class="hljs-comment">(var å‚æ•°å)</span> =&gt; æ–¹æ³•ä½“<br><span class="hljs-comment">(ç±»å‹ å‚æ•°å)</span> =&gt; æ–¹æ³•ä½“<br>  <br><span class="hljs-comment">//4ã€æ–¹å¼å››ï¼šçœç•¥ var æˆ–ç±»å‹</span><br><span class="hljs-comment">(å‚æ•°å)</span>&#123;<br>   æ–¹æ³•ä½“<br>&#125;<br><br><span class="hljs-comment">(å‚æ•°å)</span> =&gt; æ–¹æ³•ä½“<br></code></pre></td></tr></table></figure><p>2ï¼‰ã€åŒ¿åæ–¹æ³•ä¸€èˆ¬ä¼šå½“åšå‚æ•°æˆ–èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1ã€åŒ¿åæ–¹æ³•å½“ä½œå‚æ•°ä½¿ç”¨</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">const</span> list = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br>  list.<span class="hljs-title function_">forEach</span>((element)&#123;<br>    <span class="hljs-title function_">print</span>(element);<br>  &#125;);<br>  <span class="hljs-comment">//å¯ç®€åŒ–æˆå¦‚ä¸‹å†™æ³•ï¼š</span><br>  <span class="hljs-comment">//list.forEach((element) =&gt; print(element));</span><br>&#125;<br><br><span class="hljs-comment">//2ã€åŒ¿åæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">const</span> list = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br>  <span class="hljs-keyword">var</span> <span class="hljs-keyword">function</span> = (element)&#123;<br>    <span class="hljs-title function_">print</span>(element);<br>  &#125;;<br>  <span class="hljs-comment">//å¯ç®€åŒ–æˆå¦‚ä¸‹å†™æ³•ï¼š</span><br>  <span class="hljs-comment">//var function = (element) =&gt;  print(element);</span><br>  list.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>3ï¼‰ã€åŒ¿åæ–¹æ³•ç«‹å³æ‰§è¡Œ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//1ã€æ–¹å¼1</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>()</span>&#123;<br>  <span class="hljs-keyword">var</span> func = ()&#123;<br>    print(<span class="hljs-string">&#x27;666&#x27;</span>);<br>  &#125;;<br>  (func)();<br>&#125;<br><br><span class="hljs-comment">//2ã€æ–¹å¼2</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>()</span>&#123;<br>  (()&#123;<br>    print(<span class="hljs-string">&#x27;666&#x27;</span>);<br>  &#125;)();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">666</span><br></code></pre></td></tr></table></figure><p>4ï¼‰ã€åŒ¿åæ–¹æ³•å†…éƒ¨å¯ä»¥å¼•ç”¨åŒ…å«è¯¥åŒ¿åæ–¹æ³•çš„æ‰€æœ‰å±‚çº§ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œä¸åŒ¿åæ–¹æ³•è°ƒç”¨çš„ä½ç½®æ— å…³ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//makeAdder è¿”å›ä¸€ä¸ªåŒ¿åæ–¹æ³•</span><br><span class="hljs-title class_">Function</span> <span class="hljs-title function_">makeAdder</span>(<span class="hljs-params">num addBy</span>)&#123;<br>  <span class="hljs-comment">//åŒ¿åæ–¹æ³•è®¿é—® addBy å‚æ•°</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">num i</span>) =&gt;</span> addBy + i;<br>&#125;<br><br><span class="hljs-keyword">void</span>  <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªåŒ¿åæ–¹æ³•ï¼Œä¼ å…¥å®å‚ä¸º 2</span><br>  <span class="hljs-keyword">var</span> add1 = <span class="hljs-title function_">makeAdder</span>(<span class="hljs-number">2</span>);<br>  <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªåŒ¿åæ–¹æ³•ï¼Œä¼ å…¥å®å‚ä¸º 3</span><br>  <span class="hljs-keyword">var</span> add2 = <span class="hljs-title function_">makeAdder</span>(<span class="hljs-number">3</span>);<br><br>  <span class="hljs-comment">//åˆ†åˆ«è°ƒç”¨ä¸¤ä¸ªåŒ¿åæ–¹æ³•ï¼Œå¹¶æ‰“å°ç»“æœ</span><br>  <span class="hljs-title function_">print</span>(<span class="hljs-title function_">add1</span>(<span class="hljs-number">3</span>));<br>  <span class="hljs-title function_">print</span>(<span class="hljs-title function_">add2</span>(<span class="hljs-number">4</span>));<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">5</span><br><span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šDart ä¸­çš„æ–¹æ³•ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œå¯¹åº” Function ç±»ï¼Œæ‰€ä»¥æ–¹æ³•å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªæ–¹æ³•</p><h4 id="1-3-4ã€é™æ€æ–¹æ³•"><a href="#1-3-4ã€é™æ€æ–¹æ³•" class="headerlink" title="1.3.4ã€é™æ€æ–¹æ³•"></a>1.3.4ã€é™æ€æ–¹æ³•</h4><p>1ï¼‰ã€ä½¿ç”¨ static å…³é”®å­—ä¿®é¥°çš„æ–¹æ³•å³ä¸ºé™æ€æ–¹æ³•ï¼Œå› é™æ€æ–¹æ³•ä¸å±äºç±»å®ä¾‹ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•è®¿é—®ç±»æˆå‘˜</p><p>2ï¼‰ã€é™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨ç±»åç›´æ¥è°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br>  <span class="hljs-keyword">static</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">staticFunction1</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>  &#125;<br><br>  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">staticFunction2</span>(<span class="hljs-params"></span>)&#123;<br> <br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title class_">Test</span>.<span class="hljs-title function_">staticFunction1</span>();<br>  <span class="hljs-title class_">Test</span>.<span class="hljs-title function_">staticFunction2</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äºŒã€åŸºæœ¬ç±»å‹å’Œè¿ç®—ç¬¦"><a href="#äºŒã€åŸºæœ¬ç±»å‹å’Œè¿ç®—ç¬¦" class="headerlink" title="äºŒã€åŸºæœ¬ç±»å‹å’Œè¿ç®—ç¬¦"></a>äºŒã€åŸºæœ¬ç±»å‹å’Œè¿ç®—ç¬¦</h2><h3 id="2-1ã€åŸºæœ¬ç±»å‹"><a href="#2-1ã€åŸºæœ¬ç±»å‹" class="headerlink" title="2.1ã€åŸºæœ¬ç±»å‹"></a>2.1ã€åŸºæœ¬ç±»å‹</h3><p>å‰é¢æåˆ°è¿‡ï¼šDart å®Œå…¨æŠ›å¼ƒäº† Java ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå…¨éƒ¨éƒ½æ˜¯å¯¹è±¡æ•°æ®ç±»å‹ã€‚å› æ­¤æˆ‘ä»¬è¿™é‡Œè®²çš„åŸºæœ¬ç±»å‹ï¼Œä¹Ÿæ˜¯å¯¹è±¡æ•°æ®ç±»å‹ï¼Œåªä¸è¿‡æ˜¯ Dart é»˜è®¤ç»™æˆ‘ä»¬æä¾›çš„</p><h4 id="2-1-1ã€æ•°å­—ç±»å‹"><a href="#2-1-1ã€æ•°å­—ç±»å‹" class="headerlink" title="2.1.1ã€æ•°å­—ç±»å‹"></a>2.1.1ã€æ•°å­—ç±»å‹</h4><p>1ï¼‰ã€åœ¨dartè¯­è¨€ä¸­æ•°å­—ç±»å‹ä¸»è¦æœ‰ä¸‹é¢ä¸‰ç§ï¼š</p><blockquote><p>intï¼šæ•´æ•°ç±»å‹</p><p>doubleï¼šæµ®ç‚¹æ•°ç±»å‹</p><p>numï¼šæ•°å­—ç±»å‹ï¼Œintå’Œdoubleéƒ½æ˜¯å®ƒçš„å­ç±»</p></blockquote><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs abnf">var x <span class="hljs-operator">=</span> <span class="hljs-number">1</span><span class="hljs-comment">;   // åˆå§‹åŒ–ä¸º int ç±»å‹</span><br>var y <span class="hljs-operator">=</span> <span class="hljs-number">1.1</span><span class="hljs-comment">;  // åŒ…å«å°æ•°ï¼Œåˆå§‹åŒ–ä¸º double</span><br><br>// æ˜ç¡®æŒ‡å®šæ•°æ®ç±»å‹<br>double z <span class="hljs-operator">=</span> <span class="hljs-number">1</span><span class="hljs-comment">;</span><br>num d <span class="hljs-operator">=</span> <span class="hljs-number">100</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>2ï¼‰ã€æ•°å­—ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹äº’ç›¸è½¬æ¢</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// å°† String ç±»å‹è½¬æ¢æˆ int ç±»å‹</span><br><span class="hljs-keyword">var</span> one = <span class="hljs-built_in">int</span>.parse(<span class="hljs-string">&#x27;1&#x27;</span>);<br><br><span class="hljs-comment">// å°† String ç±»å‹è½¬æ¢æˆ double ç±»å‹</span><br><span class="hljs-keyword">var</span> onePointOne = <span class="hljs-built_in">double</span>.parse(<span class="hljs-string">&#x27;1.1&#x27;</span>);<br><br><br><span class="hljs-comment">// å°† int ç±»å‹è½¬æ¢æˆ String ç±»å‹</span><br><span class="hljs-built_in">String</span> oneAsString = <span class="hljs-number">1.</span>toString();<br><br><span class="hljs-comment">// å°† double ç±»å‹è½¬æ¢æˆ String ç±»å‹, ä¿ç•™ä¸¤ä½å°æ•°</span><br><span class="hljs-built_in">String</span> piAsString = <span class="hljs-number">3.14159</span>.toStringAsFixed(<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><h4 id="2-1-2ã€å­—ç¬¦ä¸²ç±»å‹"><a href="#2-1-2ã€å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="2.1.2ã€å­—ç¬¦ä¸²ç±»å‹"></a>2.1.2ã€å­—ç¬¦ä¸²ç±»å‹</h4><p>1ï¼‰ã€å­—ç¬¦ä¸²ç±»å‹ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·åŒ…è£¹å­—ç¬¦ä¸²éƒ½å¯ä»¥</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span> s1 = <span class="hljs-string">&#x27;Hello&#x27;</span>;<br><span class="hljs-keyword">var</span> s2 = <span class="hljs-string">&quot;erdai&quot;</span>;<br></code></pre></td></tr></table></figure><h5 id="2-1-2-1ã€å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼"><a href="#2-1-2-1ã€å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼" class="headerlink" title="2.1.2.1ã€å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼"></a>2.1.2.1ã€å­—ç¬¦ä¸²å†…åµŒè¡¨è¾¾å¼</h5><p>1ï¼‰ã€Dart æ”¯æŒåœ¨å­—ç¬¦ä¸²ä¸­å†…åµŒå˜é‡ï¼Œæˆ–è€…å¹²è„†å†…åµŒè¡¨è¾¾å¼</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// å†…åµŒå˜é‡</span><br><span class="hljs-keyword">var</span> s3 = <span class="hljs-string">&#x27;ä½ å¥½: <span class="hljs-subst">$s2</span>&#x27;</span>;<br><br><span class="hljs-comment">// å†…åµŒè¡¨è¾¾å¼</span><br><span class="hljs-keyword">var</span> s4 = <span class="hljs-string">&quot;è½¬å¤§å†™ï¼š<span class="hljs-subst">$&#123;s2.toUpperCase()&#125;</span>&quot;</span>;<br></code></pre></td></tr></table></figure><h5 id="2-1-2-2ã€å­—ç¬¦ä¸²ç›¸åŠ ï¼ˆè¿æ¥ï¼‰"><a href="#2-1-2-2ã€å­—ç¬¦ä¸²ç›¸åŠ ï¼ˆè¿æ¥ï¼‰" class="headerlink" title="2.1.2.2ã€å­—ç¬¦ä¸²ç›¸åŠ ï¼ˆè¿æ¥ï¼‰"></a>2.1.2.2ã€å­—ç¬¦ä¸²ç›¸åŠ ï¼ˆè¿æ¥ï¼‰</h5><p>å­—ç¬¦ä¸²ç›¸åŠ ï¼Œå°±æ˜¯å°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œdart è¯­è¨€ä¸­æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°å­—ç¬¦ä¸²è¿æ¥ï¼š</p><p>1ï¼‰ã€è¿ç»­çš„å­—é¢å­—ç¬¦ä¸²å®šä¹‰ï¼Œé»˜è®¤ä¼šå°†å­—ç¬¦ä¸²è¿æ¥èµ·æ¥</p><p>2ï¼‰ã€ä½¿ç”¨ + åŠ å·è¿æ¥å­—ç¬¦ä¸²</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">void</span> main()&#123;<br>  <span class="hljs-comment">//1ã€è¿ç»­çš„å­—é¢å­—ç¬¦ä¸²å®šä¹‰ï¼Œé»˜è®¤ä¼šå°†å­—ç¬¦ä¸²è¿æ¥èµ·æ¥</span><br>  <span class="hljs-built_in">var</span> str1 = <span class="hljs-string">&quot;erdai&quot;</span> <span class="hljs-string">&quot;666&quot;</span>;<br>  <span class="hljs-comment">//2ã€ä½¿ç”¨ + åŠ å·è¿æ¥å­—ç¬¦ä¸²</span><br>  <span class="hljs-built_in">var</span> str2 = <span class="hljs-string">&quot;erdai&quot;</span> + <span class="hljs-string">&quot;666&quot;</span>;<br>  <span class="hljs-keyword">print</span>(str1);<br>  <span class="hljs-keyword">print</span>(str2);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>erdai666<br>erdai666<br></code></pre></td></tr></table></figure><h5 id="2-1-2-3ã€å¤šè¡Œå­—ç¬¦ä¸²å®šä¹‰"><a href="#2-1-2-3ã€å¤šè¡Œå­—ç¬¦ä¸²å®šä¹‰" class="headerlink" title="2.1.2.3ã€å¤šè¡Œå­—ç¬¦ä¸²å®šä¹‰"></a>2.1.2.3ã€å¤šè¡Œå­—ç¬¦ä¸²å®šä¹‰</h5><p>1ï¼‰ã€ä½¿ç”¨ <strong>â€˜â€™â€™</strong> ä¸‰å¼•å·å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä¿ç•™å­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk">void main() &#123;<br>  var s1 = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">è¿™æ˜¯ç¬¬ä¸€è¡Œå­—ç¬¦ä¸²ã€‚</span><br><span class="hljs-string">è¿™æ˜¯ç¬¬äºŒè¡Œå­—ç¬¦ä¸²ã€‚</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span>;<br>  print(s1);<br>&#125;<br><br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br>è¿™æ˜¯ç¬¬ä¸€è¡Œå­—ç¬¦ä¸²ã€‚<br>è¿™æ˜¯ç¬¬äºŒè¡Œå­—ç¬¦ä¸²ã€‚<br></code></pre></td></tr></table></figure><h4 id="2-1-3ã€å¸ƒå°”ç±»å‹"><a href="#2-1-3ã€å¸ƒå°”ç±»å‹" class="headerlink" title="2.1.3ã€å¸ƒå°”ç±»å‹"></a>2.1.3ã€å¸ƒå°”ç±»å‹</h4><p>å¸ƒå°”ç±»å‹å°±ä¸¤ç§å€¼ï¼štrue æˆ–è€… falseï¼Œ åˆ†åˆ«è¡¨ç¤ºçœŸå’Œå‡</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">var isOk <span class="hljs-operator">=</span> false<span class="hljs-comment">;</span><br>bool status <span class="hljs-operator">=</span> true<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><h4 id="2-1-4ã€æšä¸¾ç±»å‹"><a href="#2-1-4ã€æšä¸¾ç±»å‹" class="headerlink" title="2.1.4ã€æšä¸¾ç±»å‹"></a>2.1.4ã€æšä¸¾ç±»å‹</h4><p>1ï¼‰ã€æšä¸¾ç±»å‹å…¶å®å°±æ˜¯ä¸€ç»„å¸¸é‡çš„é›†åˆï¼Œéƒ½æ˜¯åªè¯»çš„</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-comment">// ä½¿ç”¨ enum å…³é”®å­—ï¼Œå®šä¹‰ Color æšä¸¾ç±»å‹ï¼ŒColor åŒ…å«äº†3ä¸ªå¸¸é‡ redã€greenã€blue</span><br><span class="hljs-keyword">enum</span> Color &#123; <span class="hljs-built_in">red</span>, <span class="hljs-built_in">green</span>, <span class="hljs-built_in">blue</span> &#125;<br><br><span class="hljs-comment">// è¯»å– Color.blue æšä¸¾å¸¸é‡</span><br>var aColor = Color.<span class="hljs-property">blue</span>;<br><br><span class="hljs-comment">// ä½¿ç”¨ switch è¯­å¥åˆ¤æ–­ aColor å˜é‡å€¼</span><br><span class="hljs-title function_">switch</span> (aColor) &#123;<br>  <span class="hljs-keyword">case</span> Color.<span class="hljs-property">red</span>:  <span class="hljs-comment">// ä½¿ç”¨æšä¸¾å¸¸é‡ä½œä¸ºæ£€æµ‹æ¡ä»¶ï¼ŒaColor == Color.red åˆ™æˆç«‹ã€‚</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Red as roses!&#x27;</span>);<br>    <span class="hljs-keyword">break</span>;<br>  <span class="hljs-keyword">case</span> Color.<span class="hljs-property">green</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Green as grass!&#x27;</span>);<br>    <span class="hljs-keyword">break</span>;<br>  <span class="hljs-keyword">default</span>: <span class="hljs-comment">// é»˜è®¤æ¡ä»¶</span><br>    <span class="hljs-built_in">print</span>(aColor); <span class="hljs-comment">// &#x27;Color.blue&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>2ï¼‰ã€æšä¸¾å¸¸é‡éƒ½æœ‰ä¸€ä¸ªä» 0 å¼€å§‹æ•°å­—ç¼–å·ï¼Œç¬¬ä¸€ä¸ªå¸¸é‡æ˜¯ 0ï¼Œç¬¬äºŒä¸ªæ˜¯ 1ï¼Œä»¥æ­¤ç±»æ¨</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">void</span> main() &#123;<br>  <span class="hljs-keyword">print</span>(Color.green.<span class="hljs-keyword">index</span>);<br>  <span class="hljs-keyword">print</span>(Color.blue.<span class="hljs-keyword">index</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="2-2ã€è¿ç®—ç¬¦"><a href="#2-2ã€è¿ç®—ç¬¦" class="headerlink" title="2.2ã€è¿ç®—ç¬¦"></a>2.2ã€è¿ç®—ç¬¦</h3><p>è¿ç®—ç¬¦è¿™ä¸€å—ï¼Œé™¤äº†çº§è”è°ƒç”¨æ˜¯ Java å’Œ Kotlin æ‰€æ²¡æœ‰çš„ï¼Œå…¶ä»–è¿ç®—ç¬¦åŸºæœ¬ç±»ä¼¼</p><h4 id="2-2-1ã€çº§è”è°ƒç”¨"><a href="#2-2-1ã€çº§è”è°ƒç”¨" class="headerlink" title="2.2.1ã€çº§è”è°ƒç”¨"></a>2.2.1ã€çº§è”è°ƒç”¨</h4><p>1ï¼‰ã€çº§è”è°ƒç”¨å°±æ˜¯é€šè¿‡ <strong>.. (ä¸¤ä¸ªè¿ç»­çš„ç‚¹)</strong> è¿ç»­è°ƒç”¨å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk">querySelector(<span class="hljs-string">&#x27;#confirm&#x27;</span>) <span class="hljs-regexp">//</span> é€šè¿‡ querySelector æŸ¥è¯¢è·å¾—ä¸€ä¸ªå¯¹è±¡<br>  ..text = <span class="hljs-string">&#x27;Confirm&#x27;</span> <span class="hljs-regexp">//</span> è®¾ç½®å¯¹è±¡ text å±æ€§<br>  ..classes.add(<span class="hljs-string">&#x27;important&#x27;</span>);  <span class="hljs-regexp">//</span> è°ƒç”¨å¯¹è±¡çš„ classes å±æ€§çš„ add å‡½æ•°<br><br><span class="hljs-regexp">//</span>ç­‰ä»·å¦‚ä¸‹ä»£ç <br><br><span class="hljs-regexp">//</span> é€šè¿‡ querySelector æŸ¥è¯¢è·å¾—ä¸€ä¸ªå¯¹è±¡<br>var button = querySelector(<span class="hljs-string">&#x27;#confirm&#x27;</span>);<br><span class="hljs-regexp">//</span> è®¾ç½®å¯¹è±¡ text å±æ€§<br>button.text = <span class="hljs-string">&#x27;Confirm&#x27;</span>;<br><span class="hljs-regexp">//</span> è°ƒç”¨å¯¹è±¡çš„ classes å±æ€§çš„ add å‡½æ•°<br>button.classes.add(<span class="hljs-string">&#x27;important&#x27;</span>);<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šå¤§å®¶å…ˆå…³æ³¨è¯­æ³•å³å¯</p><h4 id="2-2-2ã€èµ‹å€¼è¿ç®—ç¬¦"><a href="#2-2-2ã€èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="2.2.2ã€èµ‹å€¼è¿ç®—ç¬¦"></a>2.2.2ã€èµ‹å€¼è¿ç®—ç¬¦</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€ä½¿ç”¨ = è¿›è¡Œèµ‹å€¼<br>a = <span class="hljs-number">100</span>;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€å¤åˆèµ‹å€¼è¿ç®—ç¬¦<br>a *= <span class="hljs-number">3</span>; <span class="hljs-regexp">//</span> ç­‰ä»·äº a = a * <span class="hljs-number">3</span><br>a -= <span class="hljs-number">3</span>; <span class="hljs-regexp">//</span> ç­‰ä»·äº a = a - <span class="hljs-number">3</span><br>a += <span class="hljs-number">3</span>; <span class="hljs-regexp">//</span> ç­‰ä»·äº a = a + <span class="hljs-number">3</span><br>a <span class="hljs-regexp">/= 3; /</span><span class="hljs-regexp">/ ç­‰ä»·äº a = a /</span> <span class="hljs-number">3</span><br>a %= <span class="hljs-number">3</span>; <span class="hljs-regexp">//</span> ç­‰ä»·äº a = a % <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h4 id="2-2-3ã€ç®—æ•°è¿ç®—ç¬¦"><a href="#2-2-3ã€ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="2.2.3ã€ç®—æ•°è¿ç®—ç¬¦"></a>2.2.3ã€ç®—æ•°è¿ç®—ç¬¦</h4><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>+</td><td>åŠ </td></tr><tr><td>-</td><td>å‡</td></tr><tr><td>-expr</td><td>ç®—æ•°å–å</td></tr><tr><td>*</td><td>ä¹˜</td></tr><tr><td>&#x2F;</td><td>é™¤</td></tr><tr><td>~&#x2F;</td><td>é™¤æ³•ï¼Œç»“æœå–æ•´</td></tr><tr><td>%</td><td>æ±‚ä½™</td></tr><tr><td>++</td><td>æ”¯æŒå‰ç½®è‡ªå¢å’Œåç½®è‡ªå¢</td></tr><tr><td>â€“</td><td>æ”¯æŒå‰ç½®è‡ªå‡å’Œåç½®è‡ªå‡</td></tr></tbody></table><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> a = <span class="hljs-number">5</span><br>var a = <span class="hljs-number">2</span> + <span class="hljs-number">3</span>;<br><span class="hljs-regexp">//</span> a1 = -<span class="hljs-number">1</span><br>var a1 = <span class="hljs-number">2</span> - <span class="hljs-number">3</span>;<br><span class="hljs-regexp">//</span> a2 = <span class="hljs-number">6</span><br>var a2 = <span class="hljs-number">2</span> * <span class="hljs-number">3</span>;<br><span class="hljs-regexp">//</span> a3 = <span class="hljs-number">2.5</span><br>var a3 = <span class="hljs-number">5</span> / <span class="hljs-number">2</span>;<br><span class="hljs-regexp">//</span> æ•´é™¤ï¼Œa4 = <span class="hljs-number">2</span><br>var a4 = <span class="hljs-number">5</span> ~/ <span class="hljs-number">2</span>;<br><span class="hljs-regexp">//</span> æ±‚ä½™æ•° a5 = <span class="hljs-number">1</span><br>var a5 = <span class="hljs-number">5</span> % <span class="hljs-number">2</span>;<br><span class="hljs-regexp">//</span>a++ å’Œ ++a åŒºåˆ«ï¼ša++ å…ˆç”¨åœ¨åŠ ï¼Œ++aå…ˆåŠ åœ¨ç”¨<br>a++; <span class="hljs-regexp">//</span> ç›¸å½“äº a = a + <span class="hljs-number">1</span><br>++a; <br>a--; <span class="hljs-regexp">//</span> ç›¸å½“äº a = a - <span class="hljs-number">1</span><br>--a;<br></code></pre></td></tr></table></figure><h4 id="2-2-4ã€å…³ç³»è¿ç®—ç¬¦"><a href="#2-2-4ã€å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="2.2.4ã€å…³ç³»è¿ç®—ç¬¦"></a>2.2.4ã€å…³ç³»è¿ç®—ç¬¦</h4><p>å…³ç³»è¿è¿ç®—ç¬¦å¸¸ç”¨äºæ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&#x3D;&#x3D;</td><td>åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰</td></tr><tr><td>!&#x3D;</td><td>åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ç›¸ç­‰</td></tr><tr><td>&gt;</td><td>å¤§äº</td></tr><tr><td>&lt;</td><td>å°äº</td></tr><tr><td>&gt;&#x3D;</td><td>å¤§äºç­‰äº</td></tr><tr><td>&lt;&#x3D;</td><td>å°äºç­‰äº</td></tr></tbody></table><h4 id="2-2-5ã€ç±»å‹æµ‹è¯•è¿ç®—ç¬¦"><a href="#2-2-5ã€ç±»å‹æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="2.2.5ã€ç±»å‹æµ‹è¯•è¿ç®—ç¬¦"></a>2.2.5ã€ç±»å‹æµ‹è¯•è¿ç®—ç¬¦</h4><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>as</td><td>ç”¨äºç±»å‹è½¬æ¢ï¼Œå°†ä¸€ä¸ªå¯¹è±¡ç±»å‹è½¬æ¢æˆå¦å¤–ä¸€ç§å¯¹è±¡ç±»å‹ï¼Œä¸€èˆ¬ç”¨äºå­ç±»å¯¹è±¡è½¬æ¢æˆçˆ¶ç±»å¯¹è±¡ã€‚</td></tr><tr><td>is</td><td>ç”¨äºæ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯å¦å±äºæŸç§å¯¹è±¡ç±»å‹</td></tr><tr><td>is!</td><td>ç”¨äºæ£€æµ‹ä¸€ä¸ªå˜é‡ä¸å±äºæŸç§å¯¹è±¡ç±»å‹</td></tr></tbody></table><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> å¦‚æœ emp å˜é‡æ˜¯ Person ç±»å‹åˆ™æ¡ä»¶ä¸º true<br><span class="hljs-keyword">if</span> (emp is Person) &#123;<br>  <span class="hljs-regexp">//</span> å¿½ç•¥ä»£ç <br>&#125;<br><br><span class="hljs-regexp">//</span> æ°¸è¿œè¿”å› true, å› ä¸ºæ‰€æœ‰ç±»å‹éƒ½ç»§æ‰¿äº† Objectã€‚<br><span class="hljs-keyword">if</span> (emp is Object) &#123;<br>    <span class="hljs-regexp">//</span> å¿½ç•¥ä»£ç <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœå˜é‡æ˜¯æŸä¸ªç±»çš„å­ç±»çš„å®ä¾‹ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¹Ÿå±äºçˆ¶ç±»ç±»å‹ï¼Œis æ¡ä»¶è¿”å› true</p><h4 id="2-2-6ã€é€»è¾‘è¿ç®—ç¬¦"><a href="#2-2-6ã€é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="2.2.6ã€é€»è¾‘è¿ç®—ç¬¦"></a>2.2.6ã€é€»è¾‘è¿ç®—ç¬¦</h4><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>!expr</td><td>è¡¨è¾¾å¼æ¡ä»¶å–å</td></tr><tr><td>||</td><td>é€»è¾‘æˆ–</td></tr><tr><td>&amp;&amp;</td><td>é€»è¾‘ä¸</td></tr></tbody></table><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>å¸¸ç”¨äºæ¡ä»¶è¯­å¥ç»„åˆè¡¨è¾¾å¼<br><span class="hljs-keyword">if</span> (!done &amp;&amp; (col == <span class="hljs-number">0</span> || col == <span class="hljs-number">3</span>)) &#123;<br>  <span class="hljs-regexp">//</span>...<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-2-7ã€ä½è¿ç®—ç¬¦"><a href="#2-2-7ã€ä½è¿ç®—ç¬¦" class="headerlink" title="2.2.7ã€ä½è¿ç®—ç¬¦"></a>2.2.7ã€ä½è¿ç®—ç¬¦</h4><p>äºŒè¿›åˆ¶ä½è¿ç®—ç¬¦</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&amp;</td><td>ä¸</td></tr><tr><td>|</td><td>æˆ–</td></tr><tr><td>^</td><td>å¼‚æˆ–</td></tr><tr><td>~expr</td><td>æŒ‰ä½å–å</td></tr><tr><td>&lt;&lt;</td><td>å·¦ç§»</td></tr><tr><td>&gt;&gt;</td><td>å³ç§»</td></tr></tbody></table><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tap">// a = 256<br>var a =<span class="hljs-number"> 1 </span>&lt;&lt; 8; //<span class="hljs-number"> 1 </span>å·¦ç§»<span class="hljs-number"> 8 </span>ä½ç›¸å½“äºï¼š1 *<span class="hljs-number"> 2 </span>çš„<span class="hljs-number"> 8 </span>æ¬¡æ–¹<br></code></pre></td></tr></table></figure><h4 id="2-2-8ã€æ¡ä»¶è¿ç®—ç¬¦"><a href="#2-2-8ã€æ¡ä»¶è¿ç®—ç¬¦" class="headerlink" title="2.2.8ã€æ¡ä»¶è¿ç®—ç¬¦"></a>2.2.8ã€æ¡ä»¶è¿ç®—ç¬¦</h4><p>Dart ä¸­æœ‰ä¸¤ç§æ¡ä»¶è¿ç®—ç¬¦ï¼š</p><p>1ã€è¯­æ³•è§„åˆ™ï¼šcondition ? expr1 : expr2 ï¼Œç±»ä¼¼ Java ä¸‰ç›®è¿ç®—ç¬¦ã€‚condition è¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œå¹¶è¿”å› expr1 çš„å€¼ï¼Œ å¦åˆ™æ‰§è¡Œ expr2</p><p>2ã€è¯­æ³•è§„åˆ™ï¼šexpr1 ?? expr2 ï¼Œç±»ä¼¼ Kotlin çš„ ?: ã€‚å¦‚æœ expr1 ä¸ç­‰äº null, åˆ™æ‰§è¡Œ expr1 å¹¶è¿”å› expr1 çš„å€¼ï¼Œå¦åˆ™æ‰§è¡Œå¹¶è¿”å› expr2 çš„å€¼</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> å¦‚æœisPublicä¸ºçœŸï¼Œvisibility = <span class="hljs-string">&#x27;public&#x27;</span> å¦åˆ™ visibility = <span class="hljs-string">&#x27;private&#x27;</span><br>var visibility = isPublic ? <span class="hljs-string">&#x27;public&#x27;</span> : <span class="hljs-string">&#x27;private&#x27;</span>;<br><br><span class="hljs-regexp">//</span> è¿™ç§è¯­æ³•åœ¨å¤„ç†å‚æ•°é»˜è®¤å€¼éå¸¸æœ‰ç”¨ã€‚<br><span class="hljs-regexp">//</span> å¦‚æœnameä¸ç­‰äºnull, åˆ™payerName = name å¦åˆ™payerName = <span class="hljs-string">&#x27;Guest&#x27;</span><br>String payerName = name ?? <span class="hljs-string">&#x27;Guest&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ•°ç»„å’Œé›†åˆ"><a href="#ä¸‰ã€æ•°ç»„å’Œé›†åˆ" class="headerlink" title="ä¸‰ã€æ•°ç»„å’Œé›†åˆ"></a>ä¸‰ã€æ•°ç»„å’Œé›†åˆ</h2><h3 id="3-1ã€List-æ•°ç»„"><a href="#3-1ã€List-æ•°ç»„" class="headerlink" title="3.1ã€List æ•°ç»„"></a>3.1ã€List æ•°ç»„</h3><h4 id="3-1-1ã€å®šä¹‰"><a href="#3-1-1ã€å®šä¹‰" class="headerlink" title="3.1.1ã€å®šä¹‰"></a>3.1.1ã€å®šä¹‰</h4><p>1ï¼‰ã€ä¸ Java çš„æ•°ç»„ç±»å‹ä¸åŒï¼ŒDart ä¸­çš„æ•°ç»„ç±»å‹å°±æ˜¯ Listï¼Œå®ƒæ˜¯æ³›å‹ç±»å‹æ•°æ®ç»“æ„ï¼Œæ”¯æŒä»»æ„æ•°æ®ç±»å‹çš„æ•°ç»„</p><p>2ï¼‰ã€List æ•°ç»„å®šä¹‰çš„å…ƒç´ æœ‰åºå¯é‡å¤ï¼Œç±»ä¼¼ Java çš„ List é›†åˆ</p><p>3ï¼‰ã€Dart ä¸­ List æ•°ç»„ä¸»è¦åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p><p>1ã€å¯å˜é•¿åº¦æ•°ç»„</p><p>2ã€å›ºå®šé•¿åº¦æ•°ç»„</p><p>ä¸ç®¡æ˜¯å“ªç§ç±»å‹çš„æ•°ç»„ï¼Œä»–ä»¬çš„æ“ä½œæ–¹å¼æ˜¯ä¸€æ ·çš„</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€å¯å˜é•¿åº¦æ•°ç»„<br><span class="hljs-regexp">//</span>å®šä¹‰ä¸€ä¸ª int ç±»å‹çš„å¯å˜æ•°ç»„<br>List&lt;int&gt; a = []; <span class="hljs-regexp">//</span>ç­‰ä»·ï¼švar a = &lt;int&gt;[];<br><br><span class="hljs-regexp">//</span>å®šä¹‰ä¸€ä¸ª String ç±»å‹çš„å¯å˜æ•°ç»„<br>var strs = &lt;String&gt;[]; <span class="hljs-regexp">//</span>ç­‰ä»· List&lt;String&gt; strs = [];<br><br><span class="hljs-regexp">//</span>å¦‚ä¸‹è¿™ç§å®šä¹‰æ–¹å¼ï¼Œç¼–è¯‘å™¨ä¼šç»™æˆ‘ä»¬æ¨æ–­å‡ºæ˜¯å­—ç¬¦ä¸²ç±»å‹çš„å¯å˜æ•°ç»„<br>var strs = [<span class="hljs-string">&#x27;å­—ç¬¦ä¸²&#x27;</span>];<br></code></pre></td></tr></table></figure><p>1ã€ç†Ÿæ‚‰ Java çš„äººéƒ½çŸ¥é“ï¼Œä¸Šè¿°è¿™ç§å®šä¹‰å°±æ˜¯æ³›å‹ç±»å‹çš„è¯­æ³•ï¼Œ&lt;&gt; ç¬¦å·å®šä¹‰çš„æ˜¯ List çš„å…ƒç´ ç±»å‹</p><p>2ã€ä¸Šè¿°å®šä¹‰æ•°ç»„æˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šæ•°ç»„å¤§å°ï¼Œå› æ­¤ä»–ä»¬å®šä¹‰çš„éƒ½æ˜¯å¯å˜æ•°ç»„ï¼Œå¯å˜æ•°ç»„å¯ä»¥å¾€æ•°ç»„ä¸­æ’å…¥ä¸é™åˆ¶æ•°é‡çš„å…ƒç´  ï¼ˆåªè¦æ²¡è¶…è¿‡å†…å­˜é™åˆ¶ï¼‰</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€å›ºå®šé•¿åº¦æ•°ç»„<br><span class="hljs-regexp">//</span>å®šä¹‰ä¸€ä¸ªå›ºå®šé•¿åº¦ä¸º <span class="hljs-number">3</span> ï¼Œç±»å‹ä¸º int çš„æ•°ç»„<br>var list = List.filled(<span class="hljs-number">3</span>,<span class="hljs-number">0</span>);<br><br><span class="hljs-regexp">//</span>æµ‹è¯•ä¸€<br>void main() &#123;<br>  <span class="hljs-regexp">//</span>å®šä¹‰ä¸€ä¸ªå›ºå®šé•¿åº¦ä¸º <span class="hljs-number">3</span> ï¼Œç±»å‹ä¸º int çš„æ•°ç»„<br>  var list = List.filled(<span class="hljs-number">3</span>,<span class="hljs-number">0</span>);<br>  list[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>  list[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;<br>  list[<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>;<br>  <span class="hljs-regexp">//</span>æ­¤æ—¶å¦‚æœæˆ‘ä»¬æ·»åŠ ç¬¬ <span class="hljs-number">4</span> ä¸ªå…ƒç´ ï¼Œåˆ™ä¼šæŠ¥æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸<br>  <span class="hljs-regexp">//</span>list[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span>; <span class="hljs-regexp">//</span>æ•°ç»„ä¸‹æ ‡è¶Šç•Œ<br>  <span class="hljs-keyword">for</span> (var value <span class="hljs-keyword">in</span> list) &#123;<br>    print(value);<br>  &#125;<br>&#125;<br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br>  <br><span class="hljs-regexp">//</span>æµ‹è¯•äºŒï¼š<br>void main() &#123;<br>  <span class="hljs-regexp">//</span>å®šä¹‰ä¸€ä¸ªå›ºå®šé•¿åº¦ä¸º <span class="hljs-number">2</span> ï¼Œç±»å‹ä¸º String çš„æ•°ç»„<br>  var list = List.filled(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;&quot;</span>);<br>  list[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;erdai&quot;</span>;<br>  list[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;666&quot;</span>;<br><br>  <span class="hljs-keyword">for</span> (var value <span class="hljs-keyword">in</span> list) &#123;<br>    print(value);<br>  &#125;<br>&#125;<br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br>erdai<br><span class="hljs-number">666</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><p>1ã€ä¸Šè¿° filled æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªè¡¨ç¤ºæ•°ç»„é•¿åº¦ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºå­˜æ”¾çš„å…ƒç´ ç±»å‹åˆå§‹å€¼</p><p>2ã€å›ºå®šé•¿åº¦çš„æ•°ç»„ï¼Œåªèƒ½é€šè¿‡æ•°ç»„ä¸‹æ ‡çš„æ–¹å¼è¯»å†™æ•°ç»„ï¼Œä¸èƒ½ä½¿ç”¨ addï¼Œinsert æ–¹æ³•ä¿®æ”¹æ•°ç»„ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><h4 id="3-1-2ã€ä¼¸å±•è¿ç®—ç¬¦"><a href="#3-1-2ã€ä¼¸å±•è¿ç®—ç¬¦" class="headerlink" title="3.1.2ã€ä¼¸å±•è¿ç®—ç¬¦"></a>3.1.2ã€ä¼¸å±•è¿ç®—ç¬¦</h4><p>å¦‚æœæˆ‘ä»¬æƒ³å°†ä¸€ä¸ª List æ•°ç»„çš„å…ƒç´ å¡«å……åˆ°å¦å¤–ä¸€ä¸ªæ•°ç»„å»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¼¸å±•è¿ç®—ç¬¦ <strong>â€¦</strong> ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span> list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">var</span> list2 = [<span class="hljs-number">0</span>, ...list]; <span class="hljs-comment">// å°† list æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä¸€ä¸ªä¸ªå±•å¼€æ¥ï¼Œæ’å…¥åˆ° list2 ä¸­</span><br><span class="hljs-comment">// ç­‰ä»·ä»£ç  var list2 = [0, 1, 2, 3]</span><br></code></pre></td></tr></table></figure><h4 id="3-1-3ã€å¸¸ç”¨-Api-ä»‹ç»"><a href="#3-1-3ã€å¸¸ç”¨-Api-ä»‹ç»" class="headerlink" title="3.1.3ã€å¸¸ç”¨ Api ä»‹ç»"></a>3.1.3ã€å¸¸ç”¨ Api ä»‹ç»</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€é¦–å…ˆå®šä¹‰ä¸€ä¸ª int ç±»å‹çš„å¯å˜æ•°ç»„<br>var a = &lt;int&gt;[];<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€å¾€æ•°ç»„å°¾å·´æ·»åŠ å…ƒç´  a:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>a.add(<span class="hljs-number">1</span>);<br>a.add(<span class="hljs-number">2</span>);<br>a.add(<span class="hljs-number">3</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">3</span>ã€ä¿®æ”¹ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ a:[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>a[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">4</span>ã€åœ¨æ•°ç»„ <span class="hljs-number">0</span> ä½ç½®ï¼Œæ’å…¥ <span class="hljs-number">100</span> a:[<span class="hljs-number">100</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>a.insert(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">5</span>ã€åˆ é™¤ä¸€ä¸ªå…ƒç´  a:[<span class="hljs-number">100</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]<br><span class="hljs-regexp">//</span>æ ¹æ®å…ƒç´ åˆ é™¤<br>a.remove(<span class="hljs-number">3</span>);<br><br><span class="hljs-regexp">//</span>æ ¹æ®ä¸‹æ ‡åˆ é™¤ a:[<span class="hljs-number">100</span>,<span class="hljs-number">2</span>]<br>a.removeAt(<span class="hljs-number">1</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">6</span>ã€è·å–æ•°ç»„å¤§å°<br>print(a.length); <span class="hljs-regexp">//</span>æ‰“å°ï¼š<span class="hljs-number">2</span><br>  <br><span class="hljs-regexp">//</span><span class="hljs-number">7</span>ã€æ•°ç»„æ’åºï¼šé»˜è®¤æ•°ç»„ä»å°åˆ°å¤§æ’åº a:[<span class="hljs-number">2</span>,<span class="hljs-number">100</span>]<br>a.sort();<br><br><span class="hljs-regexp">//</span><span class="hljs-number">8</span>ã€åˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ <br>a.contains(<span class="hljs-number">2</span>); <span class="hljs-regexp">//</span> true<br><br><span class="hljs-regexp">//</span><span class="hljs-number">9</span>ã€æ¸…ç©º Listï¼Œåˆ é™¤æ‰€æœ‰æ•°æ® a:[]<br>a.clear();<br></code></pre></td></tr></table></figure><h3 id="3-2ã€Set-é›†åˆ"><a href="#3-2ã€Set-é›†åˆ" class="headerlink" title="3.2ã€Set é›†åˆ"></a>3.2ã€Set é›†åˆ</h3><h4 id="3-2-1ã€å®šä¹‰"><a href="#3-2-1ã€å®šä¹‰" class="headerlink" title="3.2.1ã€å®šä¹‰"></a>3.2.1ã€å®šä¹‰</h4><p>1ï¼‰ã€Dart ä¸­çš„ Set æ˜¯æ— åºé›†åˆç±»å‹ï¼ŒSet è·Ÿ List éƒ½èƒ½ä¿å­˜ä¸€ç»„æ•°æ®ï¼ŒåŒºåˆ«å°±æ˜¯ Set çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå’Œ Java çš„ Set é›†åˆç±»ä¼¼</p><p>2ï¼‰ã€Set æ”¯æŒä»»æ„ç±»å‹æ•°æ®ï¼Œä¸»è¦æœ‰ä¸‹é¢ä¸‰ç§æ–¹å¼åˆå§‹åŒ–ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmake">//<span class="hljs-number">1</span>ã€æ–¹å¼ä¸€ï¼šä½¿ç”¨ &#123;&#125; å®šä¹‰ä¸€ä¸ª <span class="hljs-keyword">String</span> ç±»å‹çš„ <span class="hljs-keyword">Set</span><br>var strSet = &#123;<span class="hljs-string">&quot;str&quot;</span>&#125;;<br><br>//<span class="hljs-number">2</span>ã€æ–¹å¼äºŒï¼šå®šä¹‰ä¸€ä¸ªç©ºçš„ <span class="hljs-keyword">String</span> ç±»å‹çš„ <span class="hljs-keyword">Set</span><br>var names = &lt;<span class="hljs-keyword">String</span>&gt;&#123;&#125;;<br><br>//<span class="hljs-number">3</span>ã€æ–¹å¼ä¸‰ï¼šé€šè¿‡ <span class="hljs-keyword">Set</span> å¯¹è±¡å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¿å­˜ <span class="hljs-keyword">String</span> ç±»å‹çš„ <span class="hljs-keyword">Set</span><br>var names = <span class="hljs-keyword">Set</span>&lt;<span class="hljs-keyword">String</span>&gt;();<br></code></pre></td></tr></table></figure><h4 id="3-2-2ã€å¸¸ç”¨-Api-ä»‹ç»"><a href="#3-2-2ã€å¸¸ç”¨-Api-ä»‹ç»" class="headerlink" title="3.2.2ã€å¸¸ç”¨ Api ä»‹ç»"></a>3.2.2ã€å¸¸ç”¨ Api ä»‹ç»</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€é¦–å…ˆå®šä¹‰ä¸€ä¸ª set é›†åˆ<br>var names = &lt;String&gt;&#123;&#125;;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€æ·»åŠ ä¸€ä¸ªå…ƒç´  names:&#123;<span class="hljs-string">&quot;Dart&quot;</span>&#125;<br>names.add(<span class="hljs-string">&quot;Dart&quot;</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">3</span>ã€æ·»åŠ ä¸€ä¸ª List æ•°ç»„ names:&#123;<span class="hljs-string">&quot;Dart&quot;</span>,<span class="hljs-string">&quot;Flutter&quot;</span>&#125;<br>var titles = [<span class="hljs-string">&quot;Flutter&quot;</span>];<br>names.addAll(titles);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">4</span>ã€è·å– Set å¤§å°<br>print(names.length); <span class="hljs-regexp">//</span>æ‰“å°ï¼š<span class="hljs-number">2</span><br><br><span class="hljs-regexp">//</span><span class="hljs-number">5</span>ã€åˆ é™¤å…ƒç´ <br><span class="hljs-regexp">//</span>æ ¹æ®å…ƒç´ è¿›è¡Œåˆ é™¤ names:&#123;<span class="hljs-string">&quot;Dart&quot;</span>&#125;<br>names.remove(<span class="hljs-string">&quot;Flutter&quot;</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">6</span>ã€åˆ¤æ–­ Set æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ <br>names.contains(<span class="hljs-string">&quot;Dart&quot;</span>); <span class="hljs-regexp">//</span>true<br><br><span class="hljs-regexp">//</span><span class="hljs-number">7</span>ã€æ¸…ç©º Set æ‰€æœ‰å…ƒç´  names:&#123;&#125;<br>names.clear();<br></code></pre></td></tr></table></figure><h3 id="3-3ã€Map-é›†åˆ"><a href="#3-3ã€Map-é›†åˆ" class="headerlink" title="3.3ã€Map é›†åˆ"></a>3.3ã€Map é›†åˆ</h3><h4 id="3-3-1ã€å®šä¹‰"><a href="#3-3-1ã€å®šä¹‰" class="headerlink" title="3.3.1ã€å®šä¹‰"></a>3.3.1ã€å®šä¹‰</h4><p>1ï¼‰ã€Dart ä¸­ map ç±»å‹ï¼Œå°±æ˜¯ä¸€ç§å“ˆå¸Œç±»å‹æ•°æ®ï¼Œmap ç±»å‹çš„æ•°æ®éƒ½æ˜¯ç”± key å’Œ value ä¸¤ä¸ªå€¼ç»„æˆï¼Œkey æ˜¯å”¯ä¸€çš„ï¼Œvalue ä¸å¿…å”¯ä¸€ï¼Œè¯»å†™æ•°æ®éƒ½æ˜¯é€šè¿‡ key è¿›è¡Œï¼Œmap ä¹Ÿæ˜¯æ³›å‹ç±»å‹ï¼Œæ”¯æŒä»»æ„ç±»å‹æ•°æ®ï¼Œkey å’Œ value å¯ä»¥æ˜¯ä»»æ„ç±»å‹æ•°æ®</p><p>2ï¼‰ã€map ä¸»è¦æœ‰ä»¥ä¸‹å››ç§æ–¹å¼åˆå§‹åŒ–ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//1ã€æ–¹å¼ä¸€ï¼šç›´æ¥ä»¥key, value çš„æ–¹å¼åˆå§‹åŒ–ä¸€ä¸ª map ç±»å‹å˜é‡ï¼Œ key å’Œ value éƒ½æ˜¯ String ç±»å‹</span><br><span class="hljs-keyword">var</span> map1 = &#123;<br>  <span class="hljs-comment">//æ ¼å¼  Key: Value</span><br>  <span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;partridge&#x27;</span>,<br>  <span class="hljs-string">&#x27;second&#x27;</span>: <span class="hljs-string">&#x27;turtledoves&#x27;</span>,<br>  <span class="hljs-string">&#x27;fifth&#x27;</span>: <span class="hljs-string">&#x27;golden rings&#x27;</span><br>&#125;;<br><br><span class="hljs-comment">//2ã€æ–¹å¼äºŒï¼šç›´æ¥é€šè¿‡ Map ç±»æ„é€ ä¸€ä¸ª map ç±»å‹å˜é‡, key ç±»å‹ä¸º String, value ç±»å‹ä¸º int</span><br><span class="hljs-keyword">var</span> map2 = <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">int</span>&gt;();<br><br><span class="hljs-comment">//3ã€æ–¹å¼ä¸‰ï¼šå®šä¹‰ä¸€ä¸ª key ç±»å‹ä¸º String, value ç±»å‹ä¸º int çš„ç©º Map</span><br><span class="hljs-keyword">var</span> map3 = &lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">int</span>&gt;&#123;&#125;<br><br><span class="hljs-comment">//4ã€æ–¹å¼å››ï¼šå®šä¹‰ä¸€ä¸ªç»•è¿‡ç¼–è¯‘æ£€æŸ¥çš„åŠ¨æ€ keyï¼Œvalue ç±»å‹ Map</span><br><span class="hljs-keyword">var</span> map4 = <span class="hljs-built_in">Map</span>(); <span class="hljs-comment">//ç­‰ä»·äºï¼švar map4 = &#123;&#125;;</span><br></code></pre></td></tr></table></figure><h4 id="3-3-2ã€å¸¸ç”¨-Api-ä»‹ç»"><a href="#3-3-2ã€å¸¸ç”¨-Api-ä»‹ç»" class="headerlink" title="3.3.2ã€å¸¸ç”¨ Api ä»‹ç»"></a>3.3.2ã€å¸¸ç”¨ Api ä»‹ç»</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€é¦–å…ˆå®šä¹‰ä¸€ä¸ª map<br>var map = &#123;&#125;;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€å‘ map æ·»åŠ æ•°æ® map:&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-string">&quot;value1&quot;</span>,<span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;value2&quot;</span>&#125;<br><span class="hljs-regexp">//</span>ä½¿ç”¨ [] æ“ä½œç¬¦è¯»å†™ map æ•°æ®ï¼Œè¯­æ³•ï¼šmapå˜é‡[key]<br>map[<span class="hljs-string">&quot;key1&quot;</span>] = <span class="hljs-string">&quot;value1&quot;</span>;<br>map[<span class="hljs-string">&quot;key2&quot;</span>] = <span class="hljs-string">&quot;value2&quot;</span>;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">3</span>ã€æŸ¥è¯¢ mapï¼šä½¿ç”¨[]æ“ä½œç¬¦ï¼Œæ ¹æ® key æŸ¥è¯¢å¯¹åº”çš„ value å€¼ï¼Œå¦‚æœ key ä¸å­˜åœ¨åˆ™è¿”å› null<br>var v1 = map[<span class="hljs-string">&quot;key1&quot;</span>];<br>var v2 = map[<span class="hljs-string">&quot;key2&quot;</span>];<br><br><span class="hljs-regexp">//</span><span class="hljs-number">4</span>ã€æ›´æ–° map æ•°æ®ï¼šæ ¹æ® key æ›´æ–° map æ•°æ®å’Œæ·»åŠ  map æ•°æ®ç”¨æ³•ä¸€æ ·<br><span class="hljs-regexp">//</span>å¦‚æœ key å€¼ä¸å­˜åœ¨åˆ™æ·»åŠ ï¼Œå¦åˆ™æ›´æ–° key çš„æ•°æ®<br><span class="hljs-regexp">//m</span>ap:&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-string">&quot;value1&quot;</span>,<span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;value2&quot;</span>&#125;<br>map[<span class="hljs-string">&quot;key2&quot;</span>] = <span class="hljs-string">&quot;erdai&quot;</span>;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">5</span>ã€è·å– map å¤§å°<br>print(map.length); <span class="hljs-regexp">//</span>æ‰“å°ï¼š<span class="hljs-number">2</span><br><br><span class="hljs-regexp">//</span><span class="hljs-number">6</span>ã€éå† map<br>map.forEach((k, v) &#123;<br>  print(<span class="hljs-string">&#x27;$k $v&#x27;</span>);<br>&#125;);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">7</span>ã€åˆ é™¤ map æ•°æ®ï¼šé€šè¿‡ remove å‡½æ•°å¯ä»¥åˆ é™¤æŒ‡å®šçš„ key æ•°æ®<br><span class="hljs-regexp">//m</span>ap:&#123;<span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;value2&quot;</span>&#125;<br>map.remove(<span class="hljs-string">&quot;key1&quot;</span>);<br><br><span class="hljs-regexp">//</span><span class="hljs-number">8</span>ã€æ¸…ç©ºæ‰€æœ‰ map æ•°æ® map:&#123;&#125;<br>map.clear();<br></code></pre></td></tr></table></figure><h2 id="å››ã€ç¨‹åºçš„é€»è¾‘æ§åˆ¶"><a href="#å››ã€ç¨‹åºçš„é€»è¾‘æ§åˆ¶" class="headerlink" title="å››ã€ç¨‹åºçš„é€»è¾‘æ§åˆ¶"></a>å››ã€ç¨‹åºçš„é€»è¾‘æ§åˆ¶</h2><p>è¿™ä¸ªç« èŠ‚ç›¸å¯¹ç®€å•ï¼Œæˆ‘ä»¬å°±ç®€å•ä¸¾ä¸ªä¾‹å­</p><h3 id="4-1ã€if-else"><a href="#4-1ã€if-else" class="headerlink" title="4.1ã€if-else"></a>4.1ã€if-else</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">if</span> (isRaining()) &#123;<br>  <span class="hljs-regexp">//</span> ä»£ç <span class="hljs-number">1</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isSnowing()) &#123;<br>  <span class="hljs-regexp">//</span> ä»£ç <span class="hljs-number">2</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-regexp">//</span> ä»£ç <span class="hljs-number">3</span><br>&#125;<br></code></pre></td></tr></table></figure><p>elseæ˜¯å¯é€‰çš„ï¼Œæ ¹æ®éœ€è¦ç»„åˆå³å¯</p><h3 id="4-2ã€for-i-å’Œ-for-in-å¾ªç¯"><a href="#4-2ã€for-i-å’Œ-for-in-å¾ªç¯" class="headerlink" title="4.2ã€for-i å’Œ for-in å¾ªç¯"></a>4.2ã€for-i å’Œ for-in å¾ªç¯</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> å®šä¹‰ int æ•°ç»„<br>var list = [<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">3</span>];<br><br><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€<span class="hljs-keyword">for</span>-i å¾ªç¯éå†æ•°ç»„<br><span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; list.length; i++) &#123;<br>  <span class="hljs-regexp">//</span> æ‰“å°æ•°ç»„å…ƒç´ <br>  print(list[i]); <br>&#125;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€<span class="hljs-keyword">for</span>-<span class="hljs-keyword">in</span> å¾ªç¯éå†æ•°ç»„å˜é‡ list<br><span class="hljs-keyword">for</span> (var v <span class="hljs-keyword">in</span> list) &#123;<br>  <span class="hljs-regexp">//</span> æ‰“å°æ•°ç»„å…ƒç´  v<br>  print(v); <br>&#125;<br><br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br><span class="hljs-number">5</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">6</span><br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h3 id="4-3ã€switchè¯­å¥"><a href="#4-3ã€switchè¯­å¥" class="headerlink" title="4.3ã€switchè¯­å¥"></a>4.3ã€switchè¯­å¥</h3><p>1ï¼‰ã€switch è¯­å¥çš„ä½œç”¨è·Ÿ if è¯­å¥ç±»ä¼¼ï¼Œç”¨äºæ£€æµ‹å„ç§æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œç„¶åæ‰§è¡Œç›¸åº”åˆ†æ”¯çš„ä»£ç </p><p>2ï¼‰ã€switch æ”¯æŒæ£€æµ‹ intï¼ŒString ç±»å‹å˜é‡çš„æ£€æµ‹ï¼Œå½“ç„¶å¦‚æœä½ è‡ªå®šä¹‰çš„ç±»é‡è½½äº† &#x3D;&#x3D; æ“ä½œç¬¦ï¼Œä¹Ÿå¯ä»¥åœ¨ switch æ¡ä»¶ä¸­ä½¿ç”¨</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> æ¡ä»¶çŠ¶æ€å˜é‡<br>var command = <span class="hljs-string">&#x27;OPEN&#x27;</span>;<br><br>switch (command) &#123; <span class="hljs-regexp">//</span> éœ€è¦æ£€æµ‹çš„å˜é‡ <br>  case <span class="hljs-string">&#x27;CLOSED&#x27;</span>:  <span class="hljs-regexp">//</span>case è¯­å¥ç”¨äºè®¾ç½®æ£€æµ‹æ¡ä»¶<br>    executeClosed(); <span class="hljs-regexp">//</span> å¦‚æœ command = <span class="hljs-string">&#x27;CLOSED&#x27;</span>ï¼Œæ‰§è¡Œå½“å‰åˆ†æ”¯ä»£ç ã€‚<br>    <span class="hljs-keyword">break</span>; <span class="hljs-regexp">//</span> ç»“æŸå½“å‰åˆ†æ”¯æ‰§è¡Œé€»è¾‘<br>  case <span class="hljs-string">&#x27;PENDING&#x27;</span>:<br>    executePending();<br>    <span class="hljs-keyword">break</span>;<br>  case <span class="hljs-string">&#x27;APPROVED&#x27;</span>:<br>    executeApproved();<br>    <span class="hljs-keyword">break</span>;<br>  default: <span class="hljs-regexp">//</span> å¦‚æœä¸Šé¢çš„ case è¯­å¥éƒ½æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œåˆ™æ‰§è¡Œ default åˆ†æ”¯çš„é€»è¾‘ã€‚<br>    executeUnknown();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-4ã€while-å’Œ-do-while-å¾ªç¯è¯­å¥"><a href="#4-4ã€while-å’Œ-do-while-å¾ªç¯è¯­å¥" class="headerlink" title="4.4ã€while å’Œ do-while å¾ªç¯è¯­å¥"></a>4.4ã€while å’Œ do-while å¾ªç¯è¯­å¥</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span><span class="hljs-number">1</span>ã€<span class="hljs-keyword">while</span> å¾ªç¯è¯­å¥ä¾‹å­<br>void main() &#123;<br>  <span class="hljs-regexp">//</span> å®šä¹‰ int æ•°ç»„<br>  var list = [<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>];<br><br>  <span class="hljs-regexp">//</span> å¾ªç¯éå†æ•°ç»„<br>  var i = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">while</span> (i &lt; list.length) &#123;<br>    <span class="hljs-regexp">//</span> æ¡ä»¶ä¸º true åˆ™æ‰§è¡Œå¾ªç¯ä½“ä»£ç <br>    print(list[i]); <span class="hljs-regexp">//</span> æ‰“å°æ•°ç»„å…ƒç´ <br>    i++; <span class="hljs-regexp">//</span> æ•°ç»„ä¸‹æ ‡é€’å¢<br>  &#125;<br>&#125;<br><br><span class="hljs-regexp">//</span><span class="hljs-number">2</span>ã€<span class="hljs-keyword">do</span>-<span class="hljs-keyword">while</span> å¾ªç¯è¯­å¥ä¾‹å­<br>void main() &#123;<br>  <span class="hljs-regexp">//</span> å®šä¹‰ int æ•°ç»„<br>  var list = [<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>];<br><br>  <span class="hljs-regexp">//</span> å¾ªç¯éå†æ•°ç»„<br>  var i = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">do</span> &#123;<br>    print(list[i]);<br>    i++;<br>  &#125; <span class="hljs-keyword">while</span> (i &lt; list.length); <span class="hljs-regexp">//</span> å…ˆæ‰§è¡Œå¾ªç¯ä½“ä»£ç åå†æ£€æµ‹å¾ªç¯æ¡ä»¶ï¼Œæ¡ä»¶ä¸º true åˆ™ç»§ç»­æ‰§è¡Œå¾ªç¯<br>&#125;<br><br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br><span class="hljs-number">5</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">6</span><br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="äº”ã€é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#äº”ã€é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="äº”ã€é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>äº”ã€é¢å‘å¯¹è±¡ç¼–ç¨‹</h2><p>Dart æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œå¯¹è±¡éƒ½æ˜¯ç”±ç±»åˆ›å»ºçš„ï¼Œæ‰€æœ‰ç±»éƒ½æ˜¯ç”± Object ç±»æ´¾ç”Ÿå‡ºæ¥çš„å­ç±»ï¼Œé™¤äº† Object , æ‰€æœ‰ç±»åªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆå³åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼‰</p><p>å°½ç®¡ Dart è¯­è¨€ä¸­ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†æ˜¯ Dart è¯­è¨€æä¾›äº† mixin æœºåˆ¶ï¼Œå¯ä»¥å¤ç”¨å¤šä¸ªç±»ï¼Œè¾¾åˆ°ç±»ä¼¼å¤šç»§æ‰¿çš„æ•ˆæœ</p><h3 id="5-1ã€ç±»å’Œå¯¹è±¡"><a href="#5-1ã€ç±»å’Œå¯¹è±¡" class="headerlink" title="5.1ã€ç±»å’Œå¯¹è±¡"></a>5.1ã€ç±»å’Œå¯¹è±¡</h3><p>1ï¼‰ã€Dart æ²¡æœ‰ publicã€protected å’Œ private ç­‰æˆå‘˜è®¿é—®é™å®šç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹å±æ€§ï¼Œæ–¹æ³•ï¼Œç±»ç­‰éƒ½æ˜¯å…±æœ‰çš„ï¼Œç±»ä¼¼ Java çš„ publicã€‚å¦‚æœæƒ³è¦è¡¨ç¤ºç§æœ‰ï¼Œåˆ™ä»¥ä¸‹åˆ’çº¿ _ å¼€å¤´å»å‘½å</p><p>2ï¼‰ã€Dart ä¸­å®ä¾‹åŒ–å¯¹è±¡å’Œ Java ç±»ä¼¼ï¼Œnew å…³é”®å­—å¯å†™å¯ä¸å†™</p><p>3ï¼‰ã€å½“æˆ‘ä»¬åœ¨ç±»ä¸­åˆ›å»ºç§æœ‰å±æ€§æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç»™ç§æœ‰å±æ€§æä¾› getter å’Œ setter æ–¹æ³•ä¾›å¤–ç•Œè®¿é—®ï¼š</p><p>get æ–¹æ³•è¯­æ³•æ ¼å¼ï¼š<strong>è¿”å›å€¼ç±»å‹ get æ–¹æ³•å { æ–¹æ³•ä½“ }</strong></p><p>set æ–¹æ³•è¯­æ³•æ ¼å¼ï¼š<strong>set æ–¹æ³•å ( å‚æ•° ) { æ–¹æ³•ä½“ }</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>  <span class="hljs-comment">// å®šä¹‰ç±»æˆå‘˜å±æ€§ï¼Œé»˜è®¤ç±»çš„æˆå‘˜å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯å…±æœ‰çš„ï¼Œç±»ä¼¼ java çš„ public</span><br>  <span class="hljs-keyword">var</span> name;<br>  <span class="hljs-comment">// ä»¥ä¸‹åˆ’çº¿ ( _ ) å¼€å¤´å‘½åçš„å±æ€§ä»£è¡¨ç§æœ‰æˆå‘˜å±æ€§</span><br>  <span class="hljs-keyword">var</span> _age;<br><br>  <span class="hljs-comment">// è·Ÿç±»ååŒåçš„æ–¹æ³•ï¼Œä¸ºæ„é€ æ–¹æ³•</span><br>  <span class="hljs-comment">// è¿™é‡Œè‡ªå®šä¹‰äº†ä¸€ä¸ªæºå¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚</span><br>  <span class="hljs-comment">// å¦‚æœæˆ‘ä»¬æ²¡æœ‰è‡ªå®šä¹‰æ„é€ æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸å¸¦å‚æ•°çš„é»˜è®¤æ„é€ æ–¹æ³•</span><br>  Person(<span class="hljs-keyword">var</span> name, <span class="hljs-keyword">var</span> age) &#123;<br>    <span class="hljs-comment">// å› ä¸ºå‚æ•°åå’Œç±»å±æ€§ååŒåï¼Œå¯ä»¥ä½¿ç”¨thiså¼•ç”¨å½“å‰å¯¹è±¡</span><br>    <span class="hljs-keyword">this</span>.name = name;<br>    <span class="hljs-comment">// å¯ä»¥å¿½ç•¥thiså…³é”®å­—ï¼Œç›´æ¥å¼•ç”¨ç±»æˆå‘˜</span><br>    _age = age;<br>  &#125;<br>  <br>  <span class="hljs-comment">//ä¸º _age æä¾› getter å’Œ setter æ–¹æ³•</span><br>  <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> age&#123;<br>    <span class="hljs-keyword">return</span> _age;<br>  &#125;<br>  <span class="hljs-comment">//getter æ–¹æ³•è¿˜å¯ä»¥ç®€åŒ–ä¸ºæ­¤å†™æ³•ï¼šint get age =&gt; _age;</span><br><br>  <span class="hljs-keyword">set</span> age(<span class="hljs-built_in">int</span> age)&#123;<br>    _age = age;<br>  &#125;<br><br>  <span class="hljs-comment">// å®šä¸€ä¸ª public çš„æ–¹æ³•</span><br>  <span class="hljs-built_in">String</span> greet(<span class="hljs-built_in">String</span> who) =&gt; <span class="hljs-string">&#x27;Hello, <span class="hljs-subst">$who</span>. I am <span class="hljs-subst">$name</span>, my age is <span class="hljs-subst">$_age</span> !&#x27;</span>;<br>&#125;<br><br><span class="hljs-keyword">void</span> main()&#123;<br>  <span class="hljs-keyword">var</span> person = Person(<span class="hljs-string">&quot;erdai&quot;</span>,<span class="hljs-number">18</span>);<br>  <span class="hljs-comment">//ä¸‹é¢è¿™å¥å°±æ˜¯è°ƒç”¨äº† age çš„ set æ–¹æ³•</span><br>  person.age = <span class="hljs-number">20</span>;<br>  <span class="hljs-keyword">var</span> greet = person.greet(<span class="hljs-string">&quot;lucy&quot;</span>);<br>  <span class="hljs-built_in">print</span>(greet);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>Hello, lucy. I am erdai, my age <span class="hljs-keyword">is</span> <span class="hljs-number">20</span> !<br></code></pre></td></tr></table></figure><h3 id="5-2ã€æ„é€ æ–¹æ³•"><a href="#5-2ã€æ„é€ æ–¹æ³•" class="headerlink" title="5.2ã€æ„é€ æ–¹æ³•"></a>5.2ã€æ„é€ æ–¹æ³•</h3><p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰è‡ªå®šä¹‰ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸å¸¦å‚æ•°çš„é»˜è®¤æ„é€ æ–¹æ³•</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-comment">// è¿™ä¸ªç±»ä¼šç”Ÿæˆé»˜è®¤çš„æ„é€ æ–¹æ³•</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-keyword">String</span> name;<br>&#125;<br><br><span class="hljs-comment">// é€šè¿‡é»˜è®¤æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡</span><br><span class="hljs-keyword">var</span> p = Person();<br></code></pre></td></tr></table></figure><h4 id="5-2-1ã€è‡ªå®šä¹‰æ„é€ æ–¹æ³•"><a href="#5-2-1ã€è‡ªå®šä¹‰æ„é€ æ–¹æ³•" class="headerlink" title="5.2.1ã€è‡ªå®šä¹‰æ„é€ æ–¹æ³•"></a>5.2.1ã€è‡ªå®šä¹‰æ„é€ æ–¹æ³•</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>&#123;<br>  <span class="hljs-keyword">var</span> x,y;<br>  <br>  Point(<span class="hljs-keyword">var</span> x,<span class="hljs-keyword">var</span> y)&#123;<br>    <span class="hljs-comment">// é€šè¿‡thisè®¿é—®æˆå‘˜å±æ€§ï¼Œå½“ç„¶ä¸€èˆ¬é™¤éå‡ºç°å‘½åå†²çªï¼Œå¦åˆ™å¯ä»¥å¿½ç•¥this</span><br>    <span class="hljs-keyword">this</span>.x = x;<br>    <span class="hljs-keyword">this</span>.y = y;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹äºæ„é€ æ–¹æ³•ä¸­ï¼Œç®€å•çš„èµ‹å€¼æ“ä½œï¼ŒDartè¯­è¨€æä¾›äº†æ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>&#123;<br>  <span class="hljs-keyword">var</span> x,y;<br><br>  <span class="hljs-comment">// ç›´æ¥å°†æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°èµ‹å€¼ç»™this.x, ç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼ç»™this.y</span><br>  Point(<span class="hljs-keyword">this</span>.x,<span class="hljs-keyword">this</span>.y);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-2-2ã€åˆå§‹åŒ–å‚æ•°åˆ—è¡¨"><a href="#5-2-2ã€åˆå§‹åŒ–å‚æ•°åˆ—è¡¨" class="headerlink" title="5.2.2ã€åˆå§‹åŒ–å‚æ•°åˆ—è¡¨"></a>5.2.2ã€åˆå§‹åŒ–å‚æ•°åˆ—è¡¨</h4><p>Dart è¿˜ä¸ºæ„é€ æ–¹æ³•æä¾›äº† <strong>å‚æ•°åˆå§‹åŒ–åˆ—è¡¨</strong> çš„è¯­æ³•ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡å‚æ•°</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>&#123;<br>  <span class="hljs-keyword">var</span> x,y;<br><br>  <span class="hljs-comment">// å†’å· : åé¢çš„è¡¨è¾¾å¼å°±æ˜¯å‚æ•°åˆå§‹åŒ–åˆ—è¡¨ï¼Œæ¯ä¸ªè¡¨è¾¾å¼ç”¨é€—å·åˆ†éš”</span><br>  Point(<span class="hljs-keyword">var</span> x,<span class="hljs-keyword">var</span> y): <span class="hljs-keyword">this</span>.x = x,<span class="hljs-keyword">this</span>.y = y&#123;<br>    <span class="hljs-comment">// ä½¿ç”¨å‚æ•°åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–å¯¹è±¡å±æ€§ï¼Œè¿™é‡Œå¦‚æœæ²¡æœ‰åˆ«çš„åˆå§‹åŒ–å·¥ä½œè¦åšï¼Œå¯ä»¥æ˜¯ç©ºçš„</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-2-3ã€å‘½åæ„é€ æ–¹æ³•"><a href="#5-2-3ã€å‘½åæ„é€ æ–¹æ³•" class="headerlink" title="5.2.3ã€å‘½åæ„é€ æ–¹æ³•"></a>5.2.3ã€å‘½åæ„é€ æ–¹æ³•</h4><p>1ï¼‰ã€Dart å¯ä»¥ä½¿ç”¨å‘½åæ„é€ æ–¹æ³•è¯­æ³•ï¼Œåˆ›å»ºå¤šä¸ªæ„é€ æ–¹æ³•ï¼Œå‘½åæ„é€ æ–¹æ³•è¯­æ³•æ ¼å¼ï¼š <strong>ç±»å.æ„é€ æ–¹æ³•å(å‚æ•°åˆ—è¡¨)</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>&#123;<br>  <span class="hljs-keyword">var</span> x,y;<br><br>  <span class="hljs-title class_">Point</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>);<br><br>  <span class="hljs-comment">// å‘½åæ„é€ æ–¹æ³• namedConstructor</span><br>  <span class="hljs-title class_">Point</span>.<span class="hljs-title function_">namedConstructor</span>(<span class="hljs-params"></span>)&#123;<br>    x = <span class="hljs-number">0</span>;<br>    y = <span class="hljs-number">0</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">// ä½¿ç”¨å‘½åæ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡</span><br>  <span class="hljs-keyword">var</span> point = <span class="hljs-title class_">Point</span>.<span class="hljs-title function_">namedConstructor</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥æ”¹å†™ä¸ºï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>&#123;<br>  <span class="hljs-keyword">var</span> x,y;<br><br>  Point(<span class="hljs-keyword">this</span>.x,<span class="hljs-keyword">this</span>.y);<br>  <span class="hljs-comment">// å‘½åæ„é€ æ–¹æ³• namedConstructor</span><br>  <span class="hljs-comment">// è¿™é‡Œä½¿ç”¨å‚æ•°åˆå§‹åŒ–åˆ—è¡¨ï¼Œç›´æ¥é€šè¿‡ this è°ƒç”¨ä¸Šé¢çš„æ„é€ æ–¹æ³•ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•° 0ï¼Œåˆå§‹åŒ–å¯¹è±¡</span><br>  Point.namedConstructor():<span class="hljs-keyword">this</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-2-4ã€factory-æ„é€ æ–¹æ³•"><a href="#5-2-4ã€factory-æ„é€ æ–¹æ³•" class="headerlink" title="5.2.4ã€factory æ„é€ æ–¹æ³•"></a>5.2.4ã€factory æ„é€ æ–¹æ³•</h4><p>1ï¼‰ã€Dart æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„æ„é€ æ–¹æ³•ï¼Œç±»ä¼¼è®¾è®¡æ¨¡å¼ä¸­çš„å·¥å‚æ¨¡å¼ï¼Œç”¨æ¥åˆ›å»ºå¯¹è±¡</p><p>2ï¼‰ã€factory æ„é€ æ–¹æ³•åªèƒ½è®¿é—®é™æ€å±æ€§å’Œé™æ€æˆå‘˜æ–¹æ³•ï¼Œå› æ­¤ä¸èƒ½è®¿é—® this å¼•ç”¨</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//1ã€å®šä¹‰ä¸ªæ—¥å¿—ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> &#123;<br>  <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> name;<br>  <span class="hljs-type">bool</span> mute = <span class="hljs-literal">false</span>;<br><br>  <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªç§æœ‰çš„_cacheå±æ€§ï¼Œç”¨æ¥ä¿å­˜åˆ›å»ºå¥½çš„Loggerå¯¹è±¡</span><br>  <span class="hljs-type">static</span> <span class="hljs-keyword">final</span> Map&lt;<span class="hljs-type">String</span>, Logger&gt; _cache = &#123;&#125;;<br><br>  <span class="hljs-comment">// æ³¨æ„è¿™ä¸ªæ„é€ æ–¹æ³•ï¼Œå‰é¢ä½¿ç”¨äº†factoryå…³é”®å­—ä¿®é¥°ï¼Œè¿™ä»£è¡¨è¿™ä¸ªæ„é€ æ–¹æ³•æ˜¯ä¸€ä¸ªå·¥å‚æ„é€ æ–¹æ³•</span><br>  <span class="hljs-comment">// å·¥å‚æ„é€ æ–¹æ³•ä¸ä¼šæ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„Loggerå¯¹è±¡</span><br>  <span class="hljs-function">factory <span class="hljs-title">Logger</span><span class="hljs-params">(<span class="hljs-type">String</span> name)</span> </span>&#123;<br>    <span class="hljs-comment">// æ ¹æ®nameåˆ¤æ–­ç¼“å­˜çš„Loggerå¯¹è±¡æ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-keyword">if</span> (_cache.<span class="hljs-built_in">containsKey</span>(name)) &#123;<br>      <span class="hljs-comment">// è¿”å›ç¼“å­˜çš„Loggerå¯¹è±¡</span><br>      <span class="hljs-keyword">return</span> _cache[name]!;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œåˆ™è°ƒç”¨å‘½åæ„é€ æ–¹æ³•_internalåˆ›å»ºä¸€ä¸ªLoggerå¯¹è±¡</span><br>      <span class="hljs-keyword">final</span> logger = Logger._internal(name);<br>      <span class="hljs-comment">// æ ¹æ®nameç¼“å­˜logger</span><br>      _cache[name] = logger;<br>      <span class="hljs-comment">// è¿”å›æ–°çš„Loggerå¯¹è±¡</span><br>      <span class="hljs-keyword">return</span> logger;<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">// æ³¨æ„è¿™ä¸ªæ˜¯ä¸€ä¸ªç§æœ‰çš„å‘½åæ„é€ æ–¹æ³•ã€‚</span><br>  Logger._internal(<span class="hljs-keyword">this</span>.name);<br><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">(<span class="hljs-type">String</span> msg)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!mute) <span class="hljs-built_in">print</span>(msg);<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//2ã€æµ‹è¯•</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>  var logger = <span class="hljs-built_in">Logger</span>(<span class="hljs-string">&quot;erdai&quot;</span>);<br>  logger.<span class="hljs-built_in">log</span>(logger.name);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>erdai<br></code></pre></td></tr></table></figure><h3 id="5-3ã€ç»§æ‰¿å’Œå¤šæ€"><a href="#5-3ã€ç»§æ‰¿å’Œå¤šæ€" class="headerlink" title="5.3ã€ç»§æ‰¿å’Œå¤šæ€"></a>5.3ã€ç»§æ‰¿å’Œå¤šæ€</h3><h4 id="5-3-1ã€ç»§æ‰¿"><a href="#5-3-1ã€ç»§æ‰¿" class="headerlink" title="5.3.1ã€ç»§æ‰¿"></a>5.3.1ã€ç»§æ‰¿</h4><p>1ï¼‰ã€Dart é€šè¿‡ extend å…³é”®å­—ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œå’Œ Java ç±»ä¼¼</p><p>2ï¼‰ã€å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»å¯è§çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸ä¼šç»§æ‰¿æ„é€ æ–¹æ³•</p><p>3ï¼‰ã€å­ç±»èƒ½å¤Ÿå¤å†™çˆ¶ç±»çš„ getterï¼Œsetterï¼Œä»¥åŠæ™®é€šæ–¹æ³•ï¼Œä½¿ç”¨ @override è¡¨ç¤ºè¦†å†™</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span></span>&#123;<br>  <span class="hljs-built_in">String</span> name = <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-built_in">int</span> age = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-comment">//è®¡ç®—å±æ€§</span><br>  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> adult =&gt; <span class="hljs-keyword">this</span>.age &gt; <span class="hljs-number">18</span>;<br><br>  <span class="hljs-comment">//ç§æœ‰å±æ€§ï¼Œå¯¹äºå­ç±»ä¸å¯è§</span><br>  <span class="hljs-built_in">String</span> _address = <span class="hljs-string">&quot;&quot;</span>;<br><br>  <span class="hljs-keyword">void</span> method()&#123;<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Parent&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Children</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Parent</span></span>&#123;<br>  <br>  <span class="hljs-keyword">void</span> specificMethod()&#123;<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Children specificMethod&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">void</span> main()&#123;<br>  <span class="hljs-keyword">var</span> child = Children();<br>  <span class="hljs-comment">//è°ƒç”¨å­ç±»è‡ªå·±çš„æ–¹æ³•</span><br>  child.specificMethod();<br>  <span class="hljs-comment">//è®¿é—®çˆ¶ç±»çš„å±æ€§</span><br>  child.name = <span class="hljs-string">&quot;erdai&quot;</span>;<br>  child.age = <span class="hljs-number">18</span>;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;<span class="hljs-subst">$&#123;child.name&#125;</span> <span class="hljs-subst">$&#123;child.age&#125;</span>&#x27;</span>);<br>  <span class="hljs-comment">//è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•</span><br>  child.method();<br>  <span class="hljs-comment">//è®¿é—®çˆ¶ç±»çš„è®¡ç®—å±æ€§</span><br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;<span class="hljs-subst">$&#123;child.adult&#125;</span>&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>Children specificMethod<br>erdai <span class="hljs-number">18</span><br>Parent<br><span class="hljs-keyword">false</span><br></code></pre></td></tr></table></figure><h4 id="5-3-2ã€å¤šæ€"><a href="#5-3-2ã€å¤šæ€" class="headerlink" title="5.3.2ã€å¤šæ€"></a>5.3.2ã€å¤šæ€</h4><p>1ï¼‰ã€ç®€å•çš„ç†è§£ï¼šå¤šæ€å°±æ˜¯å°†å­ç±»çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»çš„å¼•ç”¨ï¼ŒåŒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¼šæœ‰ä¸åŒçš„æ‰§è¡Œæ•ˆæœ</p><p>2ï¼‰ã€å¤šæ€çš„ä½“ç°ï¼šçˆ¶ç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè®©ç»§æ‰¿å®ƒçš„å­ç±»å»å®ç°ï¼Œæ¯ä¸ªå­ç±»æœ‰ä¸åŒçš„è¡¨ç°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span></span>&#123;<br>  void animalType()&#123;<br><br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  void animalType() &#123;<br>    print(&#x27;<span class="hljs-type">I</span> am dog&#x27;);<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Pig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span></span>&#123;<br><br>  <span class="hljs-meta">@override</span><br>  void animalType() &#123;<br>    print(&#x27;<span class="hljs-type">I</span> am pig&#x27;);<br>  &#125;<br>&#125;<br><br>void main()&#123;<br>  <span class="hljs-comment">//å­ç±»çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»çš„å¼•ç”¨</span><br>  <span class="hljs-type">Animal</span> animal1 = <span class="hljs-type">Dog</span>();<br>  <span class="hljs-type">Animal</span> animal2 = <span class="hljs-type">Pig</span>();<br>  <span class="hljs-comment">//åŒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¼šæœ‰ä¸åŒçš„æ‰§è¡Œæ•ˆæœ</span><br>  animal1.animalType();<br>  animal2.animalType();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-type">I</span> am dog<br><span class="hljs-type">I</span> am pig<br></code></pre></td></tr></table></figure><h3 id="5-4ã€æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•"><a href="#5-4ã€æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•" class="headerlink" title="5.4ã€æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•"></a>5.4ã€æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•</h3><p>1ï¼‰ã€æŠ½è±¡ç±»å°±æ˜¯ä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼Œé€šè¿‡ abstract å…³é”®å­—å£°æ˜</p><p>2ï¼‰ã€æŠ½è±¡æ–¹æ³•å°±æ˜¯æ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼ŒDart ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸èƒ½ç”¨ abstract å£°æ˜ï¼ŒDart ä¸­æ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•å°±ç§°ä¸ºæŠ½è±¡æ–¹æ³•</p><p>3ï¼‰ã€ç»§æ‰¿æŠ½è±¡ç±»ï¼Œå­ç±»å¿…é¡»è¦å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">// ä½¿ç”¨ abstract å…³é”®å­—ä¿®é¥°çš„ç±»ï¼Œå°±æ˜¯æŠ½è±¡ç±»</span><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Doer</span></span>&#123;<br>  <span class="hljs-comment">// æŠ½è±¡ç±»è·Ÿæ™®é€šç±»ä¸€æ ·ï¼Œå¯ä»¥å®šä¹‰æˆå‘˜å˜é‡ï¼Œæˆå‘˜æ–¹æ³•ã€‚</span><br>  <span class="hljs-type">String</span> name = <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-comment">// å®šä¹‰ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æˆ‘ä»¬æ²¡æœ‰å®ç°å…·ä½“çš„åŠŸèƒ½</span><br>  void doSomething();<br>&#125;<br><br><span class="hljs-comment">// ç»§æ‰¿æŠ½è±¡ç±» Doer</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EffectiveDoer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Doer</span></span>&#123;<br>  <span class="hljs-comment">// å®ç°æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•</span><br>  <span class="hljs-meta">@override</span><br>  void doSomething() &#123;<br>    print(&#x27;doSomething&#x27;);<br>  &#125;<br>&#125;<br><br>void main()&#123;<br>  <span class="hljs-keyword">var</span> doer = <span class="hljs-type">EffectiveDoer</span>();<br>  doer.doSomething();<br>  doer.name = <span class="hljs-string">&quot;erdai&quot;</span>;<br>  print(doer.name);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>doSomething<br>erdai<br></code></pre></td></tr></table></figure><h3 id="5-5ã€æ¥å£"><a href="#5-5ã€æ¥å£" class="headerlink" title="5.5ã€æ¥å£"></a>5.5ã€æ¥å£</h3><p>1ï¼‰ã€Dart ä¸­çš„æ¥å£æ²¡æœ‰ä½¿ç”¨ interface å…³é”®å­—å®šä¹‰ï¼Œè€Œæ˜¯æ™®é€šç±»å’ŒæŠ½è±¡ç±»éƒ½å¯ä»¥ä½œä¸ºæ¥å£è¢«å®ç°ã€‚ä½†æ˜¯ä¸€èˆ¬éƒ½æ˜¯ç”¨æŠ½è±¡ç±»æ¥å®šä¹‰æ¥å£</p><p>2ï¼‰ã€å­ç±»é€šè¿‡ implements æ¥å®ç°æ¥å£</p><p>3ï¼‰ã€é»˜è®¤æƒ…å†µæ¯ä¸€ä¸ªç±»éƒ½<strong>éšå«</strong>ä¸€ä¸ªåŒ…å«æ‰€æœ‰å…¬æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰çš„æ¥å£å®šä¹‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Fruit</span>&#123;<br>  <span class="hljs-comment">// åŒ…å«åœ¨éšå¼æ¥å£é‡Œé¢</span><br>  <span class="hljs-title class_">String</span> name = <span class="hljs-string">&quot;&quot;</span>;<br>  <br>  <span class="hljs-comment">// æ„é€ æ–¹æ³•ä¸åŒ…å«åœ¨éšå¼æ¥å£é‡Œé¢</span><br>  <span class="hljs-title class_">Fruit</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  <br>  <span class="hljs-comment">// åŒ…å«åœ¨éšå¼æ¥å£é‡Œé¢</span><br>  <span class="hljs-built_in">void</span> <span class="hljs-title function_">eat</span>();<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Apple</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Fruit</span>&#123;<br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-title class_">String</span> name = <span class="hljs-string">&quot;è‹¹æœ&quot;</span>;<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-built_in">void</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;åƒ$name&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">var</span> fruit = <span class="hljs-title class_">Apple</span>();<br>  fruit.<span class="hljs-title function_">eat</span>();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>åƒè‹¹æœ<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šè™½ç„¶æ™®é€šç±»ä¹Ÿå¯ä»¥ä½œä¸ºæ¥å£å®ç°ï¼Œä½†æ˜¯ä¾ç„¶éœ€è¦å®ç°æ™®é€šç±»é‡Œé¢æ‰€æœ‰çš„å…¬æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œå› æ­¤å»ºè®®å¤§å®¶ä½¿ç”¨æŠ½è±¡ç±»æ¥ä½œä¸ºæ¥å£å®ç°ï¼Œå› ä¸ºæŠ½è±¡ç±»æœ¬æ¥å°±æ˜¯ç”¨æ¥å®šä¹‰ç»™å­ç±»å®ç°çš„</p><h2 id="å…­ã€ç©ºå®‰å…¨æ£€æŸ¥"><a href="#å…­ã€ç©ºå®‰å…¨æ£€æŸ¥" class="headerlink" title="å…­ã€ç©ºå®‰å…¨æ£€æŸ¥"></a>å…­ã€ç©ºå®‰å…¨æ£€æŸ¥</h2><p>1ï¼‰ã€Dart åœ¨ 2.12 ç‰ˆæœ¬å’Œ Flutter 2.0 ä¸­å¼•å…¥äº†ç©ºå®‰å…¨çš„æ–°ç‰¹æ€§ï¼Œåœ¨ç©ºå®‰å…¨ç‰ˆæœ¬ä¸‹ï¼Œè¿è¡Œæ—¶çš„ <strong>NPE (NullPointer Exception)</strong> å¼‚å¸¸è¢«æå‰åˆ°äº†ç¼–è¯‘æœŸ</p><p>2ï¼‰ã€åœ¨ç©ºå®‰å…¨æ¨å‡ºä¹‹å‰ï¼Œé™æ€ç±»å‹ç³»ç»Ÿå…è®¸æ‰€æœ‰çš„ç±»å‹å€¼ä¸º nullï¼Œå› ä¸º Null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»ã€‚è€Œåœ¨ç©ºå®‰å…¨æ¨å‡ºåï¼Œæ‰€æœ‰ç±»å‹é»˜è®¤ä¸ºä¸å¯ç©ºç±»å‹ï¼ŒNull ä¸å†æ˜¯æ‰€æœ‰ç±»çš„å­ç±»ï¼Œå®ƒå˜æˆäº†å’Œå…¶ä»–ç±»å‹å¹¶è¡Œçš„ç±»</p><p>3ï¼‰ã€Dart æ–°å¢äº†ä¸€äº›å…³é”®å­—ç”¨äºç©ºå®‰å…¨ï¼Œå¦‚ä¸‹ï¼š</p><table><thead><tr><th><strong>å…³é”®å­—</strong></th><th><strong>å«ä¹‰</strong></th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>?</td><td>å¯ç©º</td><td>int a?;</td></tr><tr><td>!</td><td>éç©º</td><td>int b &#x3D; a!;</td></tr><tr><td>late</td><td>å»¶è¿Ÿåˆå§‹åŒ–</td><td>late int a;</td></tr><tr><td>required</td><td>å¯é€‰å‚æ•°çš„ä¸å¯ç©º</td><td>{required int a}</td></tr></tbody></table><h3 id="6-1ã€ç©ºç±»å‹å£°æ˜ç¬¦-ï¼Ÿ"><a href="#6-1ã€ç©ºç±»å‹å£°æ˜ç¬¦-ï¼Ÿ" class="headerlink" title="6.1ã€ç©ºç±»å‹å£°æ˜ç¬¦ ï¼Ÿ"></a>6.1ã€<strong>ç©ºç±»å‹å£°æ˜ç¬¦ ï¼Ÿ</strong></h3><p>1ï¼‰ã€åœ¨ç±»å‹åé¢åŠ ä¸Š ï¼Ÿï¼Œè¡¨ç¤ºå¯ç©ºç±»å‹</p><p>2ï¼‰ã€ä½¿ç”¨ var å…³é”®å­—å®šä¹‰çš„å˜é‡ä¹Ÿæ˜¯å¯ç©ºç±»å‹</p><p>3ï¼‰ã€å¯ç©ºç±»å‹å˜é‡çš„è°ƒç”¨ï¼Œä½¿ç”¨ ?. æ“ä½œç¬¦ï¼Œå®ƒè¡¨ç¤ºå¦‚æœå½“å‰å¯¹è±¡ä¸ä¸º null åˆ™è°ƒç”¨ï¼Œä¸º null åˆ™ä»€ä¹ˆéƒ½ä¸åš</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-comment">//1ã€åœ¨ç±»å‹åé¢åŠ ä¸Š ï¼Ÿï¼Œè¡¨ç¤ºå¯ç©ºç±»å‹</span><br><span class="hljs-keyword">void</span> main() &#123;<br>  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ª String çš„å¯ç©ºç±»å‹ï¼Œé»˜è®¤å€¼ä¸º null</span><br>  String? <span class="hljs-built_in">str</span>;<br>  <span class="hljs-comment">//ç¼–è¯‘æŠ¥çº¢ï¼Œå› ä¸ºå¯ç©ºç±»å‹éœ€è¦ä½¿ç”¨ ?. è°ƒç”¨</span><br>  <span class="hljs-comment">//æç¤ºï¼šThe property &#x27;length&#x27; can&#x27;t be unconditionally accessed because the receiver can be &#x27;null&#x27;.</span><br>  <span class="hljs-keyword">print</span>(<span class="hljs-built_in">str</span>.length); <br>&#125;<br><br><span class="hljs-comment">//2ã€ä½¿ç”¨ var å…³é”®å­—å®šä¹‰çš„å˜é‡ä¹Ÿæ˜¯å¯ç©ºç±»å‹</span><br><span class="hljs-keyword">void</span> main() &#123;<br>  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªåŠ¨æ€çš„å¯ç©ºç±»å‹ strï¼Œé»˜è®¤å€¼ä¸º null</span><br>  <span class="hljs-built_in">var</span> <span class="hljs-built_in">str</span>;<br>  <span class="hljs-comment">//ä¸‹é¢è¿™å¥ä»£ç ä¼šç»•è¿‡ç¼–è¯‘å™¨æ£€æŸ¥ï¼Œä½†è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼šNoSuchMethodError: &#x27;length&#x27;</span><br>  <span class="hljs-keyword">print</span>(<span class="hljs-built_in">str</span>.length);<br>&#125;<br><br><span class="hljs-comment">//3ã€å¯ç©ºç±»å‹å˜é‡çš„è°ƒç”¨ï¼Œä½¿ç”¨ ?. æ“ä½œç¬¦ï¼Œå®ƒè¡¨ç¤ºå¦‚æœå½“å‰å¯¹è±¡ä¸ä¸º null åˆ™è°ƒç”¨ï¼Œä¸º null åˆ™ä»€ä¹ˆéƒ½ä¸åš</span><br><span class="hljs-keyword">void</span> main() &#123;<br>  String? str1;<br>  <span class="hljs-built_in">var</span> str2;<br>  <span class="hljs-keyword">print</span>(str1?.length);<br>  <span class="hljs-keyword">print</span>(str2?.length);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-literal">null</span><br><span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><h3 id="6-2ã€éç©ºæ–­è¨€"><a href="#6-2ã€éç©ºæ–­è¨€" class="headerlink" title="6.2ã€éç©ºæ–­è¨€ !"></a>6.2ã€<strong>éç©ºæ–­è¨€ !</strong></h3><p>1ï¼‰ã€ä½¿ç”¨ ! å…³é”®å­—è¡¨ç¤ºå‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ä¸€ä¸ªä¸å¯èƒ½ä¸ºç©ºçš„å˜é‡ã€‚å¦‚æœä¸ºç©ºï¼Œä½ å°±æŠ›å¼‚å¸¸</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-built_in">String</span>? <span class="hljs-title function_">getName</span>() =&gt; <span class="hljs-string">&quot;erdai&quot;</span>;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>() &#123;<br> <span class="hljs-built_in">String</span>? <span class="hljs-built_in">str</span> = <span class="hljs-title function_">getName</span>();<br> <span class="hljs-comment">//æ­¤æ—¶ä¼šç¼–è¯‘æŠ¥çº¢ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•æ™ºèƒ½åˆ¤ç©º</span><br> <span class="hljs-comment">//print(str.length);</span><br> <span class="hljs-comment">//å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ ! å…³é”®å­—</span><br> <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>!.<span class="hljs-property">length</span>);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h3 id="6-3ã€late-å»¶è¿Ÿåˆå§‹åŒ–"><a href="#6-3ã€late-å»¶è¿Ÿåˆå§‹åŒ–" class="headerlink" title="6.3ã€late å»¶è¿Ÿåˆå§‹åŒ–"></a>6.3ã€<strong>late å»¶è¿Ÿåˆå§‹åŒ–</strong></h3><p>1ï¼‰ã€late å…³é”®å­—ä¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼šè¿™æ˜¯ä¸ªéç©ºå˜é‡ï¼Œæˆ‘ç¨åä¼šåˆå§‹åŒ–</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-comment">//æ­¤æ—¶ä¼šç¼–è¯‘æŠ¥çº¢ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå‘Šè¯‰æˆ‘ä»¬éç©ºå˜é‡å¿…é¡»å…ˆåˆå§‹åŒ–</span><br><span class="hljs-comment">//String str;</span><br><span class="hljs-comment">//å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ late å…³é”®å­—</span><br>late <span class="hljs-built_in">String</span> <span class="hljs-built_in">str</span>;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>() &#123;<br>  <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;erdai&quot;</span>;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>erdai<br></code></pre></td></tr></table></figure><h3 id="6-4ã€required-å…³é”®å­—"><a href="#6-4ã€required-å…³é”®å­—" class="headerlink" title="6.4ã€required å…³é”®å­—"></a>6.4ã€<strong>required å…³é”®å­—</strong></h3><p>1ï¼‰ã€required å…³é”®å­—ä¸»è¦æ˜¯ç”¨æ¥æ ‡è®°å‘½åå‚æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶ä¸€å®šè¦ç»™ä»–ä»¬èµ‹å€¼ï¼Œä½¿å¾—ä»–ä»¬ä¸ä¸ºç©º</p><p>2ï¼‰ã€ä½¿ç”¨ required ä¿®é¥°çš„å‚æ•°ä¸èƒ½æä¾›é»˜è®¤å€¼</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">void</span> optionFunction(<span class="hljs-keyword">var</span> value1,&#123;<span class="hljs-keyword">required</span> <span class="hljs-keyword">var</span> value2,<span class="hljs-keyword">var</span> value3 = <span class="hljs-number">3</span>&#125;)&#123;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;<span class="hljs-subst">$value1</span> <span class="hljs-subst">$value2</span> <span class="hljs-subst">$value3</span>&#x27;</span>);<br>&#125; <br><br><span class="hljs-keyword">void</span> main() &#123;<br>  optionFunction(<span class="hljs-number">1</span>, value2: <span class="hljs-number">100</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">1</span> <span class="hljs-number">100</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€æœ‰è¶£çš„è¿ç®—ç¬¦é‡è½½"><a href="#ä¸ƒã€æœ‰è¶£çš„è¿ç®—ç¬¦é‡è½½" class="headerlink" title="ä¸ƒã€æœ‰è¶£çš„è¿ç®—ç¬¦é‡è½½"></a>ä¸ƒã€æœ‰è¶£çš„è¿ç®—ç¬¦é‡è½½</h2><p>ä¸ Kotlin ç±»ä¼¼ï¼ŒDart çš„è¿ç®—ç¬¦é‡è½½å…è®¸æˆ‘ä»¬è®©ä»»æ„ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œç›¸åŠ ï¼Œæˆ–è€…æ˜¯è¿›è¡Œå…¶ä»–æ›´å¤šçš„è¿ç®—æ“ä½œ</p><p>1ï¼‰ã€è¿ç®—ç¬¦é‡è½½ä½¿ç”¨çš„æ˜¯ operator å…³é”®å­—ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æŒ‡å®šè¿ç®—ç¬¦å‰é¢åŠ ä¸Š operator å…³é”®å­—ï¼Œå°±å¯ä»¥å®ç°è¿ç®—ç¬¦é‡è½½çš„åŠŸèƒ½äº†ï¼ŒDart æ”¯æŒçš„é‡è½½è¿ç®—ç¬¦å¦‚ä¸‹ï¼š</p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bnf"><span class="hljs-attribute">&lt;   +   |   []</span><br><span class="hljs-attribute">&gt;</span>   /   ^   []=<br><span class="hljs-attribute">&lt;=  ~/  &amp;   ~</span><br><span class="hljs-attribute">&gt;</span>=  *   <span class="hljs-attribute">&lt;&lt;  ==</span><br><span class="hljs-attribute">â€“   %   &gt;</span>&gt;<br></code></pre></td></tr></table></figure><p>2ï¼‰ã€é‡è½½è¿ç®—ç¬¦çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arduino">å‡½æ•°è¿”å›å€¼ <span class="hljs-keyword">operator</span> è¿ç®—ç¬¦(è¿ç®—ç¬¦å‚æ•°) &#123;<br>    <span class="hljs-comment">// å®ç°è¿ç®—ç¬¦é‡è½½é€»è¾‘</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬å°±æ¥å®è·µä¸€ä¸‹ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">class</span> <span class="hljs-type">Money</span>&#123;<br>  <span class="hljs-type">int</span> <span class="hljs-keyword">value</span> = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-type">Money</span>(this.<span class="hljs-keyword">value</span>);<br><br>  //é‡è½½ + å·è¿ç®—ç¬¦, ä¸¤ä¸ª <span class="hljs-type">Money</span> å¯¹è±¡ç›¸åŠ ,ç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ <span class="hljs-type">Money</span> å¯¹è±¡<br>  <span class="hljs-type">Money</span> <span class="hljs-keyword">operator</span> +(<span class="hljs-type">Money</span> <span class="hljs-type">money</span>)&#123;<br>    var sum = <span class="hljs-keyword">value</span> + <span class="hljs-type">money</span>.<span class="hljs-keyword">value</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-type">Money</span>(sum);<br>  &#125;<br>&#125;<br><br><span class="hljs-type">void</span> main() &#123;<br>  var money1 = <span class="hljs-type">Money</span>(<span class="hljs-number">100</span>);<br>  var money2 = <span class="hljs-type">Money</span>(<span class="hljs-number">200</span>);<br>  //ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ <br>  var money3 = money1 + money2;<br>  print(money3.<span class="hljs-keyword">value</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å…«ã€-mixin-æ··å…¥"><a href="#å…«ã€-mixin-æ··å…¥" class="headerlink" title="å…«ã€ mixin æ··å…¥"></a>å…«ã€ mixin æ··å…¥</h2><p>1ï¼‰ã€å‰é¢è¯´åˆ° Dart è¯­è¨€çš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å®ç°ç±»ä¼¼å¤šç»§æ‰¿çš„æ•ˆæœå¯ä»¥ä½¿ç”¨ mixin æœºåˆ¶ï¼Œåˆå«æ··å…¥æœºåˆ¶ï¼Œä¾‹å¦‚æŠŠç±» A æ··å…¥åˆ°ç±» B ä¸­ï¼Œé‚£ä¹ˆç±» B å°±æ‹¥æœ‰äº†ç±» A çš„æˆå‘˜ï¼Œè·Ÿç»§æ‰¿çš„ç‰¹æ€§éå¸¸ç›¸ä¼¼</p><p>2ï¼‰ã€å®šä¹‰ä¸€ä¸ªå¯ä»¥è¢« mixin çš„ç±»ï¼Œä½¿ç”¨ mixin å…³é”®å­—ä»£æ›¿ class å…³é”®å­—å³å¯</p><p>3ï¼‰ã€ç»§æ‰¿è¢« mixin çš„ç±»ï¼Œä½¿ç”¨ with å…³é”®å­—ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œä¸­é—´ç”¨ , éš”å¼€</p><p>4ï¼‰ã€è¢« mixin çš„ç±»åªèƒ½ç»§æ‰¿è‡ª Objectï¼Œä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œä¸”ä¸èƒ½æœ‰æ„é€ æ–¹æ³•</p><p>5ï¼‰ã€ä½¿ç”¨ on å…³é”®å­—å¯ä»¥æŒ‡å®šå“ªäº›ç±»å¯ä»¥ä½¿ç”¨è¯¥ mixin ç±»ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œä¸­é—´ç”¨ , éš”å¼€</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">//1ã€å®šä¹‰ä¸€ä¸ªå¯ä»¥è¢« mixin çš„ç±»ï¼Œä½¿ç”¨ mixin å…³é”®å­—ä»£æ›¿ class å…³é”®å­—å³å¯</span><br><span class="hljs-comment">//2ã€ç»§æ‰¿è¢« mixin çš„ç±»ï¼Œä½¿ç”¨ with å…³é”®å­—ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œä¸­é—´ç”¨ , éš”å¼€</span><br><span class="hljs-keyword">mixin</span> A&#123;<br>  <span class="hljs-built_in">void</span> getA()&#123;<br>    print(<span class="hljs-string">&#x27;A&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">mixin</span> B&#123;<br>  <span class="hljs-built_in">void</span> getB()&#123;<br>    print(<span class="hljs-string">&#x27;B&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-symbol">C</span>&#123;<br>  <span class="hljs-built_in">void</span> getC()&#123;<br>    print(<span class="hljs-string">&#x27;C&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-symbol">CC</span> <span class="hljs-symbol">extends</span> <span class="hljs-symbol">C</span> <span class="hljs-symbol">with</span> <span class="hljs-symbol">A,<span class="hljs-symbol">B</span></span>&#123;&#125;<br><br><span class="hljs-built_in">void</span> main() &#123;<br>  var cc = CC();<br>  cc.getA();<br>  cc.getB();<br>  cc.getC();<br>  print(cc <span class="hljs-keyword">is</span> A);<br>  print(cc <span class="hljs-keyword">is</span> B);<br>  print(cc <span class="hljs-keyword">is</span> C);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>A<br>B<br>C<br><span class="hljs-literal">true</span><br><span class="hljs-literal">true</span><br><span class="hljs-literal">true</span><br>  <br><span class="hljs-comment">//3ã€è¢« mixin çš„ç±»åªèƒ½ç»§æ‰¿è‡ª Objectï¼Œä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œä¸”ä¸èƒ½æœ‰æ„é€ æ–¹æ³•</span><br><span class="hljs-keyword">class</span> <span class="hljs-symbol">D</span> &#123;&#125;<br><br><span class="hljs-comment">//ç¼–è¯‘æŠ¥é”™ï¼Œmixin ç±»ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ï¼Œåªèƒ½ç»§æ‰¿è‡ª Object</span><br><span class="hljs-keyword">mixin</span> E extends D&#123;<br>   <span class="hljs-comment">//ç¼–è¯‘æŠ¥é”™ï¼Œmixin ç±»ä¸èƒ½æœ‰æ„é€ æ–¹æ³•</span><br>   E();<br>&#125;<br><br><span class="hljs-comment">//4ã€ä½¿ç”¨ on å…³é”®å­—å¯ä»¥æŒ‡å®šå“ªäº›ç±»å¯ä»¥ä½¿ç”¨è¯¥ mixin ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-symbol">F</span>&#123;&#125;<br><br><span class="hljs-keyword">mixin</span> G on F&#123;&#125;<br><br><span class="hljs-comment">//class I with G&#123;&#125; //ç¼–è¯‘æŠ¥é”™ï¼šmixin ç±» G æ²¡æœ‰æŒ‡å®š I å¯ä»¥ä½¿ç”¨</span><br><span class="hljs-keyword">class</span> <span class="hljs-symbol">I</span> <span class="hljs-symbol">extends</span> <span class="hljs-symbol">F</span> <span class="hljs-symbol">with</span> <span class="hljs-symbol">G</span>&#123;&#125; <span class="hljs-comment">//ç¼–è¯‘é€šè¿‡ï¼Œç»§æ‰¿ F é—´æ¥çš„ä½¿ç”¨ mixin ç±» G</span><br></code></pre></td></tr></table></figure><h2 id="ä¹ã€Dart-æ³›å‹"><a href="#ä¹ã€Dart-æ³›å‹" class="headerlink" title="ä¹ã€Dart æ³›å‹"></a>ä¹ã€Dart æ³›å‹</h2><p>æ³›å‹ç¼–ç¨‹æœºåˆ¶æœ€ä¸»è¦çš„ç›®çš„æ˜¯ä¸ºäº†ä»£ç å¤ç”¨ï¼Œé¿å…ç±»å‹è½¬æ¢å¼‚å¸¸ã€‚å¦‚æœä½ å¯¹ Java ï¼ŒKotlin æ³›å‹å¾ˆç†Ÿæ‚‰ï¼Œä½ ä¼šè§‰å¾— Dart æ³›å‹éå¸¸ç®€å•ã€‚å¯¹ Java ï¼ŒKotlin æ³›å‹è¿˜ä¸ç†Ÿæ‚‰çš„ï¼Œçœ‹æˆ‘è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6950042154496425992">ä¼ é€é—¨</a></p><p>1ï¼‰ã€Dart ä¸­æ³›å‹ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ä½¿ç”¨ï¼š</p><p>1ã€æ³›å‹ç±»</p><p>2ã€æ³›å‹æ¥å£</p><p>3ã€é™åˆ¶æ³›å‹ç±»å‹</p><h3 id="9-1ã€æ³›å‹ç±»å’Œæ³›å‹æ¥å£"><a href="#9-1ã€æ³›å‹ç±»å’Œæ³›å‹æ¥å£" class="headerlink" title="9.1ã€æ³›å‹ç±»å’Œæ³›å‹æ¥å£"></a>9.1ã€æ³›å‹ç±»å’Œæ³›å‹æ¥å£</h3><p>1ï¼‰ã€æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç±»ï¼Œæˆ–è€…æ¥å£çš„æ—¶å€™ï¼Œåœ¨ç±»ååé¢å¢åŠ æ³›å‹å‚æ•°ï¼Œå°±æ˜¯ä¸ºè¿™ä¸ªç±»æˆ–æ¥å£æ·»åŠ äº†ä¸€ä¸ªæ³›å‹</p><p>2ï¼‰ã€æ³›å‹è¯­æ³•æ ¼å¼ï¼š<code>&lt;T&gt;</code> ï¼Œå¤šä¸ªæ³›å‹ä¹‹é—´ç”¨ , éš”å¼€ï¼š&lt;T,K&gt;</p><p>3ï¼‰ã€æ³›å‹å‚æ•°çš„å‘½åå¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¹ æƒ¯ä½¿ç”¨å¤§å†™å­—æ¯ä»£è¡¨æ³›å‹å‚æ•°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">//ä¸€ã€æ³›å‹ç±»</span><br><span class="hljs-comment">//1ã€å®šä¹‰æ³›å‹ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericClass</span>&lt;T&gt;&#123;<br><br>  T? name;<br><br>  <span class="hljs-title class_">GenericClass</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br><br>  <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params">T? value</span>)&#123;<br>    name = value;<br>  &#125;<br><br>  T? <span class="hljs-title function_">getName</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> name;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//2ã€æ³›å‹ç±»ä½¿ç”¨</span><br><span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> genericClass = <span class="hljs-title class_">GenericClass</span>&lt;<span class="hljs-title class_">String</span>&gt;(<span class="hljs-string">&quot;&quot;</span>);<br>  genericClass.<span class="hljs-title function_">setName</span>(<span class="hljs-string">&quot;erdai&quot;</span>);<br>  <span class="hljs-title function_">print</span>(genericClass.<span class="hljs-title function_">getName</span>());<br>&#125;<br><br><span class="hljs-comment">//3ã€æ‰“å°ç»“æœ</span><br>erdai<br>  <br><span class="hljs-comment">//äºŒã€æ³›å‹æ¥å£</span><br><span class="hljs-comment">//1ã€å®šä¹‰æ³›å‹æ¥å£</span><br><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericInterface</span>&lt;K,V&gt;&#123;<br>  <span class="hljs-built_in">void</span> <span class="hljs-title function_">setKeyValue</span>(K key,V value);<br>&#125;<br><br><span class="hljs-comment">//2ã€å®šä¹‰æ³›å‹æ¥å£å®ç°ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericInterfaceImpl</span>&lt;K,V&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">GenericInterface</span>&lt;K,V&gt;&#123;<br><br>  <span class="hljs-keyword">var</span> map = &#123;&#125;;<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-built_in">void</span> <span class="hljs-title function_">setKeyValue</span>(<span class="hljs-params">K key, V value</span>) &#123;<br>    map[key] = value;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//3ã€æ³›å‹æ¥å£ä½¿ç”¨</span><br><span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> impl = <span class="hljs-title class_">GenericInterfaceImpl</span>&lt;<span class="hljs-title class_">String</span>,int&gt;();<br>  impl.<span class="hljs-title function_">setKeyValue</span>(<span class="hljs-string">&quot;erdai&quot;</span>, <span class="hljs-number">666</span>);<br>  impl.<span class="hljs-property">map</span>.<span class="hljs-title function_">forEach</span>((key, value) &#123;<br>    <span class="hljs-title function_">print</span>(<span class="hljs-string">&#x27;$key $value&#x27;</span>);<br>  &#125;);<br>&#125;<br><br><span class="hljs-comment">//4ã€æ‰“å°ç»“æœ</span><br>erdai <span class="hljs-number">666</span><br></code></pre></td></tr></table></figure><h3 id="9-2ã€é™åˆ¶æ³›å‹ç±»å‹"><a href="#9-2ã€é™åˆ¶æ³›å‹ç±»å‹" class="headerlink" title="9.2ã€é™åˆ¶æ³›å‹ç±»å‹"></a>9.2ã€é™åˆ¶æ³›å‹ç±»å‹</h3><p>1ï¼‰ã€é™åˆ¶æ³›å‹å‚æ•°ç±»å‹è¯­æ³•æ ¼å¼ï¼š&lt;æ³›å‹å‚æ•° extends çˆ¶ç±»&gt;</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseClass</span></span>&#123;<br><br>  void baseMethod()&#123;<br>    print(&#x27;<span class="hljs-type">BaseClass</span> baseMethod...&#x27;);<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseClass</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  void baseMethod() &#123;<br>    print(&#x27;<span class="hljs-type">Child</span> baseMethod&#x27;);<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//T ç±»å‹å¿…é¡»æ˜¯ BaseClass æˆ–è€…å…¶å­ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo&lt;T</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseClass&gt;</span></span>&#123;<br>  <span class="hljs-type">T</span>? t;<br>  <br>  <span class="hljs-type">Foo</span>(<span class="hljs-keyword">this</span>.t);<br><br>  void fooTest()&#123;<br>    t?.baseMethod();<br>  &#125;<br>&#125;<br><br>void main()&#123;<br>  <span class="hljs-comment">//1ã€ä½¿ç”¨çˆ¶ç±» BaseClass ä½œä¸ºæ³›å‹å‚æ•°æ˜¯å…è®¸çš„</span><br>  <span class="hljs-keyword">var</span> baseClass = <span class="hljs-type">BaseClass</span>();<br>  <span class="hljs-keyword">var</span> foo1 = <span class="hljs-type">Foo</span>&lt;<span class="hljs-type">BaseClass</span>&gt;(baseClass);<br>  foo1.fooTest();<br>  <br>  <span class="hljs-comment">//2ã€ä½¿ç”¨å­ç±» Child ä½œä¸ºæ³›å‹å‚æ•°</span><br>  <span class="hljs-keyword">var</span> childClass = <span class="hljs-type">Child</span>();<br>  <span class="hljs-keyword">var</span> foo2 = <span class="hljs-type">Foo</span>&lt;<span class="hljs-type">Child</span>&gt;(childClass);<br>  foo2.fooTest();<br><br>  <span class="hljs-comment">//3ã€å¦‚æœä¸ä¼ å…¥ä»»ä½•æ³›å‹å‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨çˆ¶ç±» BaseClass ä½œä¸ºæ³›å‹å‚æ•°</span><br>  <span class="hljs-keyword">var</span> foo3 = <span class="hljs-type">Foo</span>(baseClass);<br>  foo3.fooTest();<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-type">BaseClass</span> baseMethod...<br><span class="hljs-type">Child</span> baseMethod<br><span class="hljs-type">BaseClass</span> baseMethod...<br></code></pre></td></tr></table></figure><h2 id="åã€Dart-Import-å¯¼å…¥åŒ…"><a href="#åã€Dart-Import-å¯¼å…¥åŒ…" class="headerlink" title="åã€Dart Import å¯¼å…¥åŒ…"></a>åã€Dart Import å¯¼å…¥åŒ…</h2><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¯¼å…¥æˆ‘ä»¬çš„æœ¬åœ°æ¨¡å—æˆ–è€…ç¬¬ä¸‰æ–¹å¼€æºåŒ…ã€‚Dart ä¸­ä¸»è¦é€šè¿‡ import æŒ‡ä»¤å¯¼å…¥åŒ…</p><h3 id="10-1ã€å¯¼å…¥å†…ç½®åŒ…"><a href="#10-1ã€å¯¼å…¥å†…ç½®åŒ…" class="headerlink" title="10.1ã€å¯¼å…¥å†…ç½®åŒ…"></a>10.1ã€å¯¼å…¥å†…ç½®åŒ…</h3><p>1ï¼‰ã€Dart å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„åŒ…ï¼Œè¿™äº›å†…ç½®çš„åŒ…ä¼šéšç€ Dart sdk ä¸€èµ·å®‰è£…åœ¨æœ¬åœ°</p><p>2ï¼‰ã€å¯¼å…¥å†…ç½®åŒ…ä½¿ç”¨ dart: ä½œä¸ºè·¯å¾„å‰ç¼€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¯¼å…¥å†…ç½® math åŒ…ï¼Œä½¿ç”¨ dart: ä½œä¸ºå‰ç¼€ã€‚</span><br><span class="hljs-comment">// math åŒ…ä¸»è¦æä¾›ä¸€äº›æ•°å­¦ç›¸å…³çš„å‡½æ•°ï¼Œä¾‹å¦‚ï¼Œæ­£å¼¦å‡½æ•°ã€æ±‚æœ€å¤§å€¼å‡½æ•°ç­‰ç­‰</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:math&#x27;</span>;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// è°ƒç”¨ math åŒ…ä¸­çš„ max å‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•°ä¸­çš„æœ€å¤§å€¼ã€‚</span><br>  <span class="hljs-keyword">var</span> a = <span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>);<br>  <span class="hljs-title function_">print</span>(a); <span class="hljs-comment">//æ‰“å° 100</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="10-2ã€åŒ…çš„åˆ«å"><a href="#10-2ã€åŒ…çš„åˆ«å" class="headerlink" title="10.2ã€åŒ…çš„åˆ«å"></a>10.2ã€åŒ…çš„åˆ«å</h3><p>é»˜è®¤æƒ…å†µè°ƒç”¨åŒ…ä¸­çš„å‡½æ•°æˆ–è€…ç±»ï¼Œä¸éœ€è¦åŒ…åä½œä¸ºå‰ç¼€ï¼Œä¸Šé¢è°ƒç”¨äº† math åŒ…ä¸­çš„ max å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨åŒ…ä¸­çš„å‡½æ•°åã€‚ä½†æ˜¯è¿™æ ·ä¼šå­˜åœ¨å‘½åå†²çªçš„å¯èƒ½æ€§ï¼Œå¦‚æœå¯¼å…¥çš„ä¸¤ä¸ªåŒ…ï¼ŒåŒ…å«äº†åŒåçš„ç±»æˆ–è€…å‡½æ•°ï¼Œå°±ä¼šå‡ºç°å‘½åå†²çªï¼Œå› æ­¤æä¾›åˆ«åæœºåˆ¶</p><p>1ï¼‰ã€ä½¿ç”¨ as å…³é”®å­—æŒ‡å®šåŒ…çš„åˆ«å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä½¿ç”¨ as å…³é”®å­—ï¼ŒæŒ‡å®šåŒ…çš„åˆ«å</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:math&#x27;</span> <span class="hljs-keyword">as</span> math;<br><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// ä½¿ç”¨åˆ«åï¼Œå¼•ç”¨åŒ…ä¸­çš„å‡½æ•° ã€‚</span><br>  <span class="hljs-keyword">var</span> a = math.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>);<br>  <span class="hljs-title function_">print</span>(a); <span class="hljs-comment">//æ‰“å° 100</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="10-3ã€å¯¼å…¥åŒ…çš„éƒ¨åˆ†å†…å®¹"><a href="#10-3ã€å¯¼å…¥åŒ…çš„éƒ¨åˆ†å†…å®¹" class="headerlink" title="10.3ã€å¯¼å…¥åŒ…çš„éƒ¨åˆ†å†…å®¹"></a>10.3ã€å¯¼å…¥åŒ…çš„éƒ¨åˆ†å†…å®¹</h3><p>1ï¼‰ã€æœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³å¯¼å…¥æ•´ä¸ªåŒ…ï¼Œåªæƒ³å¯¼å…¥åŒ…é‡Œé¢çš„æŸä¸ªç±»æˆ–è€…æŸä¸ªå‡½æ•°ã€‚Dart æä¾›äº†show å’Œ hide å…³é”®å­—å¤„ç†å¯¼å…¥åŒ…çš„éƒ¨åˆ†å†…å®¹</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs lua">//<span class="hljs-number">1</span>ã€ä»…å¯¼å…¥ <span class="hljs-built_in">max</span> å‡½æ•°, å¯¼å…¥å¤šä¸ªå†…å®¹ä½¿ç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ show <span class="hljs-built_in">max</span>,<span class="hljs-built_in">sin</span><br>import <span class="hljs-string">&#x27;dart:math&#x27;</span> show <span class="hljs-built_in">max</span>;<br><br>//<span class="hljs-number">2</span>ã€é™¤äº†<span class="hljs-built_in">max</span>å‡½æ•°ï¼Œå¯¼å…¥ <span class="hljs-built_in">math</span> ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚<br>import <span class="hljs-string">&#x27;dart:math&#x27;</span> hide <span class="hljs-built_in">max</span>;<br></code></pre></td></tr></table></figure><h3 id="10-4ã€å¯¼å…¥æœ¬åœ°æ¨¡å—"><a href="#10-4ã€å¯¼å…¥æœ¬åœ°æ¨¡å—" class="headerlink" title="10.4ã€å¯¼å…¥æœ¬åœ°æ¨¡å—"></a>10.4ã€å¯¼å…¥æœ¬åœ°æ¨¡å—</h3><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ä¼šå¯¼å…¥æœ¬åœ°çš„æ¨¡å—ï¼Œä¸€èˆ¬é¡¹ç›®ä¸­ä¼šæœ‰å¤šä¸ª dart è„šæœ¬æ–‡ä»¶ï¼Œæ¯ä¸ª dart è„šæœ¬å®ç°ä¸åŒæ¨¡å—çš„ä»£ç ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ç›´æ¥å¯¼å…¥ dart è„šæœ¬æ–‡ä»¶å³å¯</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>ä¾‹å¦‚æˆ‘æœ‰ä¸ªæœ¬åœ°æ¨¡å—ï¼šlibs/stack.dart<br><br><span class="hljs-regexp">//</span>å¯¼å…¥æœ¬åœ°æ¨¡å—<br><span class="hljs-regexp">//</span>ç›´æ¥é€šè¿‡æœ¬åœ°æ–‡ä»¶è·¯å¾„å¯¼å…¥ dart è„šæœ¬å³å¯<br>import <span class="hljs-string">&#x27;libs/stack.dart&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="10-5ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…"><a href="#10-5ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…" class="headerlink" title="10.5ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…"></a>10.5ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…</h3><h4 id="10-5-1ã€æŸ¥æ‰¾ç¬¬ä¸‰æ–¹å¼€æºåŒ…"><a href="#10-5-1ã€æŸ¥æ‰¾ç¬¬ä¸‰æ–¹å¼€æºåŒ…" class="headerlink" title="10.5.1ã€æŸ¥æ‰¾ç¬¬ä¸‰æ–¹å¼€æºåŒ…"></a>10.5.1ã€æŸ¥æ‰¾ç¬¬ä¸‰æ–¹å¼€æºåŒ…</h4><p><a href="https://pub.dev/">https://pub.dev/</a> ï¼šè¿™ä¸ªæ˜¯ pub çš„ä¸­å¤®ä»“åº“, ä¸Šé¢æœ‰å¤§é‡çš„ç¬¬ä¸‰æ–¹å¼€æºåŒ…ï¼Œå¯ä»¥åˆ°è¿™é‡Œæ‰¾åˆ°è‡ªå·±æƒ³è¦çš„åŒ…</p><h4 id="10-5-2ã€é…ç½®ä¾èµ–åŒ…"><a href="#10-5-2ã€é…ç½®ä¾èµ–åŒ…" class="headerlink" title="10.5.2ã€é…ç½®ä¾èµ–åŒ…"></a>10.5.2ã€é…ç½®ä¾èµ–åŒ…</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½• pubspec.yaml ä¸­é…ç½® dependencies å±æ€§ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p><blockquote><p>dependencies:</p><p>åŒ…å: ç‰ˆæœ¬å·</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">dependencies</span>:<br>  <span class="hljs-attribute">http</span>: ^<span class="hljs-number">0</span>.<span class="hljs-number">13</span>.<span class="hljs-number">5</span><br>  <span class="hljs-attribute">cupertino_icons</span>: ^<span class="hljs-number">1</span>.<span class="hljs-number">0</span>.<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>å…³äºç‰ˆæœ¬å·è¯´æ˜ï¼Œå¦‚ä¸‹:</p><ul><li>^1.2.1 ä»£è¡¨çš„æ›´æ–°ç‰ˆæœ¬èŒƒå›´ä¸º &gt;&#x3D;1.2.1 &amp;&amp; &lt; 2.0.0</li><li>^0.2.1 ä»£è¡¨çš„æ›´æ–°ç‰ˆæœ¬èŒƒå›´ä¸º &gt;&#x3D;0.2.1 &amp;&amp; &lt; 0.3.0</li><li>^0.0.2 ä»£è¡¨çš„æ›´æ–°ç‰ˆæœ¬èŒƒå›´ä¸º 0.0.2ï¼ˆç›¸å½“äºé”å®šä¸ºäº† 0.0.2 ç‰ˆæœ¬ï¼‰</li></ul><p><strong>è§„å¾‹</strong>ï¼š å®åˆ™å°±æ˜¯æŠŠ ^ åé¢é 0 çš„æ•°å­— +1 ï¼Œç„¶åæŠŠå…¶ä»–ä½å˜ä¸º 0 å°±æ˜¯å®ƒçš„æœ€å¤§ç‰ˆæœ¬ã€‚å¦å¤–å¦‚æœæœ€åä¸€ä½é 0 ï¼Œå…¶ä»–ä½ä¸º 0 ï¼Œå°±ç›¸å½“äºé”ç‰ˆæœ¬ã€‚å¦‚ï¼š</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coq">æœ€å¤§ç‰ˆæœ¬ï¼š^<span class="hljs-number">1.2</span><span class="hljs-number">.1</span> =&gt; <span class="hljs-number">2.2</span><span class="hljs-number">.1</span> =&gt; <span class="hljs-number">2.0</span><span class="hljs-number">.0</span> èŒƒå›´ï¼š<span class="hljs-number">1.2</span><span class="hljs-number">.1</span><span class="hljs-number">-2.0</span><span class="hljs-number">.0</span><br>æœ€å¤§ç‰ˆæœ¬ï¼š^<span class="hljs-number">0.2</span><span class="hljs-number">.1</span> =&gt; <span class="hljs-number">0.3</span><span class="hljs-number">.1</span> =&gt; <span class="hljs-number">0.3</span><span class="hljs-number">.0</span> èŒƒå›´ï¼š<span class="hljs-number">0.2</span><span class="hljs-number">.1</span><span class="hljs-number">-0.3</span><span class="hljs-number">.0</span><br>^<span class="hljs-number">0.0</span><span class="hljs-number">.2</span>ï¼šå›ºå®šç‰ˆæœ¬ï¼š<span class="hljs-number">0.0</span><span class="hljs-number">.2</span><br></code></pre></td></tr></table></figure><h4 id="10-5-3ã€ä¸‹è½½ä¾èµ–åŒ…"><a href="#10-5-3ã€ä¸‹è½½ä¾èµ–åŒ…" class="headerlink" title="10.5.3ã€ä¸‹è½½ä¾èµ–åŒ…"></a>10.5.3ã€ä¸‹è½½ä¾èµ–åŒ…</h4><p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">flutter pub <span class="hljs-keyword">get</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥ä½¿ç”¨å¼€å‘å·¥å…·çš„å¯è§†åŒ–ç•Œé¢æ“ä½œ</p><h4 id="10-5-4ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…"><a href="#10-5-4ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…" class="headerlink" title="10.5.4ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…"></a>10.5.4ã€å¯¼å…¥ç¬¬ä¸‰æ–¹å¼€æºåŒ…</h4><p>ä¾èµ–åŒ…ä¸‹è½½å®‰è£…åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ import å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œç¬¬ä¸‰æ–¹åŒ…å‰ç¼€ä¸º package:</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tcl">// è¿™é‡Œå¯¼å…¥ <span class="hljs-keyword">http</span> åŒ…ï¼Œåˆ«åä¸º <span class="hljs-keyword">http</span><br>import &#x27;<span class="hljs-keyword">package</span>:<span class="hljs-keyword">http</span>/<span class="hljs-keyword">http</span>.dart&#x27; as <span class="hljs-keyword">http</span>;<br></code></pre></td></tr></table></figure><h2 id="åä¸€ã€Dart-å¼‚å¸¸å¤„ç†"><a href="#åä¸€ã€Dart-å¼‚å¸¸å¤„ç†" class="headerlink" title="åä¸€ã€Dart å¼‚å¸¸å¤„ç†"></a>åä¸€ã€Dart å¼‚å¸¸å¤„ç†</h2><p>ç±»ä¼¼ Javaï¼ŒDart æä¾›äº† Exception å’Œ Error ä¸¤ç§ç±»å‹çš„å¼‚å¸¸ä»¥åŠä¸€äº›å­ç±»</p><p>1ï¼‰ã€ä½¿ç”¨ throw å…³é”®å­—æŠ›å‡ºè‡ªå®šä¹‰ç±»å‹å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å°†ä»»ä½•é null å¯¹è±¡ä½œä¸ºå¼‚å¸¸æŠ›å‡º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">throw</span> <span class="hljs-built_in">Exception</span>(<span class="hljs-string">&#x27;è¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸&#x27;</span>);<br><span class="hljs-keyword">throw</span> <span class="hljs-string">&#x27;è¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸&#x27;</span>;<br></code></pre></td></tr></table></figure><p><strong>å°å»ºè®®</strong>ï¼šä¸€èˆ¬å»ºè®®æŠ›å‡º Exception å’Œ Error , æˆ–è€…ä»–ä»¬çš„å­ç±»</p><p>2ï¼‰ã€ä½¿ç”¨ try&#x2F;on catch é…åˆæ•è·å¼‚å¸¸</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs scss">void <span class="hljs-selector-tag">main</span>() &#123;<br>  try &#123;<br>    <span class="hljs-selector-tag">var</span> s;<br>    <span class="hljs-built_in">print</span>(s.length);<br>  &#125; on NoSuchMethodError catch (e) &#123;<br>    <span class="hljs-comment">//æ•è·å¼‚å¸¸å¹¶æ‰“å°</span><br>    <span class="hljs-built_in">print</span>(e);<br>  &#125; catch (e, s) &#123;<br>    <span class="hljs-comment">//å…œåº•å¤„ç† eï¼šæŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ sï¼šæ ˆä¿¡æ¯ï¼Œæ­¤å‚æ•°å¯å†™å¯ä¸å†™</span><br>    <span class="hljs-built_in">print</span>(e);<br>    <span class="hljs-built_in">print</span>(s);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼š</p><p>1ã€ä½¿ç”¨ on å’Œ catch æ¥æ•è·å¼‚å¸¸ï¼šon ç”¨æ¥æŒ‡å®šå¼‚å¸¸çš„ç±»å‹ï¼Œcatch åˆ™ç”¨æ¥æ•è·å¯¹è±¡</p><p>2ã€å½“æŠ›å‡ºçš„é”™è¯¯å¹¶ä¸æ˜¯ on æŒ‡å®šçš„å¼‚å¸¸ç±»å‹æ—¶ï¼Œåˆ™èµ°æœ€åé¢çš„ catch å…œåº•</p><p>3ã€å…œåº• catch æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ ˆä¿¡æ¯</p><p>3ï¼‰ã€ä½¿ç”¨ rethrow å†æ¬¡æŠ›å‡ºå¼‚å¸¸</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">exceptionMethod</span>()</span>&#123;<br>  <span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-built_in">dynamic</span> b = <span class="hljs-literal">true</span>;<br>    print(b++); <span class="hljs-comment">//NoSuchMethodError</span><br>  &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>    rethrow; <span class="hljs-comment">//å°†ä¸Šè¿°å¼‚å¸¸å†æ¬¡æŠ›å‡º</span><br>  &#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>()</span> &#123;<br>  <span class="hljs-keyword">try</span> &#123;<br>    exceptionMethod();<br>  &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>    <span class="hljs-comment">//æ•è·å¼‚å¸¸å¹¶æ‰“å°</span><br>    print(e);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åäºŒã€Dart-å¼‚æ­¥å¤„ç†"><a href="#åäºŒã€Dart-å¼‚æ­¥å¤„ç†" class="headerlink" title="åäºŒã€Dart å¼‚æ­¥å¤„ç†"></a>åäºŒã€Dart å¼‚æ­¥å¤„ç†</h2><p>Dart æ˜¯å•çº¿ç¨‹æ¨¡å‹çš„è¯­è¨€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ç¨‹åºä¸­åšè€—æ—¶æ“ä½œï¼šè¯·æ±‚ Api æ¥å£ï¼Œæ–‡ä»¶ IO ç­‰ï¼Œå°±å¯èƒ½å¯¼è‡´ç‚¹å‡»äº‹ä»¶æ²¡æœ‰å“åº”ï¼Œç¨‹åºå¡é¡¿ä¹‹ç±»çš„æƒ…å†µã€‚ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µï¼ŒDart å¼•å…¥äº†å¼‚æ­¥æ“ä½œæœºåˆ¶ï¼š</p><p>1ã€Dart å¼‚æ­¥å¤„ç†ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥ç»§ç»­è¿è¡Œ</p><p>2ã€å› ä¸º Dart çš„å¼‚æ­¥æœºåˆ¶å¹¶ä¸æ¶‰åŠçº¿ç¨‹çš„åˆ‡æ¢ï¼Œä»…ä»…æ˜¯ç”±æˆ‘ä»¬çš„ç¼–ç¨‹è¯­è¨€å»æ§åˆ¶ï¼Œæ‰€ä»¥å®ƒçš„æ‰§è¡Œæ•ˆç‡éå¸¸é«˜</p><h3 id="12-1ã€Dart-å¼‚æ­¥å¤„ç†çš„ç”¨æ³•"><a href="#12-1ã€Dart-å¼‚æ­¥å¤„ç†çš„ç”¨æ³•" class="headerlink" title="12.1ã€Dart å¼‚æ­¥å¤„ç†çš„ç”¨æ³•"></a>12.1ã€Dart å¼‚æ­¥å¤„ç†çš„ç”¨æ³•</h3><p>1ï¼‰ã€Dart è¯­è¨€ä¸­ï¼Œæœ‰å¾ˆå¤šåº“çš„å‡½æ•°è¿”å› Future æˆ–è€… Stream å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡éƒ½æ˜¯ Dart å¯¹å¼‚æ­¥ç¼–ç¨‹æ”¯æŒçš„å®ç°</p><p>Future - ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥è®¡ç®—ä»»åŠ¡ï¼Œå¯ä»¥è·å–ä»»åŠ¡çš„è®¡ç®—ç»“æœ</p><p>Stream - ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥çš„æ•°æ®åºåˆ—ï¼Œé€šå¸¸ç”¨äºè¯»å–è¿ç»­çš„æ•°æ®æˆ–è€…äº‹ä»¶</p><h4 id="12-1-1ã€Future"><a href="#12-1-1ã€Future" class="headerlink" title="12.1.1ã€Future"></a>12.1.1ã€Future</h4><p>1ï¼‰ã€Futureä»£è¡¨çš„æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„è®¡ç®—ä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡è¿˜æ²¡æ‰§è¡Œå®Œæˆï¼Œæˆ‘ä»¬æ˜¯æ‹¿ä¸åˆ°å¼‚æ­¥ä»»åŠ¡çš„ç»“æœ</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs awk">import <span class="hljs-string">&#x27;package:http/http.dart&#x27;</span> as http;<br><br>void main() &#123;<br>  var url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>;<br>  <span class="hljs-regexp">//</span>è°ƒç”¨ get å‡½æ•°è¯·æ±‚ url, è¿”å›ä¸€ä¸ªå°è£…äº† http è¯·æ±‚ä»»åŠ¡çš„ future å¯¹è±¡<br>  Future fTask = http.get(Uri.parse(url));<br>  <span class="hljs-regexp">//</span>æ‰“å° future å¯¹è±¡<br>  print(fTask);<br>  <br>  <span class="hljs-regexp">//</span> å‘ future å¯¹è±¡æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œå¤„ç†è¯·æ±‚ç»“æœ<br>  fTask.then((response) =&gt; &#123;<br>    print(<span class="hljs-string">&#x27;Response status: $&#123;response.statusCode&#125;&#x27;</span>)<br>  &#125;);<br>  <span class="hljs-regexp">//</span> æ‰“å° main å‡½æ•°ç»“æŸæ ‡è®°<br>  print(<span class="hljs-string">&#x27;main end...&#x27;</span>);<br>&#125;<br><br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br>Instance of <span class="hljs-string">&#x27;Future&lt;Response&gt;&#x27;</span><br>main end...<br>Response status: <span class="hljs-number">200</span><br><br>Process finished with <span class="hljs-keyword">exit</span> code <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼š</p><p>1ã€é¦–å…ˆæ‰“å°äº† fTask ï¼Œè¾“å‡ºè¡¨ç¤º fTask æ˜¯ä¸€ä¸ª Future å¯¹è±¡ï¼Œå°†æ¥ä¼šè¿”å›ä¸€ä¸ªå« Response çš„ç»“æœå¯¹è±¡</p><p>2ã€æ¥ä¸‹æ¥æ‰“å°äº† main endâ€¦ ï¼Œè€Œä¸æ˜¯å…ˆè¾“å‡º http çš„è¯·æ±‚çŠ¶æ€ç </p><p>3ã€æœ€åæ‰“å°äº† http çš„è¯·æ±‚çŠ¶æ€ç ï¼šResponse status: 200 ï¼Œç„¶åè¿›ç¨‹ä¹Ÿé€€å‡ºäº†</p><p>ä¸Šé¢è¿™æ®µç¨‹åºåœ¨æ‰“å°äº† main endâ€¦ æ—¶è¿›ç¨‹å¹¶æ²¡æœ‰é€€å‡ºï¼Œè€Œæ˜¯ç­‰åˆ°æ‰“å°äº† http çš„è¯·æ±‚çŠ¶æ€ç ï¼šResponse status: 200 æ‰é€€å‡ºï¼Œè¿™ä¹ŸéªŒè¯äº†æˆ‘ä»¬å‰é¢ä¸€ä¸ªè§‚ç‚¹ï¼š <strong>Dart çš„å¼‚æ­¥æœºåˆ¶å¹¶ä¸æ¶‰åŠçº¿ç¨‹çš„åˆ‡æ¢ï¼Œä»…ä»…æ˜¯ç”±æˆ‘ä»¬çš„ç¼–ç¨‹è¯­è¨€å»æ§åˆ¶ï¼Œæ‰€ä»¥å®ƒçš„æ‰§è¡Œæ•ˆç‡éå¸¸é«˜</strong></p><h4 id="12-1-2ã€await-å’Œ-async"><a href="#12-1-2ã€await-å’Œ-async" class="headerlink" title="12.1.2ã€await å’Œ async"></a>12.1.2ã€await å’Œ async</h4><p>ä¸Šè¿°è¿™ä¸ªä¾‹å­å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼š</p><p>1ã€éœ€è¦æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œå¦‚æœæˆ‘æœ‰å¤šå±‚å›è°ƒï¼Œå¯è¯»æ€§å°±ä¼šå˜å¾—å¾ˆå·®</p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ await å’Œ async æœºåˆ¶æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œè€Œä¸”å®ƒè¿˜èƒ½è®©æˆ‘ä»¬ä½¿ç”¨åŒæ­¥çš„æ–¹å¼å†™å‡ºå¼‚æ­¥çš„ä»£ç </p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">void</span> main() <span class="hljs-keyword">async</span>&#123;<br>  <span class="hljs-keyword">var</span> url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>;<br>  <span class="hljs-comment">//è¯·æ±‚ url, é€šè¿‡ awaitï¼Œç­‰å¾… future å¼‚æ­¥è®¡ç®—ä»»åŠ¡çš„ç»“æœï¼Œæ‰§è¡ŒæˆåŠŸå°±ç›´æ¥è¿”å›ç»“æœ</span><br>  <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(<span class="hljs-built_in">Uri</span>.parse(url));<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Response status: <span class="hljs-subst">$&#123;response.statusCode&#125;</span>&#x27;</span>);<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;main end...&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>Response status: <span class="hljs-number">200</span><br>main end...<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼š</p><p>1ã€è¾“å‡ºç»“æœçš„é¡ºåºï¼Œè·Ÿæˆ‘ä»¬ä¹¦å†™ä»£ç çš„é¡ºåºä¸€è‡´</p><p>2ã€é€šè¿‡æ ‡è®° async å’Œ await å…³é”®å­—ï¼Œæˆ‘ä»¬çš„å¼‚æ­¥ä»£ç ï¼Œçœ‹èµ·æ¥è·ŸåŒæ­¥ä»£ç æ²¡ä»€ä¹ˆåŒºåˆ«ï¼š</p><ul><li>async å…³é”®å­—çš„ä½œç”¨å°±æ˜¯æ ‡è®°ä¸€ä¸ªå‡½æ•°æ˜¯å¼‚æ­¥å‡½æ•°</li><li>await å…³é”®å­—çš„ä½œç”¨æ˜¯ç­‰å¾…å¼‚æ­¥ä»»åŠ¡çš„ç»“æœ</li></ul><p><strong>æ³¨æ„ï¼š</strong> await å…³é”®å­—åªèƒ½åœ¨æ ‡è®°äº†async çš„å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><h4 id="12-1-3ã€Stream"><a href="#12-1-3ã€Stream" class="headerlink" title="12.1.3ã€Stream"></a>12.1.3ã€Stream</h4><p>1ï¼‰ã€Stream ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥çš„æ•°æ®åºåˆ—ï¼Œæ˜¯ä¸€ç§å¼‚æ­¥è¯»å–æµå¼æ•°æ®çš„æ–¹å¼ï¼Œä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><blockquote><p>await for (æ•°æ®ç±»å‹ å˜é‡ in streamç±»å‹å˜é‡) {</p><p>&#x2F;&#x2F; å¤„ç†æ•°æ®</p><p>}</p></blockquote><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function">Future&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">sumStream</span>(<span class="hljs-params">Stream&lt;<span class="hljs-built_in">int</span>&gt; stream</span>) <span class="hljs-keyword">async</span></span> &#123;<br>  <span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">await</span> <span class="hljs-keyword">for</span> (final <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> stream) &#123;<br>    sum += <span class="hljs-keyword">value</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> sum;<br>&#125;<br><br><span class="hljs-comment">//async* è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªéœ€è¿”å› Stream ç±»å‹å‚æ•°çš„å¼‚æ­¥å‡½æ•°</span><br><span class="hljs-function">Stream&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">countStream</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> to</span>) <span class="hljs-keyword">async</span>*</span> &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= to; i++) &#123;<br>    <span class="hljs-comment">//yield åœ¨è¿™é‡Œè¡¨ç¤ºæš‚æ—¶è®©å‡ºèµ„æºè®©å…¶ä»–ä»£ç æ‰§è¡Œ</span><br>    <span class="hljs-keyword">yield</span> i;<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>() <span class="hljs-keyword">async</span></span>&#123;<br>  <span class="hljs-keyword">var</span> stream = countStream(<span class="hljs-number">10</span>);<br>  <span class="hljs-comment">//é€šè¿‡ await ç­‰å¾… sumStream è®¡ç®—è¿”å›ç»“æœ</span><br>  <span class="hljs-keyword">var</span> sum = <span class="hljs-keyword">await</span> sumStream(stream);<br>  print(sum);<br>&#125;<br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br><span class="hljs-number">55</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç æˆ‘ä»¬ä½¿ç”¨ await æ ‡è®° for in å¾ªç¯è¯­å¥ï¼Œå¾ªç¯è¯»å– stream ç±»å‹å˜é‡ä¸­çš„æ•°æ®ï¼Œä»£ç ä¹¦å†™ä¹Ÿå¾ˆç›´è§‚ï¼Œè·ŸåŒæ­¥ä»£ç çš„ä¹¦å†™æ–¹å¼ä¸€è‡´</p><h2 id="åä¸‰ã€Dart-Isolate-å¹¶å‘"><a href="#åä¸‰ã€Dart-Isolate-å¹¶å‘" class="headerlink" title="åä¸‰ã€Dart Isolate å¹¶å‘"></a>åä¸‰ã€Dart Isolate å¹¶å‘</h2><p>æˆ‘ä»¬çŸ¥é“ä¸€èˆ¬å¸¸ç”¨çš„å¹¶å‘æœºåˆ¶ä¸»è¦åŒ…æ‹¬è¿›ç¨‹ï¼Œçº¿ç¨‹ä»¥åŠåé¢çš„åç¨‹ã€‚ä½†æ˜¯ Dart ä¸ä¸€èˆ¬ ğŸ˜‚ ï¼ŒDart ä¸­çš„å¹¶å‘æœºåˆ¶ä¸»è¦æ˜¯ç”± Isolate å»å®ç°çš„ã€‚æ‰€è°“ Isolate ï¼Œä½ å¯ä»¥ç®€å•çš„ç†è§£æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹</p><p>Isolate çš„ç‰¹ç‚¹ï¼š</p><p>1ã€Isolate ä¹‹é—´ä¸èƒ½å…±äº«å†…å­˜</p><p>2ã€Isolate ä¹‹é—´åªèƒ½é€šè¿‡æ¶ˆæ¯é€šè®¯</p><p>ä¸èƒ½å…±äº«å†…å­˜ï¼Œæ„å‘³ç€ä½ ä¸èƒ½åƒçº¿ç¨‹é‚£æ ·é€šè¿‡å˜é‡å…±äº«çŠ¶æ€ï¼Œæ¯ä¸ª Isolate éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ï¼Œè¿™æ ·è®¾è®¡çš„å¥½å¤„<strong>å°±æ˜¯ä½ ä¸ç”¨åŠ é”ï¼Œä¹Ÿèƒ½å®‰å…¨çš„æ“ä½œè‡ªå·±çš„æ•°æ®</strong></p><p>è¿™é‡Œä½ æ˜¯å¦ä¼šæœ‰ä¸€ä¸ªç–‘é—®ğŸ¤”ï¸ï¼šå‰é¢æˆ‘ä»¬é€šè¿‡ Dart å¼‚æ­¥æœºåˆ¶å¤„ç†äº†æ¥å£è¯·æ±‚ä¹‹ç±»çš„å¼‚æ­¥ä»»åŠ¡ï¼Œä¸æ˜¯ä¹Ÿæœ‰ç±»ä¼¼å¹¶å‘çš„æ•ˆæœå—ï¼Ÿé‚£ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥ Isolate å¹¶å‘æœºåˆ¶å‘¢ï¼Ÿ</p><p>ç­”ï¼šå‰é¢æˆ‘ä»¬è®²çš„å¼‚æ­¥æœºåˆ¶ä½ å¯ä»¥ç†è§£ä¸ºä¸€ç§å‡å¼‚æ­¥ï¼Œå› ä¸ºå®ƒå®é™…è¿˜æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å»å¤„ç†å„ç§ç½‘ç»œ IOï¼Œè¿™äº›ç½‘ç»œ IO å¹¶ä¸æ€ä¹ˆæ¶ˆè€— CPU èµ„æºï¼Œåªæ˜¯éœ€è¦å¤§é‡çš„ç­‰å¾…è¯·æ±‚å“åº”çš„æ—¶é—´ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç­‰å¾…çš„ç©ºé—²æ—¶é—´å»å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œè¿™å°±æ˜¯å¼‚æ­¥æœºåˆ¶èƒ½å¤Ÿæé«˜æ€§èƒ½çš„åŸå› ã€‚è¿™ç§æœºåˆ¶å…¶å®å’Œ Android Handler æœºåˆ¶æœ‰ç‚¹ç±»ä¼¼ã€‚è€Œç°åœ¨å¦‚æœä½ æœ‰ä¸€ä¸ªè®¡ç®—é‡éå¸¸å¤§çš„ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šä½ éœ€è¦å¯¹è§†é¢‘è¿›è¡Œæ ¼å¼åŒ–å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™è¿™äº› CPU å¯†é›†å‹è®¡ç®—å°±ä¼šé˜»å¡ä½ çš„çº¿ç¨‹ï¼Œå¯¼è‡´å…¶ä»–ä»»åŠ¡éƒ½æ‰§è¡Œä¸äº†ã€‚å› æ­¤é’ˆå¯¹è¿™ç§æ¯”è¾ƒè€— CPU èµ„æºçš„ä»»åŠ¡ï¼Œæœ€å¥½åˆ›å»ºä¸€ä¸ª Isolate å»å¤„ç†ï¼Œé¿å…é˜»å¡ä¸» Isolate ï¼ˆä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹ï¼‰ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥åˆ©ç”¨è®¾å¤‡çš„å¤šæ ¸ç‰¹æ€§</p><h3 id="13-1ã€Isolate-åŸºæœ¬ç”¨æ³•"><a href="#13-1ã€Isolate-åŸºæœ¬ç”¨æ³•" class="headerlink" title="13.1ã€Isolate åŸºæœ¬ç”¨æ³•"></a>13.1ã€Isolate åŸºæœ¬ç”¨æ³•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> å¯¼å…¥ isolate åŒ…<br>import <span class="hljs-string">&#x27;dart:isolate&#x27;</span>;<br><br>void main() &#123;<br>  <span class="hljs-regexp">//</span> é€šè¿‡ Isolate.spawn é™æ€å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Isolate<br>  <span class="hljs-regexp">//</span> spawn æ˜¯ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ³›å‹å‚æ•°ï¼Œè¡¨ç¤º Isolate å…¥å£å‡½æ•°æ¥å—çš„å‚æ•°ç±»å‹<br>  <span class="hljs-regexp">//</span> è¿™é‡Œ spawn çš„æ³›å‹å‚æ•°æ˜¯ Stringï¼ŒsubTask æ˜¯å…¥å£å‡½æ•°<br>  <span class="hljs-regexp">//</span> ç¬¬äºŒä¸ªå‚æ•°è·Ÿæ³›å‹å‚æ•°ç±»å‹ä¸€è‡´ï¼Œè¡¨ç¤ºä¼ é€’ç»™å…¥å£å‡½æ•°çš„å‚æ•°ï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²<br>  Isolate.spawn&lt;String&gt;(subTask, <span class="hljs-string">&quot;my task&quot;</span>);<br>  print(<span class="hljs-string">&quot;main func end.&quot;</span>);<br>&#125;<br><br><span class="hljs-regexp">//</span> Isolate å…¥å£å‡½æ•°å®šä¹‰ï¼Œæ¥å—ä¸€ä¸ª String å‚æ•°<br><span class="hljs-regexp">//</span> å…¥å£å‡½æ•°çš„å‚æ•°ç±»å‹ç”±ä¸Šé¢çš„ spawn çš„æ³›å‹å‚æ•°å†³å®š<br>void subTask(String msg)&#123;<br>  print(<span class="hljs-string">&quot;subTask receive: $msg &quot;</span>);<br>&#125;<br><br><span class="hljs-regexp">//</span>æ‰“å°ç»“æœ<br>main <span class="hljs-keyword">func</span> end.<br>subTask receive: my task<br></code></pre></td></tr></table></figure><p>é€šè¿‡è¾“å‡ºï¼Œæˆ‘ä»¬å‘ç°å…ˆæ‰“å°äº† main func endï¼Œç„¶åï¼Œæ‰§è¡Œæ–°å»º Isolate çš„å…¥å£å‡½æ•°ã€‚ å¦‚æœæˆ‘ä»¬æƒ³è®©ä»£ç æ‰§è¡Œé¡ºåºï¼Œè·Ÿæˆ‘ä»¬ä¹¦å†™é¡ºåºä¸€è‡´çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ await å…³é”®å­—ç­‰å¾… Isolate æ‰§è¡Œç»“æŸï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// å¯¼å…¥ isolate åŒ…</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:isolate&#x27;</span>;<br><br><span class="hljs-comment">// ä½¿ç”¨ async å…³é”®å­—å°† main å‡½æ•°æ ‡è®°ä¸ºä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¿™æ ·æ‰èƒ½ä½¿ç”¨ await å…³é”®å­—</span><br><span class="hljs-keyword">void</span> main() <span class="hljs-keyword">async</span>&#123;<br>  <span class="hljs-comment">// ä½¿ç”¨ await å…³é”®å­—ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆ</span><br>  <span class="hljs-keyword">await</span> Isolate.spawn&lt;<span class="hljs-built_in">String</span>&gt;(subTask, <span class="hljs-string">&quot;my task&quot;</span>);<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;main func end.&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// Isolate å…¥å£å‡½æ•°å®šä¹‰ï¼Œæ¥å—ä¸€ä¸ª String å‚æ•°</span><br><span class="hljs-keyword">void</span> subTask(<span class="hljs-built_in">String</span> msg)&#123;<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;subTask receive: <span class="hljs-subst">$msg</span> &quot;</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>subTask receive: my task <br>main func end.<br></code></pre></td></tr></table></figure><h3 id="13-2ã€Isolate-æ¶ˆæ¯é€šè®¯"><a href="#13-2ã€Isolate-æ¶ˆæ¯é€šè®¯" class="headerlink" title="13.2ã€Isolate æ¶ˆæ¯é€šè®¯"></a>13.2ã€Isolate æ¶ˆæ¯é€šè®¯</h3><p>å¤šä¸ª Isolate ä¹‹é—´åªèƒ½é€šè¿‡æ¶ˆæ¯è¿›è¡Œé€šè®¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å»è·å–ä¸€ä¸ª Isolate è¿”å›çš„ç»“æœå‘¢ï¼Ÿ</p><p>ç­”ï¼šä¸»è¦é€šè¿‡ ReceivePort å’Œ SendPort ä¸¤ä¸ªç±»å¤„ç†æ¶ˆæ¯é€šè®¯</p><p>1ï¼‰ã€ReceivePort è´Ÿè´£æ¥æ”¶ SendPort å‘é€çš„æ¶ˆæ¯ï¼Œ SendPort å’Œ ReceivePort æ˜¯æ†ç»‘å…³ç³»ï¼Œ SendPort æ˜¯ç”± ReceivePort åˆ›å»ºçš„</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span>() <span class="hljs-keyword">async</span></span>&#123;<br>   <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª ReceivePort ç”¨äºæ¥æ”¶æ¶ˆæ¯</span><br>   <span class="hljs-keyword">var</span> recv = ReceivePort();<br><br>   <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª Isolateï¼Œæ³›å‹å‚æ•°ä¸º SendPortï¼Œå…¥å£å‡½æ•°ä¸º subTask</span><br>   <span class="hljs-comment">// subTask å…¥å£å‡½æ•°çš„å‚æ•°ä¸º SendPort ç±»å‹ï¼Œå› æ­¤ spawn ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¼ å…¥ recv çš„ sendPort å¯¹è±¡</span><br>   Isolate.spawn&lt;SendPort&gt;(subTask, recv.sendPort);<br><br>   <span class="hljs-comment">// ä½¿ç”¨ await ç­‰å¾… recv çš„ç¬¬ä¸€æ¡æ¶ˆæ¯</span><br>   <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> recv.first;<br>   print(<span class="hljs-string">&quot;receiveï¼š$result&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// Isolate å…¥å£å‡½æ•°å®šä¹‰ï¼Œæ¥æ”¶ä¸€ä¸ª SendPort å¯¹è±¡ä½œä¸ºå‚æ•°</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">subTask</span>(<span class="hljs-params">SendPort port</span>)</span>&#123;<br>  <span class="hljs-comment">// ä½¿ç”¨ SendPort å‘é€ä¸€æ¡å­—ç¬¦ä¸²æ¶ˆæ¯</span><br>  port.send(<span class="hljs-string">&quot;subTask Result&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">//æ‰“å°ç»“æœ</span><br>receiveï¼šsubTask Result<br></code></pre></td></tr></table></figure><h2 id="åå››ã€æ€»ç»“"><a href="#åå››ã€æ€»ç»“" class="headerlink" title="åå››ã€æ€»ç»“"></a>åå››ã€æ€»ç»“</h2><p>æœ¬ç¯‡ä¼°è®¡æ˜¯æˆ‘å†™è¿‡æœ€é•¿çš„æ–‡ç« äº†ï¼Œæ¯”ä¹‹å‰å†™ Kotlin å…¥é—¨é‚£ä¸€ç¯‡è¿˜è¦é•¿ğŸ˜‚ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™ç¯‡æ–‡ç« å‡ ä¹æ¶µç›–äº† Dart çš„æ‰€æœ‰è¯­æ³•çŸ¥è¯†ï¼Œå¦‚æœä½ èƒ½å¤Ÿè€å¿ƒçœ‹åˆ°è¿™é‡Œï¼Œå¹¶æ‰‹æ•²é‡Œé¢çš„ç¤ºä¾‹ï¼Œç›¸ä¿¡ä½ ä¸€å®šæ”¶è·å¾ˆå¤§ã€‚å¦‚æœè§‰å¾—æˆ‘å†™çš„è¿˜ä¸é”™ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ¤</p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>åŸºç¡€æ‰“å¥½äº†ï¼Œä¸‹ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ­£å¼è¿›å…¥åˆ° Flutter çš„å­¦ä¹ äº†ï¼Œæ•¬è¯·æœŸå¾…å§ğŸ˜„</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://juejin.cn/post/7075337131974983688#heading-72">ä¸€æ–‡æå®šDartè¯­æ³•</a></p><p><a href="https://www.tizi365.com/archives/165.html">Dartè¯­è¨€æ•™ç¨‹</a></p><p><a href="https://juejin.cn/post/7028710779171897351#heading-7">Flutter åŸºç¡€ | Dart è¯­æ³•</a></p><p><a href="https://dart.cn/tutorials/language">Dart å®˜æ–¹æ•™ç¨‹</a></p><blockquote><p><strong>ä½ çš„ç‚¹èµï¼Œè¯„è®ºï¼Œæ˜¯å¯¹æˆ‘å·¨å¤§çš„é¼“åŠ±ï¼</strong></p><p>æ¬¢è¿å…³æ³¨æˆ‘çš„<strong>å…¬ä¼—å·ï¼š</strong> <a href="http://m6z.cn/6jwi7b"><strong>sweetying</strong></a> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p><p>å¦‚æœ<strong>æœ‰é—®é¢˜</strong>ï¼Œå…¬ä¼—å·å†…æœ‰åŠ æˆ‘å¾®ä¿¡çš„å…¥å£ï¼Œåœ¨æŠ€æœ¯å­¦ä¹ ã€ä¸ªäººæˆé•¿çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬ä¸€èµ·å‰è¿›ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutterç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šè¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªFlutteråº”ç”¨</title>
    <link href="/2022/09/05/Flutter%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E8%BF%90%E8%A1%8C%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AAFlutter%E5%BA%94%E7%94%A8/"/>
    <url>/2022/09/05/Flutter%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E8%BF%90%E8%A1%8C%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AAFlutter%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sweetying520/picgo/master/img/202210101643858.png" alt="tiger_bg"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Flutter æ˜¯ Google æ¨å‡ºå¹¶å¼€æºçš„ç§»åŠ¨ç«¯å¼€å‘æ¡†æ¶ï¼Œä¸»æ‰“è·¨å¹³å°ã€é«˜ä¿çœŸã€é«˜æ€§èƒ½ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ Dart è¯­è¨€å¼€å‘ Appï¼Œä¸€å¥—ä»£ç å¯ä»¥åŒæ—¶è¿è¡Œåœ¨ iOS å’Œ Androidå¹³å°ã€‚</p><p>2018 å¹´ 12 æœˆï¼ŒGoogle å‘å¸ƒ Flutter 1.0ã€‚ä»é‚£æ—¶å€™å¼€å§‹ï¼ŒFlutter ä»¥è¿…é›·ä¸åŠæ©è€³ä¹‹åŠ¿ï¼Œè¿…é€Ÿå´›èµ·ï¼Œå¹¶ç¨³å›ºäº†å…¶åœ¨å¸‚åœºä¸Šçš„åœ°ä½ã€‚</p><p>å¦‚ä»Šï¼ŒFlutter ç›¸å…³èµ„æºå’Œç¤¾åŒºéƒ½å·²æ¸æ¸æˆç†Ÿï¼Œå¾—åˆ°äº†å¾ˆå¤šå¼€å‘è€…å’Œä¼ä¸šçš„ä¿¡ä»»ã€‚å¦å¤–å› ä¸ºå…¬å¸ä¸šåŠ¡æ‰©å¼ ï¼Œå‡†å¤‡å¼•å…¥ Flutter å¼€å‘é¡¹ç›®ï¼Œæ‰€ä»¥å­¦ä¹  Flutter åŠ¿åœ¨å¿…è¡Œï¼Œä¸‹é¢å°±è·Ÿç€æˆ‘çš„è„šæ­¥è¿›è¡Œ Flutter çš„å­¦ä¹ å§</p><h2 id="ä¸€ã€Flutter-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#ä¸€ã€Flutter-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="ä¸€ã€Flutter å¼€å‘ç¯å¢ƒæ­å»º"></a>ä¸€ã€Flutter å¼€å‘ç¯å¢ƒæ­å»º</h2><p><strong>æ³¨æ„</strong>ï¼šæœ¬æ–‡ä»¥ macOS ç³»ç»Ÿä¸ºä¾‹</p><h3 id="1ï¼‰ã€ä½¿ç”¨é•œåƒ"><a href="#1ï¼‰ã€ä½¿ç”¨é•œåƒ" class="headerlink" title="1ï¼‰ã€ä½¿ç”¨é•œåƒ"></a>1ï¼‰ã€ä½¿ç”¨é•œåƒ</h3><p>ç”±äºåœ¨å›½å†…è®¿é—® Flutter æœ‰æ—¶å¯èƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œ Flutter å®˜æ–¹ä¸ºä¸­å›½å¼€å‘è€…æ­å»ºäº†ä¸´æ—¶é•œåƒï¼Œæˆ‘ä»¬åªéœ€å°†å¦‚ä¸‹ç¯å¢ƒå˜é‡é…ç½®åˆ°ç”¨æˆ·ç¯å¢ƒå˜é‡ä¸­å³å¯ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">export</span> PUB_HOSTED_URL=https:<span class="hljs-comment">//pub.flutter-io.cn</span><br><span class="hljs-keyword">export</span> FLUTTER_STORAGE_BASE_URL=https:<span class="hljs-comment">//storage.flutter-io.cn</span><br></code></pre></td></tr></table></figure><h3 id="2ï¼‰ã€ä¸‹è½½-Flutter-SDK"><a href="#2ï¼‰ã€ä¸‹è½½-Flutter-SDK" class="headerlink" title="2ï¼‰ã€ä¸‹è½½ Flutter SDK"></a>2ï¼‰ã€ä¸‹è½½ Flutter SDK</h3><p>æ–¹å¼æœ‰ 2ï¼š</p><h4 id="1ã€ç›´æ¥å»-Flutter-å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…å³å¯"><a href="#1ã€ç›´æ¥å»-Flutter-å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…å³å¯" class="headerlink" title="1ã€ç›´æ¥å» Flutter å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…å³å¯"></a>1ã€ç›´æ¥å» Flutter å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…å³å¯</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://docs.flutter.dev/development/tools/sdk/releases?tab=macos#macos">https://docs.flutter.dev/development/tools/sdk/releases?tab=macos#macos</a></p><h4 id="2ã€é€šè¿‡-git-clone-ä¸‹è½½"><a href="#2ã€é€šè¿‡-git-clone-ä¸‹è½½" class="headerlink" title="2ã€é€šè¿‡ git clone ä¸‹è½½"></a>2ã€é€šè¿‡ git clone ä¸‹è½½</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">git clone -b master https:<span class="hljs-comment">//github.com/flutter/flutter.git</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°è¿™å¥å‘½ä»¤ä¼šå°†ä»“åº“å…‹éš†ä¸‹æ¥å¹¶åˆ‡æ¢åˆ° master åˆ†æ”¯</p><p><strong>æ³¨æ„</strong>ï¼šä¸Šè¿°ä¸¤ç§æ–¹å¼ç¬¬ä¸€ç§éœ€è¦è§£å‹ï¼Œç¬¬äºŒç§ä¸éœ€è¦ï¼Œæ€»ä¹‹å°†å®ƒä»¬æ”¾ç½®åˆ°æ‚¨æƒ³æ”¾çš„åœ°æ–¹å³å¯</p><h3 id="3ï¼‰ã€é…ç½®-Flutter-ç¯å¢ƒå˜é‡"><a href="#3ï¼‰ã€é…ç½®-Flutter-ç¯å¢ƒå˜é‡" class="headerlink" title="3ï¼‰ã€é…ç½® Flutter ç¯å¢ƒå˜é‡"></a>3ï¼‰ã€é…ç½® Flutter ç¯å¢ƒå˜é‡</h3><p>å°† Flutter ç¯å¢ƒå˜é‡é…ç½®åˆ°ä½ çš„ç”¨æˆ·ç¯å¢ƒï¼Œä¸‹é¢ä»¥æˆ‘ä¸ªäººçš„ä¸ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dart"># flutter ç¯å¢ƒå˜é‡<br><span class="hljs-keyword">export</span> FLUTTER_HOME=/Users/zhouying/Library/flutter<br><span class="hljs-keyword">export</span> PATH=$&#123;PATH&#125;:$&#123;FLUTTER_HOME&#125;/bin<br></code></pre></td></tr></table></figure><h3 id="4ï¼‰ã€éªŒè¯-Flutter-æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#4ï¼‰ã€éªŒè¯-Flutter-æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="4ï¼‰ã€éªŒè¯ Flutter æ˜¯å¦å®‰è£…æˆåŠŸ"></a>4ï¼‰ã€éªŒè¯ Flutter æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>é€šè¿‡<code>flutter doctor</code>æ¥æ£€æŸ¥æ˜¯å¦éœ€è¦å®‰è£…å…¶å®ƒä¾èµ–é¡¹æ¥å®Œæˆå®‰è£…ï¼Œè¿™ä¸ªè¿‡ç¨‹ç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦è€—è´¹ä¸€æ®µæ—¶é—´ï¼Œä¸‹æ¬¡å°±ä¼šå¿«å¾ˆå¤š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3928cb6c9f4d443fa22245f7ba2a8d58~tplv-k3u1fbpfcp-watermark.image" alt="202201261529488.png"></p><p>ä»ä¸Šé¢è¯Šæ–­ä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p><p>1ã€Flutter ç‰ˆæœ¬å’Œæ¸ é“å· ok</p><p>2ã€Flutterè¿è¡Œæ‰€éœ€çš„ Android å·¥å…·é“¾ ok</p><p>3ã€Flutter æ‰€éœ€çš„ iOS å¼€å‘ç¯å¢ƒä¸ ok</p><p>4ã€Chrome ok</p><p>5ã€AndroidStudio ok</p><p>6ã€è¿æ¥çš„è®¾å¤‡ ok</p><p>7ã€HTTP ä¸»æœºå¯ç”¨æ€§ ok</p><h3 id="5ï¼‰ã€ä¸€äº›é¢å¤–å¸¸ç”¨çš„-Flutter-å‘½ä»¤"><a href="#5ï¼‰ã€ä¸€äº›é¢å¤–å¸¸ç”¨çš„-Flutter-å‘½ä»¤" class="headerlink" title="5ï¼‰ã€ä¸€äº›é¢å¤–å¸¸ç”¨çš„ Flutter å‘½ä»¤"></a>5ï¼‰ã€ä¸€äº›é¢å¤–å¸¸ç”¨çš„ Flutter å‘½ä»¤</h3><p>1ã€é€šè¿‡<code>flutter --help</code>æŸ¥çœ‹æ‰€å®‰è£… Flutter éœ€è¦çš„å¸®åŠ©</p><p>2ã€é€šè¿‡<code>flutter --version</code>æŸ¥çœ‹ Flutter ç‰ˆæœ¬</p><p>3ã€é€šè¿‡<code>flutter devices</code>æŸ¥çœ‹å½“å‰å¯ç”¨çš„è®¾å¤‡</p><p>4ã€é€šè¿‡<code>flutter run</code>è¿è¡Œå¯åŠ¨ä½ çš„åº”ç”¨ç¨‹åº</p><h2 id="äºŒã€å¹³å°è®¾ç½®"><a href="#äºŒã€å¹³å°è®¾ç½®" class="headerlink" title="äºŒã€å¹³å°è®¾ç½®"></a>äºŒã€å¹³å°è®¾ç½®</h2><p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œä¸»è¦è®² Android å¹³å°</p><h3 id="1ï¼‰ã€å®‰è£…å¹¶é…ç½®ä½ çš„-Android-Studio"><a href="#1ï¼‰ã€å®‰è£…å¹¶é…ç½®ä½ çš„-Android-Studio" class="headerlink" title="1ï¼‰ã€å®‰è£…å¹¶é…ç½®ä½ çš„ Android Studio"></a>1ï¼‰ã€å®‰è£…å¹¶é…ç½®ä½ çš„ Android Studio</h3><p>1ã€ä¸‹è½½å¹¶å®‰è£… <a href="https://developer.android.com/studio/index.html">Android Studio</a>.</p><p><strong>æ³¨æ„</strong>ï¼šAndroid Studio éœ€è¦ 3.0 æˆ–æ›´é«˜ç‰ˆæœ¬</p><p>2ã€å¯åŠ¨ Android Studioï¼Œç„¶åæ‰§è¡Œ Android Studio å®‰è£…å‘å¯¼ï¼Œè¿™å°†å®‰è£…æœ€æ–°çš„ Android SDKï¼ŒAndroid SDK å¹³å°å·¥å…·å’Œ Android SDK æ„å»ºå·¥å…·ï¼Œè¿™æ˜¯ Flutter ä¸º Android å¼€å‘æ—¶æ‰€å¿…éœ€çš„</p><h3 id="2ï¼‰ã€è®¾ç½®ä½ çš„-Android-è®¾å¤‡"><a href="#2ï¼‰ã€è®¾ç½®ä½ çš„-Android-è®¾å¤‡" class="headerlink" title="2ï¼‰ã€è®¾ç½®ä½ çš„ Android è®¾å¤‡"></a>2ï¼‰ã€è®¾ç½®ä½ çš„ Android è®¾å¤‡</h3><p><strong>æ³¨æ„</strong>ï¼šAndroid è®¾å¤‡éœ€è¦ Android 4.1ï¼ˆAPI level 16ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬</p><h4 id="1ã€çœŸæœº"><a href="#1ã€çœŸæœº" class="headerlink" title="1ã€çœŸæœº"></a>1ã€çœŸæœº</h4><blockquote><p>1ã€åœ¨æ‚¨çš„è®¾å¤‡ä¸Šå¯ç”¨ <strong>å¼€å‘äººå‘˜é€‰é¡¹</strong> å’Œ <strong>USBè°ƒè¯•</strong></p><p>2ã€ä½¿ç”¨USBå°†æ‰‹æœºæ’å…¥ç”µè„‘ã€‚å¦‚æœæ‚¨çš„è®¾å¤‡å‡ºç°æç¤ºï¼Œè¯·æˆæƒæ‚¨çš„è®¡ç®—æœºè®¿é—®æ‚¨çš„è®¾å¤‡</p><p>3ã€åœ¨ç»ˆç«¯ä¸­ï¼Œè¿è¡Œ <code>flutter devices</code> å‘½ä»¤ä»¥éªŒè¯Flutterè¯†åˆ«æ‚¨è¿æ¥çš„Androidè®¾å¤‡</p><p>4ã€è¿è¡Œå¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åº <code>flutter run</code></p></blockquote><h4 id="2ã€æ¨¡æ‹Ÿå™¨"><a href="#2ã€æ¨¡æ‹Ÿå™¨" class="headerlink" title="2ã€æ¨¡æ‹Ÿå™¨"></a>2ã€æ¨¡æ‹Ÿå™¨</h4><blockquote><p>1ã€åœ¨æ‚¨çš„æœºå™¨ä¸Šå¯ç”¨ <a href="https://developer.android.com/studio/run/emulator-acceleration.html">VM acceleration</a> </p><p>2ã€å¯åŠ¨ <strong>Android Studio&gt;Tools&gt;Android&gt;AVD Manager</strong> å¹¶é€‰æ‹© <strong>Create Virtual Device</strong></p><p>3ã€é€‰æ‹©ä¸€ä¸ªè®¾å¤‡å¹¶é€‰æ‹© <strong>Next</strong></p><p>4ã€ä¸ºè¦æ¨¡æ‹Ÿçš„ Android ç‰ˆæœ¬é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªç³»ç»Ÿæ˜ åƒï¼Œç„¶åé€‰æ‹© <strong>Next</strong>. å»ºè®®ä½¿ç”¨ <em>x86</em> æˆ– <em>x86_64</em> image </p><p>5ã€åœ¨ Emulated Performanceä¸‹, é€‰æ‹© <strong>Hardware - GLES 2.0</strong> ä»¥å¯ç”¨ <a href="https://developer.android.com/studio/run/emulator-acceleration.html">ç¡¬ä»¶åŠ é€Ÿ</a></p><p>6ã€éªŒè¯AVDé…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç„¶åé€‰æ‹© <strong>Finish</strong></p><p>7ã€åœ¨ Android Virtual Device Manager ä¸­, ç‚¹å‡»å·¥å…·æ çš„ <strong>Run</strong>ã€‚æ¨¡æ‹Ÿå™¨å¯åŠ¨å¹¶æ˜¾ç¤ºæ‰€é€‰æ“ä½œç³»ç»Ÿç‰ˆæœ¬æˆ–è®¾å¤‡çš„å¯åŠ¨ç”»é¢.</p><p>8ã€è¿è¡Œ <code>flutter run</code> å¯åŠ¨æ‚¨çš„è®¾å¤‡. è¿æ¥çš„è®¾å¤‡åæ˜¯ <code>Android SDK built for &lt;platform&gt;</code>ï¼Œå…¶ä¸­ <em>platform</em> æ˜¯èŠ¯ç‰‡ç³»åˆ—ï¼Œå¦‚ x86</p></blockquote><h3 id="3ï¼‰ã€åœ¨-AndroidStudio-ä¸Šå®‰è£…-Flutter-å’Œ-dart-æ’ä»¶"><a href="#3ï¼‰ã€åœ¨-AndroidStudio-ä¸Šå®‰è£…-Flutter-å’Œ-dart-æ’ä»¶" class="headerlink" title="3ï¼‰ã€åœ¨ AndroidStudio ä¸Šå®‰è£… Flutter å’Œ dart æ’ä»¶"></a>3ï¼‰ã€åœ¨ AndroidStudio ä¸Šå®‰è£… Flutter å’Œ dart æ’ä»¶</h3><ul><li><code>Flutter</code>æ’ä»¶ï¼š æ”¯æŒFlutterå¼€å‘å·¥ä½œæµ (è¿è¡Œã€è°ƒè¯•ã€çƒ­é‡è½½ç­‰)</li><li><code>Dart</code>æ’ä»¶ï¼š æä¾›ä»£ç åˆ†æ (è¾“å…¥ä»£ç æ—¶è¿›è¡ŒéªŒè¯ã€ä»£ç è¡¥å…¨ç­‰)</li></ul><p>è¦å®‰è£…è¿™äº›:</p><ol><li>å¯åŠ¨ Android Studio</li><li>æ‰“å¼€æ’ä»¶é¦–é€‰é¡¹ <strong>Preferences &gt; Plugins</strong></li><li>é€‰æ‹© <strong>Browse repositoriesâ€¦</strong>, é€‰æ‹© Flutter æ’ä»¶å¹¶ç‚¹å‡» <code>install</code></li><li>é‡å¯ Android Studio åæ’ä»¶ç”Ÿæ•ˆ</li></ol><p><strong>æ³¨æ„</strong>ï¼šå½“ä½ å®‰è£… Flutter æ’ä»¶åï¼Œä¼šè‡ªåŠ¨å®‰è£… Dart æ’ä»¶</p><h2 id="ä¸‰ã€åˆ›å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª-Flutter-åº”ç”¨"><a href="#ä¸‰ã€åˆ›å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª-Flutter-åº”ç”¨" class="headerlink" title="ä¸‰ã€åˆ›å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª Flutter åº”ç”¨"></a>ä¸‰ã€åˆ›å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª Flutter åº”ç”¨</h2><h3 id="1ï¼‰ã€åˆ›å»ºæ–°åº”ç”¨"><a href="#1ï¼‰ã€åˆ›å»ºæ–°åº”ç”¨" class="headerlink" title="1ï¼‰ã€åˆ›å»ºæ–°åº”ç”¨"></a>1ï¼‰ã€åˆ›å»ºæ–°åº”ç”¨</h3><p>1ã€é€‰æ‹© <strong>File &gt; New Flutter Project</strong></p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c6360e622964e47b26eb78d4d6324ae~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220112220116827" style="zoom:50%;" /><p>2ã€é€‰æ‹© <strong>Flutter</strong> ä½œä¸º project ç±»å‹, ç„¶åç‚¹å‡» Next</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bdad331ea4c45119cdb82840793e3b1~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220112220159083" style="zoom:50%;" /><p>3ã€è¾“å…¥é¡¹ç›®åç§° (å¦‚ <code>myapp</code>)ï¼Œç„¶åç‚¹å‡» Next</p><p><strong>æ³¨æ„</strong>ï¼šProject name å­—æ¯å¿…é¡»éƒ½æ˜¯å°å†™ï¼Œå¦åˆ™ä¼šæç¤ºä½ ä¸èƒ½åˆ›å»ºåº”ç”¨</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5de438253adc4fb9ba333b9e0fd2f522~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220112220309504" style="zoom:50%;" /><p>4ã€ç‚¹å‡» <strong>Finish</strong></p><p>5ã€ç­‰å¾… Android Studio å®‰è£… SDK å¹¶åˆ›å»ºé¡¹ç›®</p><h3 id="2ï¼‰ã€Flutter-å·¥ç¨‹ç»“æ„è§£æ"><a href="#2ï¼‰ã€Flutter-å·¥ç¨‹ç»“æ„è§£æ" class="headerlink" title="2ï¼‰ã€Flutter å·¥ç¨‹ç»“æ„è§£æ"></a>2ï¼‰ã€Flutter å·¥ç¨‹ç»“æ„è§£æ</h3><p>å¦‚ä¸‹å›¾å°±æ˜¯æˆ‘ä»¬åˆ›å»ºå¥½çš„ä¸€ä¸ª Flutter é¡¹ç›®å·¥ç¨‹ç»“æ„ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c06e013ea6f54f208fd3e355f98639aa~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220113145050564" style="zoom:50%;" /><p>ç®€å•çš„è§£é‡Šä¸€ä¸‹ï¼š</p><table><thead><tr><th>æ–‡ä»¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>myapp</td><td>é¡¹ç›®å·¥ç¨‹åç§°</td></tr><tr><td>.dart_tool</td><td>Dart å·¥å…·å¼€å‘ç›¸å…³é…ç½®</td></tr><tr><td>.idea</td><td>Flutter å¼€å‘ç¯å¢ƒé…ç½®</td></tr><tr><td>android</td><td>Android å¹³å°ç›¸å…³ä»£ç </td></tr><tr><td>ios</td><td>iOS å¹³å°ç›¸å…³ä»£ç </td></tr><tr><td>lib</td><td>è·¨å¹³å°ä»£ç ï¼Œä¹Ÿæ˜¯ Flutter é¡¹ç›®ä¸»è¦å…³å¿ƒçš„ç›®å½•</td></tr><tr><td>test</td><td>æµ‹è¯•ç›¸å…³ä»£ç </td></tr><tr><td>.gitignore</td><td>git æäº¤ä»“åº“å¿½ç•¥æ–‡ä»¶</td></tr><tr><td>.metadata</td><td>å¯¹å½“å‰å·¥ç¨‹çš„é…ç½®è®°å½•</td></tr><tr><td>.packages</td><td>ä»¥ lib ç»“å°¾çš„æ–‡ä»¶ç»å¯¹è·¯å¾„</td></tr><tr><td>analysis_options.yaml</td><td>é™æ€åˆ†ææ–‡ä»¶</td></tr><tr><td>myapp.iml</td><td>å·¥ç¨‹æ–‡ä»¶çš„æœ¬åœ°è·¯å¾„é…ç½®</td></tr><tr><td>pubspec.lock</td><td>å½“å‰é¡¹ç›®ä¾èµ–æ‰€ç”Ÿæˆçš„æ–‡ä»¶</td></tr><tr><td>pubspec.yaml</td><td>é¡¹ç›®æè¿°æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®çš„æè¿°ä¿¡æ¯ä»¥åŠæ‰€éœ€è¦çš„ä¾èµ–çš„åº“</td></tr><tr><td>README.md</td><td>é¡¹ç›®æè¿°ä¿¡æ¯</td></tr><tr><td>External Libraries</td><td>Android å¼€å‘åŒ…ï¼Œèµ„æºæ–‡ä»¶ã€Dart SDK æ–‡ä»¶ã€å·¥ç¨‹å¼€å‘ä¾èµ–æ’ä»¶ API ç­‰ç­‰</td></tr><tr><td>Scratches and Consoles</td><td>åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶å’Œç¼“å†²åŒºåˆ—è¡¨</td></tr></tbody></table><h3 id="3ï¼‰ã€è¿è¡Œåº”ç”¨"><a href="#3ï¼‰ã€è¿è¡Œåº”ç”¨" class="headerlink" title="3ï¼‰ã€è¿è¡Œåº”ç”¨"></a>3ï¼‰ã€è¿è¡Œåº”ç”¨</h3><p>1ã€å®šä½åˆ° Android Studio å·¥å…·æ ï¼Œé€‰æ‹©è¿è¡Œåº”ç”¨çš„ Android è®¾å¤‡ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯çœŸæœº</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a722418fe13f4df8880c3d82dc8df874~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20220112220957667"></p><p>2ã€åœ¨å·¥å…·æ ä¸­ç‚¹å‡» <strong>Run å›¾æ ‡</strong>ï¼Œæˆ–è€…è°ƒç”¨èœå•é¡¹ <strong>Run &gt; Run</strong>ï¼Œæˆ–è€…ä½¿ç”¨<code>flutter run</code> å‘½ä»¤æ¥è¿è¡Œä½ çš„åº”ç”¨</p><p>3ã€å¦‚æœä¸€åˆ‡æ­£å¸¸, ä½ åº”è¯¥åœ¨ä½ çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šä¼šçœ‹åˆ°å¯åŠ¨çš„åº”ç”¨ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/baf1a7e5dc404bc3b3835c3025801cf9~tplv-k3u1fbpfcp-watermark.image" alt="202201261600172.png"></p><h3 id="4ï¼‰ã€ä½“éªŒçƒ­é‡è½½"><a href="#4ï¼‰ã€ä½“éªŒçƒ­é‡è½½" class="headerlink" title="4ï¼‰ã€ä½“éªŒçƒ­é‡è½½"></a>4ï¼‰ã€ä½“éªŒçƒ­é‡è½½</h3><blockquote><p>Flutter å¯ä»¥é€šè¿‡ <em>çƒ­é‡è½½ï¼ˆhot reloadï¼‰</em> å®ç°å¿«é€Ÿæ•ˆæœé¢„è§ˆï¼Œçƒ­é‡è½½å°±æ˜¯æ— éœ€é‡å¯åº”ç”¨ç¨‹åºå°±èƒ½å®æ—¶åŠ è½½ä¿®æ”¹åçš„ä»£ç ï¼Œå¹¶ä¸”ä¸ä¼šä¸¢å¤±çŠ¶æ€ï¼ˆè¿™å’Œ webpack çš„çƒ­é‡è½½æ˜¯ä¸€æ ·çš„ï¼‰ã€‚ç®€å•çš„å¯¹ä»£ç è¿›è¡Œæ›´æ”¹ï¼Œç„¶åå‘Šè¯‰ IDE æˆ–å‘½ä»¤è¡Œå·¥å…·ä½ éœ€è¦é‡æ–°åŠ è½½ï¼ˆç‚¹å‡»reloadæŒ‰é’®ï¼‰ï¼Œä½ å°±ä¼šåœ¨ä½ çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šçœ‹åˆ°æ›´æ”¹</p></blockquote><p>1ã€å°†å­—ç¬¦ä¸²<code>You have pushed the button this many times:&#39;</code> æ›´æ”¹ä¸º<code>You have clicked the button this many times:&#39;</code></p><p>2ã€ä¸è¦æŒ‰<code>Stop</code>æŒ‰é’®ï¼Œè®©ä½ çš„åº”ç”¨ç»§ç»­è¿è¡Œ</p><p>3ã€è¦æŸ¥çœ‹ä½ çš„æ›´æ”¹, åªéœ€è°ƒç”¨<code>command + s</code>ï¼Œæˆ–ç‚¹å‡» <strong>çƒ­é‡è½½æŒ‰é’®</strong> (å¸¦æœ‰é—ªç”µâš¡ï¸å›¾æ ‡çš„æŒ‰é’®) å³å¯</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c2690d17dd74f8eae0da8e6ff48b409~tplv-k3u1fbpfcp-watermark.image" alt="202201261539133.png"></p><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« è®²çš„ä¸€äº›é‡ç‚¹å†…å®¹ï¼š</p><p>1ã€Flutter å¼€å‘ç¯å¢ƒæ­å»º</p><p>2ã€Flutter åœ¨ Android å¹³å°ç›¸å…³è®¾ç½®</p><p>3ã€åˆ›å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª Flutter é¡¹ç›®ï¼ŒFlutter å·¥ç¨‹ç»“æ„è§£æ</p><p>å¥½äº†ï¼Œæœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ© ğŸ¤ </p><p><strong>æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« </strong></p><h3 id="ä¸‹ç¯‡é¢„å‘Š"><a href="#ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="ä¸‹ç¯‡é¢„å‘Š"></a>ä¸‹ç¯‡é¢„å‘Š</h3><p>å› ä¸º Flutter æ˜¯åŸºäº Dart è¯­è¨€å¼€å‘çš„ï¼Œæ‰€ä»¥ä¸‹ç¯‡æ–‡ç« æˆ‘ä¼šè®² Dart è¯­è¨€ç›¸å…³çš„å†…å®¹ï¼Œæ•¬è¯·æœŸå¾…å§ğŸ˜„</p><h3 id="å‚è€ƒå’Œæ¨è"><a href="#å‚è€ƒå’Œæ¨è" class="headerlink" title="å‚è€ƒå’Œæ¨è"></a>å‚è€ƒå’Œæ¨è</h3><p><a href="https://flutterchina.club/setup-macos/">Flutter å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://book.flutterchina.club/chapter1/flutter_intro.html">ã€ŠFlutterå®æˆ˜Â·ç¬¬äºŒç‰ˆã€‹- Preview</a></p><blockquote><p>å…¨æ–‡åˆ°æ­¤ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºå’Œè½¬å‘ï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›</p></blockquote><blockquote><p>æ¬¢è¿å…³æ³¨æˆ‘çš„ <strong>å…¬ ä¼— å·</strong>ï¼Œå¾®ä¿¡æœç´¢ <strong>sweetying</strong> ï¼Œæ–‡ç« æ›´æ–°å¯ç¬¬ä¸€æ—¶é—´æ”¶åˆ°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
